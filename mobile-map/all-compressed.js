Ext.define("Ext.event.ListenerStack",{currentOrder:"current",length:0,constructor:function(){this.listeners={before:[],current:[],after:[]};this.lateBindingMap={};return this},add:function(a,b,c,d){var e=this.lateBindingMap,f=this.getAll(d),g=f.length,h;if(typeof a=="string"&&b.isIdentifiable)if(h=b.getId(),g=e[h])if(g[a])return!1;else g[a]=!0;else e[h]=g={},g[a]=!0;else if(g>0)for(;g--;)if(e=f[g],e.fn===a&&e.scope===b)return e.options=c,!1;e=this.create(a,b,c,d);c&&c.prepend?(delete c.prepend,f.unshift(e)):
f.push(e);this.length++;return!0},getAt:function(a,b){return this.getAll(b)[a]},getAll:function(a){if(!a)a=this.currentOrder;return this.listeners[a]},count:function(a){return this.getAll(a).length},create:function(a,b,c,d){return{stack:this,fn:a,firingFn:!1,boundFn:!1,isLateBinding:typeof a=="string",scope:b,options:c||{},order:d}},remove:function(a,b,c){var d=this.getAll(c),e=d.length,c=!1,f=this.lateBindingMap,g;if(e>0)for(;e--;)if(g=d[e],g.fn===a&&g.scope===b){d.splice(e,1);c=!0;this.length--;
typeof a=="string"&&b.isIdentifiable&&(b=b.getId(),f[b]&&f[b][a]&&delete f[b][a]);break}return c}});
Ext.define("Ext.event.Controller",{isFiring:!1,listenerStack:null,constructor:function(a){this.firingListeners=[];this.firingArguments=[];this.setInfo(a);return this},setInfo:function(a){this.info=a},getInfo:function(){return this.info},setListenerStacks:function(a){this.listenerStacks=a},fire:function(a,b){var c=this.listenerStacks,d=this.firingListeners,e=this.firingArguments,f=d.push,g=c.length,h,i,j,k=!1,l=!1,m;d.length=0;b&&(b.order!=="after"?k=!0:l=!0);if(g===1)c=c[0].listeners,h=c.before,i=
c.current,j=c.after,h.length>0&&f.apply(d,h),k&&f.call(d,b),i.length>0&&f.apply(d,i),l&&f.call(d,b),j.length>0&&f.apply(d,j);else{for(m=0;m<g;m++)h=c[m].listeners.before,h.length>0&&f.apply(d,h);k&&f.call(d,b);for(m=0;m<g;m++)i=c[m].listeners.current,i.length>0&&f.apply(d,i);l&&f.call(d,b);for(m=0;m<g;m++)j=c[m].listeners.after,j.length>0&&f.apply(d,j)}if(d.length===0)return this;a||(a=[]);e.length=0;e.push.apply(e,a);e.push(null,this);this.doFire();return this},doFire:function(){var a=this.firingListeners,
b=this.firingArguments,c=b.length-2,d,e,f,g,h,i,j,k,l;this.isStopped=this.isPaused=this.isPausing=!1;this.isFiring=!0;for(d=0,e=a.length;d<e;d++){f=a[d];g=f.options;h=f.fn;i=f.firingFn;j=f.boundFn;k=f.isLateBinding;l=f.scope;k&&j&&j!==l[h]&&(i=j=!1);if(!j){if(k){if(j=l[h],!j)continue}else j=h;f.boundFn=j}if(!i)i=j,g.buffer&&(i=Ext.Function.createBuffered(i,g.buffer,l)),g.delay&&(i=Ext.Function.createDelayed(i,g.delay,l)),f.firingFn=i;b[c]=g;j=b;g.args&&(j=g.args.concat(j));g.single===!0&&f.stack.remove(h,
l,f.order);f=i.apply(l,j);f===!1&&this.stop();if(this.isStopped)break;if(this.isPausing){this.isPaused=!0;a.splice(0,d+1);return}}this.isFiring=!1;this.listenerStacks=null;a.length=0;b.length=0;this.connectingController=null},connect:function(a){this.connectingController=a},resume:function(){var a=this.connectingController;this.isPausing=!1;if(this.isPaused&&this.firingListeners.length>0)this.isPaused=!1,this.doFire();a&&a.resume();return this},isInterrupted:function(){return this.isStopped||this.isPaused},
stop:function(){var a=this.connectingController;this.isStopped=!0;if(a)this.connectingController=null,a.stop();this.isFiring=!1;this.listenerStacks=null;return this},pause:function(){var a=this.connectingController;this.isPausing=!0;a&&a.pause();return this}});
Ext.define("Ext.event.publisher.Publisher",{targetType:"",idSelectorRegex:/^#([\w\-]+)$/i,constructor:function(){var a=this.handledEvents,b,c,d,e;b=this.handledEventsMap={};for(c=0,d=a.length;c<d;c++)e=a[c],b[e]=!0;this.subscribers={};return this},handles:function(a){var b=this.handledEventsMap;return!!b[a]||!!b["*"]||a==="*"},getHandledEvents:function(){return this.handledEvents},setDispatcher:function(a){this.dispatcher=a},subscribe:function(){return!1},unsubscribe:function(){return!1},unsubscribeAll:function(){delete this.subscribers;
this.subscribers={};return this},notify:function(){return!1},getTargetType:function(){return this.targetType},dispatch:function(a,b,c){this.dispatcher.doDispatchEvent(this.targetType,a,b,c)}});
Ext.define("Ext.event.Event",{alternateClassName:"Ext.EventObject",isStopped:!1,set:function(a,b){if(arguments.length===1&&typeof a!="string"){var c=a;for(a in c)c.hasOwnProperty(a)&&(this[a]=c[a])}else this[a]=c[a]},stopEvent:function(){return this.stopPropagation()},stopPropagation:function(){this.isStopped=!0;return this}});
Ext.define("Ext.util.Point",{radianToDegreeConstant:180/Math.PI,statics:{fromEvent:function(a){var b=a.changedTouches;return this.fromTouch(b&&b.length>0?b[0]:a)},fromTouch:function(a){return new this(a.pageX,a.pageY)},from:function(a){return!a?new this(0,0):!(a instanceof this)?new this(a.x,a.y):a}},constructor:function(a,b){typeof a=="undefined"&&(a=0);typeof b=="undefined"&&(b=0);this.x=a;this.y=b;return this},clone:function(){return new this.self(this.x,this.y)},copy:function(){return this.clone.apply(this,
arguments)},copyFrom:function(a){this.x=a.x;this.y=a.y;return this},toString:function(){return"Point["+this.x+","+this.y+"]"},equals:function(a){return this.x===a.x&&this.y===a.y},isCloseTo:function(a,b){if(typeof b=="number")b={x:b},b.y=b.x;var c=a.x,d=a.y,e=b.x,f=b.y;return this.x<=c+e&&this.x>=c-e&&this.y<=d+f&&this.y>=d-f},isWithin:function(){return this.isCloseTo.apply(this,arguments)},translate:function(a,b){this.x+=a;this.y+=b;return this},roundedEquals:function(a){return Math.round(this.x)===
Math.round(a.x)&&Math.round(this.y)===Math.round(a.y)},getDistanceTo:function(a){var b=this.x-a.x,a=this.y-a.y;return Math.sqrt(b*b+a*a)},getAngleTo:function(a){return Math.atan2(this.y-a.y,this.x-a.x)*this.radianToDegreeConstant}});
Ext.define("Ext.ComponentManager",{alternateClassName:"Ext.ComponentMgr",singleton:!0,constructor:function(){var a={};this.all={map:a,getArray:function(){var b=[],c;for(c in a)b.push(a[c]);return b}};this.map=a},register:function(a){a.getId();this.map[a.getId()]=a},unregister:function(a){delete this.map[a.getId()]},isRegistered:function(a){return this.map[a]!==void 0},get:function(a){return this.map[a]},create:function(a,b){return a.isComponent?a:Ext.isString(a)?Ext.createByAlias("widget."+a):Ext.createByAlias("widget."+
(a.xtype||b),a)},registerType:Ext.emptyFn});Ext.define("Ext.behavior.Behavior",{constructor:function(a){this.component=a;a.on("destroy","onComponentDestroy",this)},onComponentDestroy:Ext.emptyFn});
Ext.define("Ext.fx.State",{isAnimatable:{"background-color":!0,"background-image":!0,"background-position":!0,"border-bottom-color":!0,"border-bottom-width":!0,"border-color":!0,"border-left-color":!0,"border-left-width":!0,"border-right-color":!0,"border-right-width":!0,"border-spacing":!0,"border-top-color":!0,"border-top-width":!0,"border-width":!0,bottom:!0,color:!0,crop:!0,"font-size":!0,"font-weight":!0,height:!0,left:!0,"letter-spacing":!0,"line-height":!0,"margin-bottom":!0,"margin-left":!0,
"margin-right":!0,"margin-top":!0,"max-height":!0,"max-width":!0,"min-height":!0,"min-width":!0,opacity:!0,"outline-color":!0,"outline-offset":!0,"outline-width":!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,right:!0,"text-indent":!0,"text-shadow":!0,top:!0,"vertical-align":!0,visibility:!0,width:!0,"word-spacing":!0,"z-index":!0,zoom:!0,transform:!0},constructor:function(a){this.data={};this.set(a)},setConfig:function(a){this.set(a);return this},setRaw:function(a){this.data=
a;return this},clear:function(){return this.setRaw({})},setTransform:function(a,b){var c=this.data,d=Ext.isArray(b),e=c.transform,f;if(!e)e=c.transform={translateX:0,translateY:0,translateZ:0,scaleX:1,scaleY:1,scaleZ:1,rotate:0,rotateX:0,rotateY:0,rotateZ:0,skewX:0,skewY:0};if(typeof a=="string")switch(a){case "translate":if(d){c=b.length;if(c==0)break;e.translateX=b[0];if(c==1)break;e.translateY=b[1];if(c==2)break;e.translateZ=b[2]}else e.translateX=b;break;case "rotate":if(d){c=b.length;if(c==0)break;
e.rotateX=b[0];if(c==1)break;e.rotateY=b[1];if(c==2)break;e.rotateZ=b[2]}else e.rotate=b;break;case "scale":if(d){c=b.length;if(c==0)break;e.scaleX=b[0];if(c==1)break;e.scaleY=b[1];if(c==2)break;e.scaleZ=b[2]}else e.scaleX=b,e.scaleY=b;break;case "skew":if(d){c=b.length;if(c==0)break;e.skewX=b[0];if(c==1)break;e.skewY=b[1]}else e.skewX=b;break;default:e[a]=b}else for(f in a)a.hasOwnProperty(f)&&(b=a[f],this.setTransform(f,b))},set:function(a,b){var c=this.data,d;if(typeof a!="string")for(d in a)b=
a[d],d==="transform"?this.setTransform(b):c[d]=b;else a==="transform"?this.setTransform(b):c[a]=b;return this},unset:function(a){var b=this.data;b.hasOwnProperty(a)&&delete b[a];return this},getData:function(){return this.data}});
Ext.define("Ext.mixin.Mixin",{onClassExtended:function(a,b){var c=b.mixinConfig,d,e,f;if(c){if(d=a.superclass.mixinConfig)c=b.mixinConfig=Ext.merge({},d,c);b.mixinId=c.id;e=c.beforeHooks;f=c.hooks||c.afterHooks;(e||f)&&Ext.Function.interceptBefore(b,"onClassMixedIn",function(a){var b=this.prototype;e&&Ext.Object.each(e,function(c,d){a.override(d,function(){if(b[c].apply(this,arguments)!==!1)return this.callOverridden(arguments)})});f&&Ext.Object.each(f,function(c,d){a.override(d,function(){var a=
this.callOverridden(arguments);b[c].apply(this,arguments);return a})})})}}});
Ext.define("Ext.XTemplateParser",{constructor:function(a){Ext.apply(this,a)},doTpl:Ext.emptyFn,parse:function(a){var b=a.length,c={elseif:"elif"},d=this.topRe,e=this.actionsRe,f,g,h,i,j,k,l;this.level=0;this.stack=g=[];for(f=0;f<b;f=l){d.lastIndex=f;h=d.exec(a);if(!h){this.doText(a.substring(f,b));break}k=h.index;l=d.lastIndex;f<k&&this.doText(a.substring(f,k));if(h[1])l=a.indexOf("%}",k+2),this.doEval(a.substring(k+2,l)),l+=2;else if(h[2])l=a.indexOf("]}",k+2),this.doExpr(a.substring(k+2,l)),l+=
2;else if(h[3])this.doTag(h[3]);else if(h[4]){for(k=null;(i=e.exec(h[4]))!==null;)if(f=i[2]||i[3])f=Ext.String.htmlDecode(f),i=i[1],i=c[i]||i,k=k||{},j=k[i],typeof j=="string"?k[i]=[j,f]:j?k[i].push(f):k[i]=f;k?k["if"]?(this.doIf(k["if"],k),g.push({type:"if"})):k["switch"]?(this.doSwitch(k["switch"],k),g.push({type:"switch"})):k["case"]?this.doCase(k["case"],k):k.elif?this.doElseIf(k.elif,k):k["for"]?(++this.level,this.doFor(k["for"],k),g.push({type:"for",actions:k})):k.exec&&(this.doExec(k.exec,
k),g.push({type:"exec",actions:k})):this.elseRe.test(h[4])?this.doElse():this.defaultRe.test(h[4])?this.doDefault():(this.doTpl(),g.push({type:"tpl"}))}else h=g.pop(),this.doEnd(h.type,h.actions),h.type=="for"&&--this.level}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]*)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|exec|switch|case|eval)\s*\=\s*(?:(?:["]([^"]*)["])|(?:[']([^']*)[']))\s*/g,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/});
Ext.define("Ext.util.Filter",{isFilter:!0,config:{property:null,value:null,filterFn:Ext.emptyFn,anyMatch:!1,exactMatch:!1,caseSensitive:!1,root:null,id:void 0,scope:null},applyId:function(a){a||(this.getProperty()&&(a=this.getProperty()+"-"+String(this.getValue())),a||(a=Ext.id(null,"ext-filter-")));return a},constructor:function(a){this.initConfig(a)},applyFilterFn:function(a){if(a===Ext.emptyFn){if(a=this.getInitialConfig("filter"))return a;a=this.getValue();return!this.getProperty()&&!a&&a!==0?
Ext.emptyFn:this.createFilterFn()}return a},createFilterFn:function(){var a=this,b=a.createValueMatcher();return function(c){var d=a.getRoot(),e=a.getProperty();d&&(c=c[d]);return b.test(c[e])}},createValueMatcher:function(){var a=this.getValue(),b=this.getAnyMatch(),c=this.getExactMatch(),d=this.getCaseSensitive(),e=Ext.String.escapeRegex;if(a===null||a===void 0||!a.exec)a=String(a),b===!0?a=e(a):(a="^"+e(a),c===!0&&(a+="$")),a=RegExp(a,d?"":"i");return a}});
Ext.define("Ext.util.Sorter",{isSorter:!0,config:{property:null,sorterFn:null,root:null,transform:null,direction:"ASC",id:void 0},constructor:function(a){this.initConfig(a)},applyId:function(a){a||(a=this.getProperty())||(a=Ext.id(null,"ext-sorter-"));return a},createSortFunction:function(a){var b=this,c=b.getDirection().toUpperCase()=="DESC"?-1:1;return function(d,e){return c*a.call(b,d,e)}},defaultSortFn:function(a,b){var c=this._transform,d=this._root,e;e=this._property;d!==null&&(a=a[d],b=b[d]);
d=a[e];e=b[e];c&&(d=c(d),e=c(e));return d>e?1:d<e?-1:0},updateDirection:function(){this.updateSortFn()},updateSortFn:function(){this.sort=this.createSortFunction(this.getSorterFn()||this.defaultSortFn)},toggle:function(){this.setDirection(Ext.String.toggle(this.getDirection(),"ASC","DESC"))}});
Ext.define("Ext.fx.easing.Abstract",{config:{startTime:0,startValue:0},isEasing:!0,isEnded:!1,constructor:function(a){this.initConfig(a);return this},applyStartTime:function(a){a||(a=Ext.Date.now());return a},updateStartTime:function(){this.reset()},reset:function(){this.isEnded=!1},getValue:Ext.emptyFn});
Ext.define("Ext.fx.easing.Momentum",{extend:"Ext.fx.easing.Abstract",config:{acceleration:30,friction:0,startVelocity:0},alpha:0,updateFriction:function(a){this.theta=a=Math.log(1-a/10);this.alpha=a/this.getAcceleration()},updateStartVelocity:function(a){this.velocity=a*this.getAcceleration()},updateAcceleration:function(a){this.velocity=this.getStartVelocity()*a;this.alpha=this.theta/a},getValue:function(){return this.getStartValue()-this.velocity*(1-this.getFrictionFactor())/this.theta},getFrictionFactor:function(){var a=
Ext.Date.now()-this.getStartTime();return Math.exp(a*this.alpha)},getVelocity:function(){return this.getFrictionFactor()*this.velocity}});Ext.define("Ext.fx.easing.Bounce",{extend:"Ext.fx.easing.Abstract",config:{springTension:0.3,acceleration:30,startVelocity:0},getValue:function(){var a=(Ext.Date.now()-this.getStartTime())/this.getAcceleration();a*=Math.pow(Math.E,-this.getSpringTension()*a);return this.getStartValue()+this.getStartVelocity()*a}});
Ext.define("Ext.event.Dispatcher",{requires:["Ext.event.ListenerStack","Ext.event.Controller"],statics:{getInstance:function(){if(!this.instance)this.instance=new this;return this.instance},setInstance:function(a){this.instance=a;return this}},config:{publishers:{}},wildcard:"*",constructor:function(a){this.listenerStacks={};this.activePublishers={};this.publishersCache={};this.noActivePublishers=[];this.controller=null;this.initConfig(a);return this},getListenerStack:function(a,b,c,d){var e=this.listenerStacks,
f=e[a],d=Boolean(d);if(!f)if(d)e[a]=f={};else return null;f=f[b];if(!f)if(d)e[a][b]=f={};else return null;a=f[c];if(!a)if(d)f[c]=a=new Ext.event.ListenerStack;else return null;return a},getController:function(a,b,c,d){var e=this.controller,a={targetType:a,target:b,eventName:c};if(!e)this.controller=e=new Ext.event.Controller;e.isFiring&&(e=new Ext.event.Controller);e.setInfo(a);d&&e!==d&&e.connect(d);return e},applyPublishers:function(a){var b,c;this.publishersCache={};for(b in a)a.hasOwnProperty(b)&&
(c=a[b],this.registerPublisher(c));return a},registerPublisher:function(a){var b=this.activePublishers,c=a.getTargetType(),d=b[c];d||(b[c]=d=[]);d.push(a);a.setDispatcher(this);return this},getCachedActivePublishers:function(a,b){var c;return(c=this.publishersCache[a])&&(c=c[b])?c:null},cacheActivePublishers:function(a,b,c){var d=this.publishersCache;d[a]||(d[a]={});return d[a][b]=c},getActivePublishers:function(a,b){var c,d,e,f,g;if(c=this.getCachedActivePublishers(a,b))return c;if(d=this.activePublishers[a]){c=
[];for(e=0,f=d.length;e<f;e++)g=d[e],g.handles(b)&&c.push(g)}else c=this.noActivePublishers;return this.cacheActivePublishers(a,b,c)},hasListener:function(a,b,c){return(a=this.getListenerStack(a,b,c))?a.count()>0:!1},addListener:function(a,b,c){var d=this.getActivePublishers(a,c),e=d.length,f;if(e>0)for(f=0;f<e;f++)d[f].subscribe(b,c);return this.doAddListener.apply(this,arguments)},doAddListener:function(a,b,c,d,e,f,g){return this.getListenerStack(a,b,c,!0).add(d,e,f,g)},removeListener:function(a,
b,c){var d=this.getActivePublishers(a,c),e=d.length,f;if(e>0)for(f=0;f<e;f++)d[f].unsubscribe(b,c);return this.doRemoveListener.apply(this,arguments)},doRemoveListener:function(a,b,c,d,e,f){a=this.getListenerStack(a,b,c);return a===null?!1:a.remove(d,e,f)},clearListeners:function(a,b,c){var d=this.listenerStacks,e=arguments.length,f,g,h;if(e===3)d[a]&&d[a][b]&&(this.removeListener(a,b,c),delete d[a][b][c]);else if(e===2){if(d[a]&&(f=d[a][b])){for(c in f)if(f.hasOwnProperty(c)){g=this.getActivePublishers(a,
c);for(h=0,e=g.length;h<e;h++)g[h].unsubscribe(b,c,!0)}delete d[a][b]}}else if(e===1){g=this.activePublishers[a];for(h=0,e=g.length;h<e;h++)g[h].unsubscribeAll();delete d[a]}else{g=this.activePublishers;for(a in g)if(g.hasOwnProperty(a)){d=g[a];for(h=0,e=d.length;h<e;h++)d[h].unsubscribeAll()}delete this.listenerStacks;this.listenerStacks={}}return this},dispatchEvent:function(a,b,c){var d=this.getActivePublishers(a,c),e=d.length,f;if(e>0)for(f=0;f<e;f++)d[f].notify(b,c);return this.doDispatchEvent.apply(this,
arguments)},doDispatchEvent:function(a,b,c,d,e,f){var g=this.getListenerStack(a,b,c),h=this.getWildcardListenerStacks(a,b,c);if(g===null||g.length==0){if(h.length==0&&!e)return}else h.push(g);a=this.getController(a,b,c,f);a.setListenerStacks(h);a.fire(d,e);return!a.isInterrupted()},getWildcardListenerStacks:function(a,b,c){var d=[],e=this.wildcard,f=b!==e,g;c!==e&&(g=this.getListenerStack(a,b,e))&&d.push(g);f&&(g=this.getListenerStack(a,e,c))&&d.push(g);return d}});
Ext.define("Ext.event.Dom",{extend:"Ext.event.Event",constructor:function(a){var b=a.target,c;if(b&&b.nodeType!==1)b=b.parentNode;(c=a.changedTouches)?(c=c[0],this.pageX=c.pageX,this.pageY=c.pageY):(this.pageX=a.pageX,this.pageY=a.pageY);this.browserEvent=this.event=a;this.target=this.delegatedTarget=b;this.type=a.type;this.timeStamp=this.time=a.timeStamp;if(typeof this.time!="number")this.time=(new Date(this.time)).getTime();return this},stopEvent:function(){this.preventDefault();return this.callParent()},
preventDefault:function(){this.browserEvent.preventDefault()},getPageX:function(){return this.browserEvent.pageX},getPageY:function(){return this.browserEvent.pageY},getXY:function(){if(!this.xy)this.xy=[this.getPageX(),this.getPageY()];return this.xy},getTarget:function(a,b,c){return arguments.length===0?this.delegatedTarget:a?Ext.fly(this.target).findParent(a,b,c):c?Ext.get(this.target):this.target},getTime:function(){return this.time},setDelegatedTarget:function(a){this.delegatedTarget=a},makeUnpreventable:function(){this.browserEvent.preventDefault=
Ext.emptyFn}});
Ext.define("Ext.event.publisher.Dom",{extend:"Ext.event.publisher.Publisher",requires:["Ext.env.Browser","Ext.Element","Ext.event.Dom"],targetType:"element",idOrClassSelectorRegex:/^([#|\.])([\w\-]+)$/,handledEvents:"click,focus,blur,mousemove,mousedown,mouseup,mouseover,mouseout,keyup,keydown,keypress,submit,transitionend,animationstart,animationend".split(","),classNameSplitRegex:/\s+/,SELECTOR_ALL:"*",constructor:function(){var a=this.getHandledEvents(),b={},c,d,e,f;this.doBubbleEventsMap={click:!0,
submit:!0,mousedown:!0,mousemove:!0,mouseup:!0,mouseover:!0,mouseout:!0,transitionend:!0};this.onEvent=Ext.Function.bind(this.onEvent,this);for(c=0,d=a.length;c<d;c++)e=a[c],f=this.getVendorEventName(e),b[f]=e,this.attachListener(f);this.eventNameMap=b;return this.callParent()},getSubscribers:function(a){var b=this.subscribers,c=b[a];c||(c=b[a]={id:{$length:0},className:{$length:0},selector:[],all:0,$length:0});return c},getVendorEventName:function(a){a==="transitionend"?a=Ext.browser.getVendorProperyName("transitionEnd"):
a==="animationstart"?a=Ext.browser.getVendorProperyName("animationStart"):a==="animationend"&&(a=Ext.browser.getVendorProperyName("animationEnd"));return a},attachListener:function(a){document.addEventListener(a,this.onEvent,!this.doesEventBubble(a));return this},removeListener:function(a){document.removeEventListener(a,this.onEvent,!this.doesEventBubble(a));return this},doesEventBubble:function(a){return!!this.doBubbleEventsMap[a]},subscribe:function(a,b){if(!this.handles(b))return!1;var c=a.match(this.idOrClassSelectorRegex),
d=this.getSubscribers(b),e=d.id,f=d.className,g=d.selector;if(c!==null)if(g=c[1],c=c[2],g==="#"){if(e.hasOwnProperty(c))return e[c]++,!0;e[c]=1;e.$length++}else{if(f.hasOwnProperty(c))return f[c]++,!0;f[c]=1;f.$length++}else if(a===this.SELECTOR_ALL)d.all++;else{if(g.hasOwnProperty(a))return g[a]++,!0;g[a]=1;g.push(a)}d.$length++;return!0},unsubscribe:function(a,b,c){if(!this.handles(b))return!1;var d=a.match(this.idOrClassSelectorRegex),b=this.getSubscribers(b),e=b.id,f=b.className,g=b.selector,
c=Boolean(c);if(d!==null)if(a=d[1],d=d[2],a==="#"){if(!e.hasOwnProperty(d)||!c&&--e[d]>0)return!0;delete e[d];e.$length--}else{if(!f.hasOwnProperty(d)||!c&&--f[d]>0)return!0;delete f[d];f.$length--}else if(a===this.SELECTOR_ALL)c?b.all=0:b.all--;else{if(!g.hasOwnProperty(a)||!c&&--g[a]>0)return!0;delete g[a];Ext.Array.remove(g,a)}b.$length--;return!0},getElementTarget:function(a){return a.nodeType!==1&&(a=a.parentNode,!a||a.nodeType!==1)?null:a},getBubblingTargets:function(a){var b=[];if(!a)return b;
do b[b.length]=a,a=a.parentNode;while(a&&a.nodeType===1);return b},dispatch:function(a,b,c){c.push(c[0].target);this.callParent(arguments)},publish:function(a,b,c){var d=this.getSubscribers(a);if(d.$length===0||!this.doPublish(d,a,b,c))d=this.getSubscribers("*"),d.$length>0&&this.doPublish(d,a,b,c);return this},doPublish:function(a,b,c,d){var e=a.id,f=a.className,g=a.selector,h=e.$length>0,i=f.$length>0,j=g.length>0,k=a.all>0,l={},a=[d],m=!1,q=this.classNameSplitRegex,o,p,r,t,s,v;for(o=0,p=c.length;o<
p;o++){s=c[o];d.setDelegatedTarget(s);if(h&&(r=s.id)&&e.hasOwnProperty(r))m=!0,this.dispatch("#"+r,b,a);if(i&&(s=s.className)){v=s.split(q);for(r=0,t=v.length;r<t;r++)s=v[r],l[s]||(l[s]=!0,f.hasOwnProperty(s)&&(m=!0,this.dispatch("."+s,b,a)))}if(d.isStopped)return m}if(k&&!m&&(d.setDelegatedTarget(d.browserEvent.target),m=!0,this.dispatch(this.SELECTOR_ALL,b,a),d.isStopped))return m;if(j)for(r=0,t=c.length;r<t;r++){s=c[r];for(o=0,p=g.length;o<p;o++)if(e=g[o],this.matchesSelector(s,e)&&(d.setDelegatedTarget(s),
m=!0,this.dispatch(e,b,a)),d.isStopped)return m}return m},matchesSelector:function(a,b){return"webkitMatchesSelector"in a?a.webkitMatchesSelector(b):Ext.DomQuery.is(a,b)},onEvent:function(a){var b=this.eventNameMap[a.type];if(b&&this.getSubscribersCount(b)!==0){var c=this.getElementTarget(a.target);c&&(c=this.doesEventBubble(b)?this.getBubblingTargets(c):[c],this.publish(b,c,new Ext.event.Dom(a)))}},getSubscribersCount:function(a){return!this.handles(a)?0:this.getSubscribers(a).$length+this.getSubscribers("*").$length}});
Ext.define("Ext.util.LineSegment",{requires:["Ext.util.Point"],constructor:function(a,b){var c=Ext.util.Point;this.point1=c.from(a);this.point2=c.from(b)},intersects:function(a){var b=this.point1,c=this.point2,d=a.point1,e=a.point2,a=b.x,f=c.x,g=d.x,h=e.x,b=b.y,c=c.y,d=d.y,e=e.y,i=(a-f)*(d-e)-(b-c)*(g-h),j;if(i==0)return null;j=((g-h)*(a*c-b*f)-(a-f)*(g*e-d*h))/i;i=((d-e)*(a*c-b*f)-(b-c)*(g*e-d*h))/i;return j<Math.min(a,f)||j>Math.max(a,f)||j<Math.min(g,h)||j>Math.max(g,h)||i<Math.min(b,c)||i>Math.max(b,
c)||i<Math.min(d,e)||i>Math.max(d,e)?null:new Ext.util.Point(j,i)},toString:function(){return this.point1.toString()+" "+this.point2.toString()}});
Ext.define("Ext.mixin.Traversable",{extend:"Ext.mixin.Mixin",mixinConfig:{id:"traversable"},setParent:function(a){this.parent=a;return this},hasParent:function(){return Boolean(this.parent)},getParent:function(){return this.parent},getAncestors:function(){for(var a=[],b=this.getParent();b;)a.push(b),b=b.getParent();return a},getAncestorIds:function(){for(var a=[],b=this.getParent();b;)a.push(b.getId()),b=b.getParent();return a}});
Ext.define("Ext.XTemplateCompiler",{extend:"Ext.XTemplateParser",useEval:Ext.isGecko,useFormat:!0,propNameRe:/^[\w\d\$]*$/,compile:function(a){a=this.generate(a);return this.useEval?this.evalTpl(a):(new Function("Ext",a))(Ext)},generate:function(a){this.body=["var c0=values, p0=parent, n0=xcount, i0=xindex;\n"];this.funcs=["var fm=Ext.util.Format;"];this.switches=[];this.parse(a);this.funcs.push((this.useEval?"$=":"return")+" function ("+this.fnArgs+") {",this.body.join(""),"}");return this.funcs.join("\n")},
doText:function(a){a=a.replace(this.aposRe,"\\'");a=a.replace(this.newLineRe,"\\n");this.body.push("out.push('",a,"')\n")},doExpr:function(a){this.body.push("out.push(String(",a,"))\n")},doTag:function(a){this.doExpr(this.parseTag(a))},doElse:function(){this.body.push("} else {\n")},doEval:function(a){this.body.push(a,"\n")},doIf:function(a,b){this.propNameRe.test(a)?this.body.push("if (",this.parseTag(a),") {\n"):this.body.push("if (",this.addFn(a),this.callFn,") {\n");b.exec&&this.doExec(b.exec)},
doElseIf:function(a,b){this.propNameRe.test(a)?this.body.push("} else if (",this.parseTag(a),") {\n"):this.body.push("} else if (",this.addFn(a),this.callFn,") {\n");b.exec&&this.doExec(b.exec)},doSwitch:function(a){this.propNameRe.test(a)?this.body.push("switch (",this.parseTag(a),") {\n"):this.body.push("switch (",this.addFn(a),this.callFn,") {\n");this.switches.push(0)},doCase:function(a){var a=Ext.isArray(a)?a:[a],b=this.switches.length-1,c,d;this.switches[b]?this.body.push("break;\n"):this.switches[b]++;
for(d=0,b=a.length;d<b;++d)c=this.intRe.exec(a[d]),a[d]=c?c[1]:"'"+a[d].replace(this.aposRe,"\\'")+"'";this.body.push("case ",a.join(": case "),":\n")},doDefault:function(){var a=this.switches.length-1;this.switches[a]?this.body.push("break;\n"):this.switches[a]++;this.body.push("default:\n")},doEnd:function(a,b){var c=this.level-1;a=="for"?(b.exec&&this.doExec(b.exec),this.body.push("}\n"),this.body.push("parent=p",c,";values=r",c+1,";xcount=n",c,";xindex=i",c,"\n")):(a=="if"||a=="switch")&&this.body.push("}\n")},
doFor:function(a){var a=this.addFn(a),b=this.level;this.body.push("var c",b,"=",a,this.callFn,", a",b,"=Ext.isArray(c",b,"),p",b,"=(parent=c",b-1,"),r",b,"=values\n","for (var i",b,"=0,n",b,"=a",b,"?c",b,".length:(c",b,"?1:0), xcount=n",b,";i",b,"<n"+b+";++i",b,"){\n","values=a",b,"?c",b,"[i",b,"]:c",b,"\n","xindex=i",b,"+1\n")},doExec:function(a){var b="f"+this.funcs.length;this.funcs.push("function "+b+"("+this.fnArgs+") {"," try { with(values) {","  "+a," }} catch(e) {}","}");this.body.push(b+
this.callFn+"\n")},addFn:function(a){var b="f"+this.funcs.length;a==="."?this.funcs.push("function "+b+"("+this.fnArgs+") {"," return values","}"):a===".."?this.funcs.push("function "+b+"("+this.fnArgs+") {"," return parent","}"):this.funcs.push("function "+b+"("+this.fnArgs+") {"," try { with(values) {","  return("+a+")"," }} catch(e) {}","}");return b},parseTag:function(a){var b=this.tagRe.exec(a),c=b[1],a=b[2],d=b[3],b=b[4],c=c=="."?'Ext.Array.indexOf(["string", "number", "boolean"], typeof values) > -1 || Ext.isDate(values) ? values : ""':
c=="#"?"xindex":c.substr(0,7)=="parent."?c:c.indexOf(".")!==-1&&c.indexOf("-")===-1?"values."+c:"values['"+c+"']";b&&(c="("+c+b+")");a&&this.useFormat?(d=d?","+d:"",a.substr(0,5)!="this."?a="fm."+a+"(":a+="("):(d="",a="("+c+" === undefined ? '' : ");return a+c+d+")"},evalTpl:function(a){eval(a);return a},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/([\w-\.\#]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?/},function(){var a=this.prototype;a.fnArgs="out,values,parent,xindex,xcount";
a.callFn=".call(this,"+a.fnArgs+")"});
Ext.define("Ext.util.Sortable",{isSortable:!0,defaultSortDirection:"ASC",requires:["Ext.util.Sorter"],initSortable:function(){var a=this.sorters;this.sorters=Ext.create("Ext.util.AbstractMixedCollection",!1,function(a){return a.id||a.property});a&&this.sorters.addAll(this.decodeSorters(a))},sort:function(a,b,c,d){var e,f;Ext.isArray(a)?(d=c,c=b,f=a):Ext.isObject(a)?(d=c,c=b,f=[a]):Ext.isString(a)&&((e=this.sorters.get(a))?b===void 0?e.toggle():e.setDirection(b):(e={property:a,direction:b},f=[e]));
if(f&&f.length&&(f=this.decodeSorters(f),Ext.isString(c)?c==="prepend"?(a=this.sorters.clone().items,this.sorters.clear(),this.sorters.addAll(f),this.sorters.addAll(a)):this.sorters.addAll(f):(this.sorters.clear(),this.sorters.addAll(f)),d!==!1))this.onBeforeSort(f);if(d!==!1)a=this.sorters.items,a.length&&this.doSort(function(b,c){var d=a[0].sort(b,c),e=a.length,f;for(f=1;f<e;f++)d=d||a[f].sort.call(this,b,c);return d});return a},onBeforeSort:Ext.emptyFn,decodeSorters:function(a){Ext.isArray(a)||
(a=a===void 0?[]:[a]);var b=a.length,c=Ext.util.Sorter,d=this.model?this.model.prototype.fields:null,e,f,g;for(g=0;g<b;g++)if(f=a[g],!(f instanceof c)){Ext.isString(f)&&(f={property:f});Ext.applyIf(f,{root:this.sortRoot,direction:"ASC"});if(f.fn)f.sorterFn=f.fn;typeof f=="function"&&(f={sorterFn:f});if(d&&!f.transform)e=d.get(f.property),f.transform=e?e.sortType:void 0;a[g]=Ext.create("Ext.util.Sorter",f)}return a},getSorters:function(){return this.sorters.items}});
Ext.define("Ext.mixin.Observable",{requires:["Ext.event.Dispatcher"],extend:"Ext.mixin.Mixin",mixins:["Ext.mixin.Identifiable"],mixinConfig:{id:"observable",hooks:{destroy:"destroy"}},alternateClassName:"Ext.util.Observable",isObservable:!0,observableType:"observable",validIdRegex:/^([\w\-]+)$/,observableIdPrefix:"#",listenerOptionsRegex:/^(?:delegate|single|delay|buffer|args|prepend)$/,config:{listeners:null,bubbleEvents:null},constructor:function(a){this.initConfig(a)},applyListeners:function(a){a&&
this.addListener(a)},applyBubbleEvents:function(a){a&&this.enableBubble(a)},getOptimizedObservableId:function(){return this.observableId},getObservableId:function(){if(!this.observableId)this.observableId=this.observableIdPrefix+this.getUniqueId(),this.getObservableId=this.getOptimizedObservableId;return this.observableId},getOptimizedEventDispatcher:function(){return this.eventDispatcher},getEventDispatcher:function(){if(!this.eventDispatcher)this.eventDispatcher=Ext.event.Dispatcher.getInstance(),
this.getEventDispatcher=this.getOptimizedEventDispatcher,this.getListeners(),this.getBubbleEvents();return this.eventDispatcher},getManagedListeners:function(a,b){var c=a.getUniqueId(),d=this.managedListeners;if(!d)this.managedListeners=d={};d[c]||(d[c]={},a.doAddListener("destroy","clearManagedListeners",this,{single:!0,args:[a]}));d[c][b]||(d[c][b]=[]);return d[c][b]},getUsedSelectors:function(){var a=this.usedSelectors;if(!a)a=this.usedSelectors=[],a.$map={};return a},fireEvent:function(a){var b=
Array.prototype.slice.call(arguments,1);return this.doFireEvent(a,b)},fireAction:function(a,b,c,d,e,f){var g=typeof c,h;b===void 0&&(b=[]);g!="undefined"&&(h={fn:c,isLateBinding:g=="string",scope:d||this,options:e||{},order:f});return this.doFireEvent(a,b,h)},doFireEvent:function(a,b,c,d){if(!this.eventFiringSuspended){var e=this.getObservableId();return this.getEventDispatcher().dispatchEvent(this.observableType,e,a,b,c,d)}},doAddListener:function(a,b,c,d,e){var f=c&&c!==this&&c.isIdentifiable,g=
this.getUsedSelectors(),h=g.$map,i=this.getObservableId(),j;d||(d={});c||(c=this);if(d.delegate)j=d.delegate,i+=" "+j;i in h||(h[i]=!0,g.push(i));if((d=this.addDispatcherListener(i,a,b,c,d,e))&&f)a=this.getManagedListeners(c,a),a.push({delegate:j,scope:c,fn:b,order:e});return d},addDispatcherListener:function(a,b,c,d,e,f){return this.getEventDispatcher().addListener(this.observableType,a,b,c,d,e,f)},doRemoveListener:function(a,b,c,d,e){var f=c&&c!==this&&c.isIdentifiable,g=this.getObservableId(),
h,i;if(d&&d.delegate)i=d.delegate,g+=" "+i;c||(c=this);if((d=this.removeDispatcherListener(g,a,b,c,e))&&f){a=this.getManagedListeners(c,a);for(f=0,g=a.length;f<g;f++)if(h=a[f],h.fn===b&&h.scope===c&&h.delegate===i&&h.order===e){a.splice(f,1);break}}return d},removeDispatcherListener:function(a,b,c,d,e){return this.getEventDispatcher().removeListener(this.observableType,a,b,c,d,e)},clearManagedListeners:function(a){var b=this.managedListeners,c,d,e,f,g,h,i;if(!b)return this;if(a){c=typeof a!="string"?
a.getUniqueId():a;a=b[c];for(e in a)if(a.hasOwnProperty(e)){d=a[e];for(f=0,g=d.length;f<g;f++){h=d[f];i={};if(h.delegate)i.delegate=h.delegate;this.doRemoveListener(e,h.fn,h.scope,i,h.order)&&(f--,g--)}}delete b[c];return this}for(c in b)b.hasOwnProperty(c)&&this.clearManagedListeners(c)},changeListener:function(a,b,c,d,e,f){var g,h,i,j,k;if(typeof c!="undefined"){if(typeof b!="string"){for(g=0,j=b.length;g<j;g++)i=b[g],a.call(this,i,c,d,e,f);return this}a.call(this,b,c,d,e,f)}else if(Ext.isArray(b))for(g=
0,j=b.length;g<j;g++)d=b[g],a.call(this,d.event,d.fn,d.scope,d,d.order);else{g=this.listenerOptionsRegex;e=b;c=[];b=[];h={};for(i in e)j=e[i],i==="scope"?d=j:i==="order"?f=j:g.test(i)?h[i]=j:(k=typeof j,k!="string"&&k!="function"?a.call(this,i,j.fn,j.scope||d,j,j.order||f):(c.push(i),b.push(j)));for(g=0,j=c.length;g<j;g++)a.call(this,c[g],b[g],d,h,f)}},addListener:function(a,b,c,d,e){return this.changeListener(this.doAddListener,a,b,c,d,e)},addBeforeListener:function(a,b,c,d){return this.addListener(a,
b,c,d,"before")},addAfterListener:function(a,b,c,d){return this.addListener(a,b,c,d,"after")},removeListener:function(a,b,c,d,e){return this.changeListener(this.doRemoveListener,a,b,c,d,e)},removeBeforeListener:function(a,b,c,d){return this.removeListener(a,b,c,d,"before")},removeAfterListener:function(a,b,c,d){return this.removeListener(a,b,c,d,"after")},clearListeners:function(){var a=this.getUsedSelectors(),b=this.getEventDispatcher(),c,d,e;for(c=0,d=a.length;c<d;c++)e=a[c],b.clearListeners(this.observableType,
e)},hasListener:function(a){return this.getEventDispatcher().hasListener(this.observableType,this.getObservableId(),a)},suspendEvents:function(){this.eventFiringSuspended=!0},resumeEvents:function(){this.eventFiringSuspended=!1},relayEvents:function(a,b,c){var d,e,f,g;typeof c=="undefined"&&(c="");typeof b=="string"&&(b=[b]);if(Ext.isArray(b))for(d=0,e=b.length;d<e;d++)f=b[d],g=c+f,a.addListener(f,this.createEventRelayer(g),this);else for(f in b)b.hasOwnProperty(f)&&(g=c+b[f],a.addListener(f,this.createEventRelayer(g),
this));return this},relayEvent:function(a,b,c,d,e){var f=typeof b,g=a[a.length-1],h=g.getInfo().eventName,i,a=Array.prototype.slice.call(a,0,-2);a[0]=this;f!="undefined"&&(i={fn:b,scope:c||this,options:d||{},order:e,isLateBinding:f=="string"});return this.doFireEvent(h,a,i,g)},createEventRelayer:function(a){return function(){return this.doFireEvent(a,Array.prototype.slice.call(arguments,0,-2))}},enableBubble:function(a){var b=this.isBubblingEnabled,c,d,e;if(!b)b=this.isBubblingEnabled={};typeof a==
"string"&&(a=Ext.Array.clone(arguments));for(c=0,d=a.length;c<d;c++)e=a[c],b[e]||(b[e]=!0,this.addListener(e,this.createEventBubbler(e),this))},createEventBubbler:function(a){return function c(){var d="getBubbleTarget"in this?this.getBubbleTarget():null;d&&d!==this&&d.isObservable&&d.fireAction(a,Array.prototype.slice.call(arguments,0,-2),c,d,null,"after")}},getBubbleTarget:function(){return!1},destroy:function(){this.observableId&&(this.fireEvent("destroy",this),this.clearListeners(),this.clearManagedListeners())},
addEvents:Ext.emptyFn},function(){this.createAlias({on:"addListener",un:"removeListener",onBefore:"addBeforeListener",onAfter:"addAfterListener",unBefore:"removeBeforeListener",unAfter:"removeAfterListener"});Ext.deprecateClassMethod(this,"addEvents",function(){},"addEvents() is deprecated. It's no longer needed to add events before firing");Ext.deprecateClassMethod(this,"addManagedListener",function(a,b,c,d,e){return a.addListener(b,c,d,e)},"addManagedListener() / mon() is deprecated, simply use addListener() / on(). All listeners are now automatically managed where necessary.");
Ext.deprecateClassMethod(this,"removeManagedListener",function(a,b,c,d){return a.removeListener(b,c,d)},"removeManagedListener() / mun() is deprecated, simply use removeListener() / un(). All listeners are now automatically managed where necessary.");this.createAlias({mon:"addManagedListener",mun:"removeManagedListener"})});
Ext.define("Ext.Evented",{alternateClassName:"Ext.EventedBase",mixins:["Ext.mixin.Observable"],statics:{generateSetter:function(a){var b=a.internal,c=a.apply,d=a.changeEvent,e=a.doSet;return function(f){var g=this.initialized,h=this[b],i=this[c];if(i&&(f=i.call(this,f,h),typeof f=="undefined"))return this;f!==h&&(g?this.fireAction(d,[this,f,h],this.doSet,this,{nameMap:a}):(this[b]=f,this[e].call(this,f,h)));return this}}},initialized:!1,constructor:function(a){this.initialConfig=a;this.initialize()},
initialize:function(){this.initConfig(this.initialConfig);this.initialized=!0},doSet:function(a,b,c,d){d=d.nameMap;a[d.internal]=b;a[d.doSet].call(this,b,c)},onClassExtended:function(a,b){if(b.hasOwnProperty("eventedConfig")){var c=Ext.Class,d=b.config,e=b.eventedConfig,f;b.config=d?Ext.applyIf(d,e):e;for(f in e)e.hasOwnProperty(f)&&(d=c.getConfigNameMap(f),b[d.set]=this.generateSetter(d))}}});
Ext.define("Ext.fx.animation.Abstract",{extend:"Ext.Evented",isAnimation:!0,requires:["Ext.fx.State"],config:{name:"",element:null,before:null,from:{},to:{},after:null,states:{},duration:300,easing:"linear",iteration:1,direction:"normal",delay:0,onBeforeStart:null,onEnd:null,onBeforeEnd:null,scope:null,reverse:null,preserveEndState:!1,replacePrevious:!0},STATE_FROM:"0%",STATE_TO:"100%",DIRECTION_UP:"up",DIRECTION_DOWN:"down",DIRECTION_LEFT:"left",DIRECTION_RIGHT:"right",stateNameRegex:/^(?:[\d\.]+)%$/,
constructor:function(){this.states={};this.callParent(arguments);return this},applyElement:function(a){return Ext.get(a)},applyBefore:function(a,b){if(a)return Ext.factory(a,Ext.fx.State,b)},applyAfter:function(a,b){if(a)return Ext.factory(a,Ext.fx.State,b)},setFrom:function(a){return this.setState(this.STATE_FROM,a)},setTo:function(a){return this.setState(this.STATE_TO,a)},getFrom:function(){return this.getState(this.STATE_FROM)},getTo:function(){return this.getState(this.STATE_TO)},setStates:function(a){var b=
this.stateNameRegex,c;for(c in a)b.test(c)&&this.setState(c,a[c]);return this},getStates:function(){return this.states},setState:function(a,b){var c=this.getStates(),d;(d=Ext.factory(b,Ext.fx.State,c[a]))&&(c[a]=d);return this},getState:function(a){return this.getStates()[a]},getData:function(){var a=this.getStates(),b={},c=this.getBefore(),d=this.getAfter(),e=a[this.STATE_TO],f=a[this.STATE_FROM].getData(),e=e.getData(),g,h;for(h in a)a.hasOwnProperty(h)&&(g=a[h],g=g.getData(),b[h]=g);Ext.os.is.Android2&&
(b["0.0001%"]=f);return{before:c?c.getData():{},after:d?d.getData():{},states:b,from:f,to:e,duration:this.getDuration(),iteration:this.getIteration(),direction:this.getDirection(),easing:this.getEasing(),delay:this.getDelay(),onEnd:this.getOnEnd(),onBeforeEnd:this.getOnBeforeEnd(),onBeforeStart:this.getOnBeforeStart(),scope:this.getScope(),preserveEndState:this.getPreserveEndState(),replacePrevious:this.getReplacePrevious()}}});
Ext.define("Ext.fx.animation.Slide",{extend:"Ext.fx.animation.Abstract",alternateClassName:"Ext.fx.animation.SlideIn",alias:["animation.slide","animation.slideIn"],config:{direction:"left",out:!1,offset:0,easing:"auto",containerBox:"auto",elementBox:"auto",isElementBoxFit:!0,useCssTransform:!0},reverseDirectionMap:{up:"down",down:"up",left:"right",right:"left"},applyEasing:function(a){return a==="auto"?"ease-"+(this.getOut()?"in":"out"):a},getContainerBox:function(){var a=this._containerBox;a==="auto"&&
(a=this.getElement().getParent().getPageBox());return a},getElementBox:function(){var a=this._elementBox;if(this.getIsElementBoxFit())return this.getContainerBox();a==="auto"&&(a=this.getElement().getPageBox());return a},getData:function(){var a=this.getElementBox(),b=this.getContainerBox(),c=a?a:b,d=this.getFrom(),a=this.getTo(),e=this.getOut(),f=this.getOffset(),g=this.getDirection(),h=this.getUseCssTransform(),i=0,j=0;this.getReverse()&&(g=this.reverseDirectionMap[g]);switch(g){case this.DIRECTION_UP:j=
e?b.top-c.top-c.height-f:b.bottom-c.bottom+c.height+f;break;case this.DIRECTION_DOWN:j=e?b.bottom-c.bottom+c.height+f:b.top-c.height-c.top-f;break;case this.DIRECTION_RIGHT:i=e?b.right-c.right+c.width+f:b.left-c.left-c.width-f;break;case this.DIRECTION_LEFT:i=e?b.left-c.left-c.width-f:b.right-c.right+c.width+f}b=e?0:i;c=e?0:j;h?d.setTransform({translateX:b,translateY:c}):(d.set("left",b),d.set("top",c));d=e?i:0;e=e?j:0;h?a.setTransform({translateX:d,translateY:e}):(a.set("left",d),a.set("top",e));
return this.callParent(arguments)}});Ext.define("Ext.fx.animation.SlideOut",{extend:"Ext.fx.animation.Slide",alias:["animation.slideOut"],config:{out:!0}});
Ext.define("Ext.fx.animation.Fade",{extend:"Ext.fx.animation.Abstract",alternateClassName:"Ext.fx.animation.FadeIn",alias:["animation.fade","animation.fadeIn"],config:{out:!1,before:{display:null,opacity:0},after:{opacity:null},reverse:null},updateOut:function(a){var b=this.getTo(),c=this.getFrom();a?(c.set("opacity",1),b.set("opacity",0)):(c.set("opacity",0),b.set("opacity",1))}});Ext.define("Ext.fx.animation.FadeOut",{extend:"Ext.fx.animation.Fade",alias:"animation.fadeOut",config:{out:!0,before:{}}});
Ext.define("Ext.fx.animation.Flip",{extend:"Ext.fx.animation.Abstract",alias:"animation.flip",config:{easing:"ease-in",direction:"right",half:!1,out:null},getData:function(){var a=this.getFrom(),b=this.getTo(),c=this.getDirection(),d=this.getOut(),e=this.getHalf()?90:180,f=1,g=1,h=0,i=0,j=0,k=0;d?g=0.8:f=0.8;switch(c){case this.DIRECTION_UP:d?j=e:h=-e;break;case this.DIRECTION_DOWN:d?j=-e:h=e;break;case this.DIRECTION_RIGHT:d?k=-e:i=e;break;case this.DIRECTION_LEFT:d?k=-e:i=e}a.setTransform({rotateX:h,
rotateY:i,scale:f});b.setTransform({rotateX:j,rotateY:k,scale:g});return this.callParent(arguments)}});
Ext.define("Ext.fx.animation.Pop",{extend:"Ext.fx.animation.Abstract",alias:["animation.pop","animation.popIn"],alternateClassName:"Ext.fx.animation.PopIn",config:{out:!1,before:{display:null,opacity:0},after:{opacity:null}},getData:function(){var a=this.getTo(),b=this.getFrom();this.getOut()?(b.set("opacity",1),b.setTransform({scale:1}),a.set("opacity",0),a.setTransform({scale:0})):(b.set("opacity",0),b.setTransform({scale:0}),a.set("opacity",1),a.setTransform({scale:1}));return this.callParent(arguments)}});
Ext.define("Ext.fx.animation.PopOut",{extend:"Ext.fx.animation.Pop",alias:"animation.popOut",config:{out:!0,before:{}}});
Ext.define("Ext.fx.Animation",{requires:"Ext.fx.animation.Slide,Ext.fx.animation.SlideOut,Ext.fx.animation.Fade,Ext.fx.animation.FadeOut,Ext.fx.animation.Flip,Ext.fx.animation.Pop,Ext.fx.animation.PopOut".split(","),constructor:function(a){var b=Ext.fx.animation.Abstract,c;if(typeof a=="string")c=a,a={};else if(a&&a.type)c=a.type;c&&(Ext.os.is.Android2&&(c=="pop"&&(c="fade"),c=="popIn"&&(c="fadeIn"),c=="popOut"&&(c="fadeOut")),b=Ext.ClassManager.getByAlias("animation."+c));return Ext.factory(a,b)}});
Ext.define("Ext.AbstractComponent",{extend:"Ext.Evented",onClassExtended:function(a,b){if(b.hasOwnProperty("cachedConfig")){var c=a.prototype,d=b.config,e=b.cachedConfig,f=c.cachedConfigList,g=c.hasCachedConfig,h;delete b.cachedConfig;c.cachedConfigList=f=f?f.slice():[];c.hasCachedConfig=g=g?Ext.Object.chain(g):{};if(!d)b.config=d={};for(h in e)e.hasOwnProperty(h)&&(c=e[h],g[h]||(g[h]=!0,f.push(h)),d[h]=c)}},getElementConfig:Ext.emptyFn,referenceAttributeName:"reference",referenceSelector:"[reference]",
addReferenceNode:function(a,b){Ext.Object.defineProperty(this,a,{get:function(){var c;delete this[a];return this[a]=c=new Ext.Element(b)},configurable:!0})},initElement:function(){var a=this.self.prototype,b=this.getId(),c=[],d=!0,e=this.referenceAttributeName,f=!1,g,h,i,j,k,l,m;a.hasOwnProperty("renderTemplate")?(g=this.renderTemplate.cloneNode(!0),h=g.firstChild):(d=!1,f=!0,g=document.createDocumentFragment(),h=Ext.Element.create(this.getElementConfig(),!0),g.appendChild(h));j=g.querySelectorAll(this.referenceSelector);
for(g=0,k=j.length;g<k;g++)l=j[g],m=l.getAttribute(e),d&&l.removeAttribute(e),m=="element"?(l.id=b,this.element=i=new Ext.Element(l)):this.addReferenceNode(m,l),c.push(m);this.referenceList=c;if(!this.innerElement)this.innerElement=i;h===i.dom?this.renderElement=i:this.addReferenceNode("renderElement",h);if(f){i=Ext.Class.configNameCache;b=this.config;h=this.cachedConfigList;j=this.initConfigList;l=this.initConfigMap;d=[];for(g=0,k=h.length;g<k;g++)e=h[g],f=i[e],l[e]&&(l[e]=!1,Ext.Array.remove(j,
e)),b[e]!==null&&(d.push(e),this[f.get]=this[f.initGet]);for(g=0,k=d.length;g<k;g++)e=d[g],f=i[e],h=f.internal,this[h]=null,this[f.set].call(this,b[e]),delete this[f.get],a[h]=this[h];h=this.renderElement.dom;a.renderTemplate=g=document.createDocumentFragment();g.appendChild(h.cloneNode(!0));a=g.querySelectorAll("[id]");for(g=0,k=a.length;g<k;g++)i=a[g],i.removeAttribute("id");for(g=0,k=c.length;g<k;g++)m=c[g],this[m].dom.removeAttribute("reference")}return this}});
(function(a){Ext.define("Ext.layout.Default",{extend:"Ext.Evented",alternateClassName:["Ext.layout.AutoContainerLayout","Ext.layout.ContainerLayout"],alias:["layout.auto","layout.default"],isLayout:!0,hasDockedItemsCls:a+"hasdocked",centeredItemCls:a+"centered",floatingItemCls:a+"floating",dockingWrapperCls:a+"docking",dockingInnerCls:a+"docking-inner",maskCls:a+"mask",positionMap:{top:"start",left:"start",bottom:"end",right:"end"},positionDirectionMap:{top:"vertical",bottom:"vertical",left:"horizontal",
right:"horizontal"},DIRECTION_VERTICAL:"vertical",DIRECTION_HORIZONTAL:"horizontal",POSITION_START:"start",POSITION_END:"end",config:{animation:null},constructor:function(a,c){this.container=a;this.innerItems=[];this.centeringWrappers={};this.initConfig(c)},reapply:Ext.emptyFn,unapply:Ext.emptyFn,onItemAdd:function(){this.doItemAdd.apply(this,arguments)},onItemRemove:function(){this.doItemRemove.apply(this,arguments)},onItemMove:function(){this.doItemMove.apply(this,arguments)},onItemCenteredChange:function(){this.doItemCenteredChange.apply(this,
arguments)},onItemFloatingChange:function(){this.doItemFloatingChange.apply(this,arguments)},onItemDockedChange:function(){this.doItemDockedChange.apply(this,arguments)},doItemAdd:function(a,c){var d=a.getDocked();d!==null?this.dockItem(a,d):a.isCentered()?this.centerItem(a,c):this.insertItem(a,c);if(a.isFloating())this.onItemFloatingChange(a,!0)},doItemRemove:function(a){a.isDocked()?this.undockItem(a):a.isCentered()&&this.uncenterItem(a);a.getTranslatable()&&a.setTranslatable(!1);Ext.Array.remove(this.innerItems,
a);try{this.container.innerElement.dom.removeChild(a.renderElement.dom)}catch(c){}},doItemMove:function(a,c){a.isCentered()?a.setZIndex((c+1)*2):(a.isFloating()&&a.setZIndex((c+1)*2),this.insertItem(a,c))},doItemCenteredChange:function(a,c){c?this.centerItem(a):this.uncenterItem(a)},doItemFloatingChange:function(a,c){var d=a.element,e=this.floatingItemCls;c?(a.getZIndex()===null&&a.setZIndex((this.container.indexOf(a)+1)*2),d.addCls(e)):(a.setZIndex(null),d.removeCls(e))},doItemDockedChange:function(a,
c,d){d&&this.undockItem(a,d);c&&this.dockItem(a,c)},centerItem:function(a){this.insertItem(a,0);a.getZIndex()===null&&a.setZIndex((this.container.indexOf(a)+1)*2);this.createCenteringWrapper(a);a.element.addCls(this.floatingItemCls)},uncenterItem:function(a){this.destroyCenteringWrapper(a);a.setZIndex(null);this.insertItem(a,this.container.indexOf(a));a.element.removeCls(this.floatingItemCls)},dockItem:function(b,c){var d=this.container,e=b.renderElement,f=b.element,g=this.dockingInnerElement;if(!g)d.setUseBodyElement(!0),
this.dockingInnerElement=g=d.bodyElement;this.getDockingWrapper(c);this.positionMap[c]===this.POSITION_START?e.insertBefore(g):e.insertAfter(g);f.addCls(a+"docked-"+c)},undockItem:function(b,c){this.insertItem(b,this.container.indexOf(b));b.element.removeCls(a+"docked-"+c)},getDockingWrapper:function(a){var a=this.positionDirectionMap[a],c=this.dockingWrapper;if(this.currentDockingDirection!==a)this.currentDockingDirection=a,this.dockingWrapper=c=this.createDockingWrapper(a);return c},createDockingWrapper:function(a){return this.dockingInnerElement.wrap({classList:[this.dockingWrapperCls+
"-"+a]},!0)},createCenteringWrapper:function(a){return this.centeringWrappers[a.getId()]=a=a.renderElement.wrap({className:this.centeredItemCls})},destroyCenteringWrapper:function(a){var c=a.getId(),d=this.centeringWrappers,e=d[c];a.renderElement.unwrap();e.destroy();delete d[c];return this},insertItem:function(a,c){var d=this.container,e=d.getItems().items,f=this.innerItems,g=d.innerElement.dom,h=a.renderElement.dom;d.has(a)&&Ext.Array.remove(f,a);if(typeof c=="number"){d=e[c];for(d===a&&(d=e[++c]);d&&
(d.isCentered()||d.isDocked());)d=e[++c];if(d&&(e=f.indexOf(d),e!==-1)){for(;d&&(d.isCentered()||d.isDocked());)d=f[++e];if(d)return f.splice(e,0,a),f=d.renderElement.dom,g.insertBefore(h,f),this}}f.push(a);g.appendChild(h);return this}})})(Ext.baseCSSPrefix);
Ext.define("Ext.layout.Fit",{extend:"Ext.layout.Default",alternateClassName:"Ext.layout.FitLayout",alias:"layout.fit",cls:Ext.baseCSSPrefix+"layout-fit",itemCls:Ext.baseCSSPrefix+"layout-fit-item",constructor:function(a){this.callParent(arguments);this.apply()},apply:function(){this.container.innerElement.addCls(this.cls)},reapply:function(){this.apply()},unapply:function(){this.container.innerElement.removeCls(this.cls)},doItemAdd:function(a,b){a.isInnerItem()&&a.addCls(this.itemCls);this.callParent(arguments)},
doItemRemove:function(a){a.isInnerItem()&&a.removeCls(this.itemCls);this.callParent(arguments)}});
Ext.define("Ext.layout.AbstractBox",{extend:"Ext.layout.Default",config:{align:"stretch",pack:null},flexItemCls:Ext.baseCSSPrefix+"layout-box-item",positionMap:{middle:"center",left:"start",top:"start",right:"end",bottom:"end"},constructor:function(a){this.callParent(arguments);a.innerElement.addCls(this.cls);a.on(this.sizeChangeEventName,"onItemSizeChange",this,{delegate:"> component"})},reapply:function(){this.container.innerElement.addCls(this.cls);this.updatePack(this.getPack());this.updateAlign(this.getAlign())},
unapply:function(){this.container.innerElement.removeCls(this.cls);this.updatePack(null);this.updateAlign(null)},doItemAdd:function(a,b){this.callParent(arguments);if(a.isInnerItem()){var c=a.getConfig(this.sizePropertyName),d=a.config;!c&&"flex"in d&&this.setItemFlex(a,d.flex)}},doItemRemove:function(a){a.isInnerItem()&&this.setItemFlex(a,null);this.callParent(arguments)},onItemSizeChange:function(a){this.setItemFlex(a,null)},doItemCenteredChange:function(a,b){b&&this.setItemFlex(a,null);this.callParent(arguments)},
doItemFloatingChange:function(a,b){b&&this.setItemFlex(a,null);this.callParent(arguments)},doItemDockedChange:function(a,b){b&&this.setItemFlex(a,null);this.callParent(arguments)},redrawContainer:function(){var a=this.container,b=a.renderElement.dom.parentNode;b&&b.nodeType!==11&&a.innerElement.redraw()},setItemFlex:function(a,b){var c=a.element,d=this.flexItemCls;b?c.addCls(d):c.hasCls(d)&&(this.redrawContainer(),c.removeCls(d));c.dom.style.webkitBoxFlex=b},convertPosition:function(a){return this.positionMap.hasOwnProperty(a)?
this.positionMap[a]:a},applyAlign:function(a){return this.convertPosition(a)},updateAlign:function(a){this.container.innerElement.dom.style.webkitBoxAlign=a},applyPack:function(a){return this.convertPosition(a)},updatePack:function(a){this.container.innerElement.dom.style.webkitBoxPack=a}});Ext.define("Ext.layout.HBox",{extend:"Ext.layout.AbstractBox",alternateClassName:"Ext.layout.HBoxLayout",alias:"layout.hbox",sizePropertyName:"width",sizeChangeEventName:"widthchange",cls:Ext.baseCSSPrefix+"layout-hbox"});
Ext.define("Ext.layout.VBox",{extend:"Ext.layout.AbstractBox",alternateClassName:"Ext.layout.VBoxLayout",alias:"layout.vbox",sizePropertyName:"height",sizeChangeEventName:"heightchange",cls:Ext.baseCSSPrefix+"layout-vbox"});
Ext.define("Ext.util.AbstractMixedCollection",{requires:["Ext.util.Filter"],mixins:{observable:"Ext.mixin.Observable"},constructor:function(a,b){this.items=[];this.map={};this.keys=[];this.length=0;this.allowFunctions=a===!0;if(b)this.getKey=b;this.mixins.observable.constructor.call(this)},allowFunctions:!1,add:function(a,b){var c=b,d=a,e;arguments.length==1&&(c=d,d=this.getKey(c));if(typeof d!="undefined"&&d!==null){e=this.map[d];if(typeof e!="undefined")return this.replace(d,c);this.map[d]=c}this.length++;
this.items.push(c);this.keys.push(d);this.fireEvent("add",this.length-1,c,d);return c},getKey:function(a){return a.id},replace:function(a,b){var c;arguments.length==1&&(b=arguments[0],a=this.getKey(b));c=this.map[a];if(typeof a=="undefined"||a===null||typeof c=="undefined")return this.add(a,b);this.items[this.indexOfKey(a)]=b;this.map[a]=b;this.fireEvent("replace",a,c,b);return b},addAll:function(a){var b=0,c,d;if(arguments.length>1||Ext.isArray(a)){c=arguments.length>1?arguments:a;for(d=c.length;b<
d;b++)this.add(c[b])}else for(c in a)a.hasOwnProperty(c)&&(this.allowFunctions||typeof a[c]!="function")&&this.add(c,a[c])},each:function(a,b){for(var c=[].concat(this.items),d=0,e=c.length,f;d<e;d++)if(f=c[d],a.call(b||f,f,d,e)===!1)break},eachKey:function(a,b){for(var c=this.keys,d=this.items,e=0,f=c.length;e<f;e++)a.call(b||window,c[e],d[e],e,f)},findBy:function(a,b){for(var c=this.keys,d=this.items,e=0,f=d.length;e<f;e++)if(a.call(b||window,d[e],c[e]))return d[e];return null},insert:function(a,
b,c){var d=b,e=c;arguments.length==2&&(e=d,d=this.getKey(e));this.containsKey(d)&&(this.suspendEvents(),this.removeAtKey(d),this.resumeEvents());if(a>=this.length)return this.add(d,e);this.length++;Ext.Array.splice(this.items,a,0,e);typeof d!="undefined"&&d!==null&&(this.map[d]=e);Ext.Array.splice(this.keys,a,0,d);this.fireEvent("add",a,e,d);return e},remove:function(a){return this.removeAt(this.indexOf(a))},removeAll:function(a){Ext.each(a||[],function(a){this.remove(a)},this);return this},removeAt:function(a){var b,
c;return a<this.length&&a>=0?(this.length--,b=this.items[a],Ext.Array.erase(this.items,a,1),c=this.keys[a],typeof c!="undefined"&&delete this.map[c],Ext.Array.erase(this.keys,a,1),this.fireEvent("remove",b,c),b):!1},removeAtKey:function(a){return this.removeAt(this.indexOfKey(a))},getCount:function(){return this.length},indexOf:function(a){return Ext.Array.indexOf(this.items,a)},indexOfKey:function(a){return Ext.Array.indexOf(this.keys,a)},get:function(a){var b=this.map[a],a=b!==void 0?b:typeof a==
"number"?this.items[a]:void 0;return typeof a!="function"||this.allowFunctions?a:null},getAt:function(a){return this.items[a]},getByKey:function(a){return this.map[a]},contains:function(a){return Ext.Array.contains(this.items,a)},containsKey:function(a){return typeof this.map[a]!="undefined"},clear:function(){this.length=0;this.items=[];this.keys=[];this.map={};this.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(a,b,c,d){for(var a=
this.extractValues(a,b),e=a.length,b=0,d=d||d===0?d:e-1,c=c||0;c<=d;c++)b+=a[c];return b},collect:function(a,b,c){var a=this.extractValues(a,b),b=a.length,d={},e=[],f,g,h;for(h=0;h<b;h++)if(f=a[h],g=String(f),(c||!Ext.isEmpty(f))&&!d[g])d[g]=!0,e.push(f);return e},extractValues:function(a,b){var c=this.items;b&&(c=Ext.Array.pluck(c,b));return Ext.Array.pluck(c,a)},getRange:function(a,b){var c=this.items,d=[],e;if(c.length<1)return d;a=a||0;b=Math.min(typeof b=="undefined"?this.length-1:b,this.length-
1);if(a<=b)for(e=a;e<=b;e++)d[d.length]=c[e];else for(e=a;e>=b;e--)d[d.length]=c[e];return d},filter:function(a,b,c,d){var e=[];if(Ext.isString(a))e.push(Ext.create("Ext.util.Filter",{property:a,value:b,anyMatch:c,caseSensitive:d}));else if(Ext.isArray(a)||a instanceof Ext.util.Filter)e=e.concat(a);return this.filterBy(function(a){var b=!0,c=e.length,d;for(d=0;d<c;d++)var j=e[d],k=j.getFilterFn(),j=j.getScope(),b=b&&k.call(j,a);return b})},filterBy:function(a,b){var c=new this.self,d=this.keys,e=
this.items,f=e.length,g;c.getKey=this.getKey;for(g=0;g<f;g++)a.call(b||this,e[g],d[g])&&c.add(d[g],e[g]);return c},findIndex:function(a,b,c,d,e){if(Ext.isEmpty(b,!1))return-1;b=this.createValueMatcher(b,d,e);return this.findIndexBy(function(c){return c&&b.test(c[a])},null,c)},findIndexBy:function(a,b,c){for(var d=this.keys,e=this.items,c=c||0,f=e.length;c<f;c++)if(a.call(b||this,e[c],d[c]))return c;return-1},createValueMatcher:function(a,b,c,d){if(!a.exec){var e=Ext.String.escapeRegex,a=String(a);
b===!0?a=e(a):(a="^"+e(a),d===!0&&(a+="$"));a=RegExp(a,c?"":"i")}return a},clone:function(){for(var a=new this.self,b=this.keys,c=this.items,d=0,e=c.length;d<e;d++)a.add(b[d],c[d]);a.getKey=this.getKey;return a}});
Ext.define("Ext.util.MixedCollection",{extend:"Ext.util.AbstractMixedCollection",mixins:{sortable:"Ext.util.Sortable"},constructor:function(){this.callParent(arguments);this.mixins.sortable.initSortable.call(this)},doSort:function(a){this.sortBy(a)},_sort:function(a,b,c){var d,e=String(b).toUpperCase()=="DESC"?-1:1,f=[],g=this.keys,h=this.items,c=c||function(a,b){return a-b};for(b=0,d=h.length;b<d;b++)f[f.length]={key:g[b],value:h[b],index:b};Ext.Array.sort(f,function(b,d){var f=c(b[a],d[a])*e;f===
0&&(f=b.index<d.index?-1:1);return f});for(b=0,d=f.length;b<d;b++)h[b]=f[b].value,g[b]=f[b].key;this.fireEvent("sort",this)},sortBy:function(a){var b=this.items,c=this.keys,d=b.length,e=[],f;for(f=0;f<d;f++)e[f]={key:c[f],value:b[f],index:f};Ext.Array.sort(e,function(b,c){var d=a(b.value,c.value);d===0&&(d=b.index<c.index?-1:1);return d});for(f=0;f<d;f++)b[f]=e[f].value,c[f]=e[f].key;this.fireEvent("sort",this,b,c)},reorder:function(a){var b=this.items,c=0,d=b.length,e=[],f=[],g;this.suspendEvents();
for(g in a)e[a[g]]=b[g];for(c=0;c<d;c++)a[c]==void 0&&f.push(b[c]);for(c=0;c<d;c++)e[c]==void 0&&(e[c]=f.shift());this.clear();this.addAll(e);this.resumeEvents();this.fireEvent("sort",this)},sortByKey:function(a,b){this._sort("key",a,b||function(a,b){var e=String(a).toUpperCase(),f=String(b).toUpperCase();return e>f?1:e<f?-1:0})}});Ext.define("Ext.ItemCollection",{extend:"Ext.util.MixedCollection",getKey:function(a){return a.getItemId()},has:function(a){return this.map.hasOwnProperty(a.getId())}});
(function(){function a(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(/\{(\d+)\}/g,function(a,c){return b[c]})}Ext.DateExtras={now:Date.now||function(){return+new Date},getElapsed:function(a,b){return Math.abs(a-(b||new Date))},useStrict:!1,formatCodeToRegex:function(c,d){var e=b.parseCodes[c];e&&(e=typeof e=="function"?e():e,b.parseCodes[c]=e);return e?Ext.applyIf({c:e.c?a(e.c,d||"{0}"):e.c},e):{g:0,c:null,s:Ext.String.escapeRegex(c)}},parseFunctions:{MS:function(a){return(a=(a||
"").match(/\/Date\(([-+])?(\d+)(?:[+-]\d{4})?\)\//))?new Date(((a[1]||"")+a[2])*1):null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),monthNames:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthNumbers:{Jan:0,Feb:1,Mar:2,Apr:3,May:4,
Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},defaultFormat:"m/d/Y",getShortMonthName:function(a){return b.monthNames[a].substring(0,3)},getShortDayName:function(a){return b.dayNames[a].substring(0,3)},getMonthNumber:function(a){return b.monthNumbers[a.substring(0,1).toUpperCase()+a.substring(1,3).toLowerCase()]},formatCodes:{d:"Ext.String.leftPad(this.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Ext.Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",
S:"Ext.Date.getSuffix(this)",w:"this.getDay()",z:"Ext.Date.getDayOfYear(this)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(this), 2, '0')",F:"Ext.Date.monthNames[this.getMonth()]",m:"Ext.String.leftPad(this.getMonth() + 1, 2, '0')",M:"Ext.Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(this)",L:"(Ext.Date.isLeapYear(this) ? 1 : 0)",o:"(this.getFullYear() + (Ext.Date.getWeekOfYear(this) == 1 && this.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(this) >= 52 && this.getMonth() < 11 ? -1 : 0)))",
Y:"Ext.String.leftPad(this.getFullYear(), 4, '0')",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"Ext.String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(this.getHours(), 2, '0')",i:"Ext.String.leftPad(this.getMinutes(), 2, '0')",s:"Ext.String.leftPad(this.getSeconds(), 2, '0')",u:"Ext.String.leftPad(this.getMilliseconds(), 3, '0')",
O:"Ext.Date.getGMTOffset(this)",P:"Ext.Date.getGMTOffset(this, true)",T:"Ext.Date.getTimezone(this)",Z:"(this.getTimezoneOffset() * -60)",c:function(){for(var a=[],d=0;d<12;++d){var e="Y-m-dTH:i:sP".charAt(d);a.push(e=="T"?"'T'":b.getFormatCode(e))}return a.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(a,d,e,f,g,h,i){var f=f||0,g=g||0,h=h||0,i=i||0,j=b.add(new Date(a<100?100:a,d-1,e,f,g,h,i),b.YEAR,a<100?a-100:0);return a==j.getFullYear()&&d==j.getMonth()+1&&e==j.getDate()&&
f==j.getHours()&&g==j.getMinutes()&&h==j.getSeconds()&&i==j.getMilliseconds()},parse:function(a,d,e){var f=b.parseFunctions;f[d]==null&&b.createParser(d);return f[d](a,Ext.isDefined(e)?e:b.useStrict)},parseDate:function(a,d,e){return b.parse(a,d,e)},getFormatCode:function(a){var d=b.formatCodes[a];d&&(d=typeof d=="function"?d():d,b.formatCodes[a]=d);return d||"'"+Ext.String.escape(a)+"'"},createFormat:function(a){for(var d=[],e=!1,f="",g=0;g<a.length;++g)f=a.charAt(g),!e&&f=="\\"?e=!0:e?(e=!1,d.push("'"+
Ext.String.escape(f)+"'")):d.push(b.getFormatCode(f));b.formatFunctions[a]=Ext.functionFactory("return "+d.join("+"))},createParser:function(){return function(c){for(var d=b.parseRegexes.length,e=1,f=[],g=[],h=!1,i="",j=0;j<c.length;++j)i=c.charAt(j),!h&&i=="\\"?h=!0:h?(h=!1,g.push(Ext.String.escape(i))):(i=b.formatCodeToRegex(i,e),e+=i.g,g.push(i.s),i.g&&i.c&&f.push(i.c));b.parseRegexes[d]=RegExp("^"+g.join("")+"$","i");b.parseFunctions[c]=Ext.functionFactory("input","strict",a("var dt, y, m, d, h, i, s, ms, o, z, zz, u, v,\ndef = Ext.Date.defaults,\nresults = String(input).match(Ext.Date.parseRegexes[{0}]);\nif(results){\n{1}\nif(u != null){\nv = new Date(u * 1000);\n}else{\ndt = Ext.Date.clearTime(new Date);\ny = Ext.Number.from(y, Ext.Number.from(def.y, dt.getFullYear()));\nm = Ext.Number.from(m, Ext.Number.from(def.m - 1, dt.getMonth()));\nd = Ext.Number.from(d, Ext.Number.from(def.d, dt.getDate()));\nh  = Ext.Number.from(h, Ext.Number.from(def.h, dt.getHours()));\ni  = Ext.Number.from(i, Ext.Number.from(def.i, dt.getMinutes()));\ns  = Ext.Number.from(s, Ext.Number.from(def.s, dt.getSeconds()));\nms = Ext.Number.from(ms, Ext.Number.from(def.ms, dt.getMilliseconds()));\nif(z >= 0 && y >= 0){\nv = Ext.Date.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), Ext.Date.YEAR, y < 100 ? y - 100 : 0);\nv = !strict? v : (strict === true && (z <= 364 || (Ext.Date.isLeapYear(v) && z <= 365))? Ext.Date.add(v, Ext.Date.DAY, z) : null);\n}else if(strict === true && !Ext.Date.isValid(y, m + 1, d, h, i, s, ms)){\nv = null;\n}else{\nv = Ext.Date.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), Ext.Date.YEAR, y < 100 ? y - 100 : 0);\n}\n}\n}\nif(v){\nif(zz != null){\nv = Ext.Date.add(v, Ext.Date.SECOND, -v.getTimezoneOffset() * 60 - zz);\n}else if(o){\nv = Ext.Date.add(v, Ext.Date.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));\n}\n}\nreturn v;",
d,f.join("")))}}(),parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},D:function(){for(var a=[],d=0;d<7;a.push(b.getShortDayName(d)),++d);return{g:0,c:null,s:"(?:"+a.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+b.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:0,c:null,s:"(?:\\d{2})"},
F:function(){return{g:1,c:"m = parseInt(Ext.Date.getMonthNumber(results[{0}]), 10);\n",s:"("+b.monthNames.join("|")+")"}},M:function(){for(var a=[],d=0;d<12;a.push(b.getShortMonthName(d)),++d);return Ext.applyIf({s:"("+a.join("|")+")"},b.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{2})"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{1,2})"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:function(){return b.formatCodeToRegex("Y")},Y:{g:1,
c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > Ext.Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)"},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)"},g:function(){return b.formatCodeToRegex("G")},
G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},h:function(){return b.formatCodeToRegex("H")},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:"o = results[{0}];\nvar sn = o.substring(0,1),\nhr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),\nmn = o.substring(3,5) % 60;\no = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n",
s:"([+-]\\d{4})"},P:{g:1,c:"o = results[{0}];\nvar sn = o.substring(0,1),\nhr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),\nmn = o.substring(4,6) % 60;\no = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n",s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,4}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){for(var a=[],d=[b.formatCodeToRegex("Y",
1),b.formatCodeToRegex("m",2),b.formatCodeToRegex("d",3),b.formatCodeToRegex("h",4),b.formatCodeToRegex("i",5),b.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {\nif(results[8] == 'Z'){\nzz = 0;\n}else if (results[8].indexOf(':') > -1){",b.formatCodeToRegex("P",8).c,"}else{",b.formatCodeToRegex("O",8).c,"}\n}"].join("\n")}],e=0,f=d.length;e<f;++e)a.push(d[e].c);return{g:1,c:a.join(""),s:[d[0].s,"(?:-",d[1].s,"(?:-",d[2].s,
"(?:(?:T| )?",d[3].s,":",d[4].s,"(?::",d[5].s,")?(?:(?:\\.|,)(\\d+))?(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?)?)?)?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(a,d){return b.format(a,d)},format:function(a,d){b.formatFunctions[d]==null&&b.createFormat(d);return b.formatFunctions[d].call(a)+""},getTimezone:function(a){return a.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,4})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(a,
b){var e=a.getTimezoneOffset();return(e>0?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(e)/60),2,"0")+(b?":":"")+Ext.String.leftPad(Math.abs(e%60),2,"0")},getDayOfYear:function(a){var d=0,e=Ext.Date.clone(a),f=a.getMonth(),g;for(g=0,e.setDate(1),e.setMonth(0);g<f;e.setMonth(++g))d+=b.getDaysInMonth(e);return d+a.getDate()-1},getWeekOfYear:function(){return function(a){var a=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate()+3)/864E5,a=Math.floor(a/7),b=(new Date(a*6048E5)).getUTCFullYear();return a-
Math.floor(Date.UTC(b,0,7)/6048E5)+1}}(),isLeapYear:function(a){a=a.getFullYear();return!!((a&3)==0&&(a%100||a%400==0&&a))},getFirstDayOfMonth:function(a){a=(a.getDay()-(a.getDate()-1))%7;return a<0?a+7:a},getLastDayOfMonth:function(a){return b.getLastDateOfMonth(a).getDay()},getFirstDateOfMonth:function(a){return new Date(a.getFullYear(),a.getMonth(),1)},getLastDateOfMonth:function(a){return new Date(a.getFullYear(),a.getMonth(),b.getDaysInMonth(a))},getDaysInMonth:function(){var a=[31,28,31,30,
31,30,31,31,30,31,30,31];return function(d){var e=d.getMonth();return e==1&&b.isLeapYear(d)?29:a[e]}}(),getSuffix:function(a){switch(a.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(a){return new Date(a.getTime())},isDST:function(a){return(new Date(a.getFullYear(),0,1)).getTimezoneOffset()!=a.getTimezoneOffset()},clearTime:function(a,d){if(d)return Ext.Date.clearTime(Ext.Date.clone(a));var e=a.getDate();a.setHours(0);
a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);if(a.getDate()!=e){for(var f=1,g=b.add(a,Ext.Date.HOUR,f);g.getDate()!=e;f++,g=b.add(a,Ext.Date.HOUR,f));a.setDate(e);a.setHours(g.getHours())}return a},add:function(a,b,e){var f=Ext.Date.clone(a);if(!b||e===0)return f;switch(b.toLowerCase()){case Ext.Date.MILLI:f.setMilliseconds(f.getMilliseconds()+e);break;case Ext.Date.SECOND:f.setSeconds(f.getSeconds()+e);break;case Ext.Date.MINUTE:f.setMinutes(f.getMinutes()+e);break;case Ext.Date.HOUR:f.setHours(f.getHours()+
e);break;case Ext.Date.DAY:f.setDate(f.getDate()+e);break;case Ext.Date.MONTH:b=a.getDate();b>28&&(b=Math.min(b,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(a),"mo",e)).getDate()));f.setDate(b);f.setMonth(a.getMonth()+e);break;case Ext.Date.YEAR:f.setFullYear(a.getFullYear()+e)}return f},between:function(a,b,e){a=a.getTime();return b.getTime()<=a&&a<=e.getTime()}};var b=Ext.DateExtras;Ext.apply(Ext.Date,b);Ext.apply(Ext.util.Date,b)})();
Ext.define("Ext.util.Format",{requires:["Ext.DateExtras"],singleton:!0,defaultDateFormat:"m/d/Y",escapeRe:/('|\\)/g,trimRe:/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,formatRe:/\{(\d+)\}/g,escapeRegexRe:/([-.*+?^${}()|[\]\/\\])/g,dashesRe:/-/g,iso8601TestRe:/\d\dT\d\d/,
iso8601SplitRe:/[- :T\.Z\+]/,ellipsis:function(a,b,c){if(a&&a.length>b){if(c){var c=a.substr(0,b-2),d=Math.max(c.lastIndexOf(" "),c.lastIndexOf("."),c.lastIndexOf("!"),c.lastIndexOf("?"));if(d!=-1&&d>=b-15)return c.substr(0,d)+"..."}return a.substr(0,b-3)+"..."}return a},escapeRegex:function(a){return a.replace(Ext.util.Format.escapeRegexRe,"\\$1")},escape:function(a){return a.replace(Ext.util.Format.escapeRe,"\\$1")},toggle:function(a,b,c){return a==b?c:b},trim:function(a){return a.replace(Ext.util.Format.trimRe,
"")},leftPad:function(a,b,c){a=String(a);for(c=c||" ";a.length<b;)a=c+a;return a},format:function(a){var b=Ext.toArray(arguments,1);return a.replace(Ext.util.Format.formatRe,function(a,d){return b[d]})},htmlEncode:function(a){return!a?a:String(a).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},htmlDecode:function(a){return!a?a:String(a).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&")},date:function(a,b){var c=a;if(!a)return"";
Ext.isDate(a)||(c=new Date(Date.parse(a)),isNaN(c)&&(this.iso8601TestRe.test(a)&&(c=a.split(this.iso8601SplitRe),c=new Date(c[0],c[1]-1,c[2],c[3],c[4],c[5])),isNaN(c)&&(c=new Date(Date.parse(a.replace(this.dashesRe,"/"))))),a=c);return Ext.Date.format(a,b||Ext.util.Format.defaultDateFormat)}});
Ext.define("Ext.Template",{requires:["Ext.dom.Helper","Ext.util.Format"],inheritableStatics:{from:function(a,b){a=Ext.getDom(a);return new this(a.value||a.innerHTML,b||"")}},constructor:function(a){var b=arguments,c=[],d=0,e=b.length,f;this.initialConfig={};if(e>1){for(;d<e;d++)f=b[d],typeof f=="object"?(Ext.apply(this.initialConfig,f),Ext.apply(this,f)):c.push(f);a=c.join("")}else Ext.isArray(a)?c.push(a.join("")):c.push(a);this.html=c.join("");this.compiled&&this.compile()},isTemplate:!0,disableFormats:!1,
re:/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,apply:function(a){var b=this.disableFormats!==!0,c=Ext.util.Format,d=this;return this.compiled?this.compiled(a).join(""):this.html.replace(this.re,function(e,f,g,h){return g&&b?(h=h?[a[f]].concat(Ext.functionFactory("return ["+h+"];")()):[a[f]],g.substr(0,5)=="this."?d[g.substr(5)].apply(d,h):c[g].apply(c,h)):a[f]!==void 0?a[f]:""})},applyOut:function(a,b){this.compiled?b.push.apply(b,this.compiled(a)):b.push(this.apply(a));return b},applyTemplate:function(){return this.apply.apply(this,
arguments)},set:function(a,b){this.html=a;this.compiled=null;return b?this.compile():this},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var a=this.disableFormats!==!0,b;b=this.html.replace(this.compileARe,"\\\\").replace(this.compileBRe,"\\n").replace(this.compileCRe,"\\'").replace(this.re,function(b,d,e,f){e&&a?(f=f?","+f:"",e=e.substr(0,5)!="this."?"fm."+e+"(":"this."+e.substr(5)+"("):(f="",e="(values['"+d+"'] == undefined ? '' : ");return"',"+e+"values['"+d+"']"+
f+") ,'"});eval("this.compiled = function(values){ return ['"+b+"'];};");return this},insertFirst:function(a,b,c){return this.doInsert("afterBegin",a,b,c)},insertBefore:function(a,b,c){return this.doInsert("beforeBegin",a,b,c)},insertAfter:function(a,b,c){return this.doInsert("afterEnd",a,b,c)},append:function(a,b,c){return this.doInsert("beforeEnd",a,b,c)},doInsert:function(a,b,c,d){b=Ext.getDom(b);a=Ext.DomHelper.insertHtml(a,b,this.apply(c));return d?Ext.get(a,!0):a},overwrite:function(a,b,c){a=
Ext.getDom(a);a.innerHTML=this.apply(b);return c?Ext.get(a.firstChild,!0):a.firstChild}});
Ext.define("Ext.XTemplate",{extend:"Ext.Template",requires:"Ext.XTemplateCompiler",apply:function(a){return this.applyOut(a,[]).join("")},applyOut:function(a,b){var c;if(!this.fn)c=new Ext.XTemplateCompiler({useFormat:this.disableFormats!==!0}),this.fn=c.compile(this.html);try{this.fn.call(this,b,a,{},1,1)}catch(d){}return b},compile:function(){return this},statics:{getTpl:function(a,b){var c=a[b],d;if(c&&!c.isTemplate)if(c=Ext.ClassManager.dynInstantiate("Ext.XTemplate",c),a.hasOwnProperty(b))a[b]=
c;else for(d=a.self.prototype;d;d=d.superclass)if(d.hasOwnProperty(b)){d[b]=c;break}return c||null}}});
Ext.define("Ext.util.SizeMonitor",{extend:"Ext.Evented",config:{element:null,detectorCls:Ext.baseCSSPrefix+"size-change-detector",callback:Ext.emptyFn,scope:null,args:[]},constructor:function(a){this.initConfig(a);this.doFireSizeChangeEvent=Ext.Function.bind(this.doFireSizeChangeEvent,this);var b=this,a=this.getElement().dom,c=this.getDetectorCls(),d=Ext.Element.create({classList:[c,c+"-expand"],children:[{}]},!0),c=Ext.Element.create({classList:[c,c+"-shrink"],children:[{}]},!0),e=function(a){b.onDetectorScroll("expand",
a)},f=function(a){b.onDetectorScroll("shrink",a)};a.appendChild(d);a.appendChild(c);this.detectors={expand:d,shrink:c};this.position={expand:{left:0,top:0},shrink:{left:0,top:0}};this.listeners={expand:e,shrink:f};this.refresh();d.addEventListener("scroll",e,!0);c.addEventListener("scroll",f,!0)},applyElement:function(a){if(a)return Ext.get(a)},refreshPosition:function(a){var b=this.detectors[a],c=this.position[a];c.left=a=b.scrollWidth-b.offsetWidth;c.top=c=b.scrollHeight-b.offsetHeight;b.scrollLeft=
a;b.scrollTop=c},refresh:function(){this.refreshPosition("expand");this.refreshPosition("shrink")},onDetectorScroll:function(a){var b=this.detectors[a],a=this.position[a];if(b.scrollLeft!==a.left||b.scrollTop!==a.top)this.refresh(),this.fireSizeChangeEvent()},fireSizeChangeEvent:function(){clearTimeout(this.sizeChangeThrottleTimer);this.sizeChangeThrottleTimer=setTimeout(this.doFireSizeChangeEvent,1)},doFireSizeChangeEvent:function(){this.getCallback().apply(this.getScope(),this.getArgs())},destroyDetector:function(a){var b=
this.detectors[a];b.removeEventListener("scroll",this.listeners[a],!0);Ext.removeNode(b)},destroy:function(){this.callParent(arguments);this.destroyDetector("expand");this.destroyDetector("shrink");delete this.listeners;delete this.detectors}});
Ext.define("Ext.fx.easing.BoundMomentum",{extend:"Ext.fx.easing.Abstract",requires:["Ext.fx.easing.Momentum","Ext.fx.easing.Bounce"],config:{momentum:null,bounce:null,minMomentumValue:0,maxMomentumValue:0,minVelocity:0.01,startVelocity:0},applyMomentum:function(a,b){return Ext.factory(a,Ext.fx.easing.Momentum,b)},applyBounce:function(a,b){return Ext.factory(a,Ext.fx.easing.Bounce,b)},updateStartTime:function(a){this.getMomentum().setStartTime(a);this.callParent(arguments)},updateStartVelocity:function(a){this.getMomentum().setStartVelocity(a)},
updateStartValue:function(a){this.getMomentum().setStartValue(a)},reset:function(){this.lastValue=null;this.isOutOfBound=this.isBouncingBack=!1;return this.callParent(arguments)},getValue:function(){var a=this.getMomentum(),b=this.getBounce(),c=a.getStartVelocity(),d=c>0?1:-1,e=this.getMinMomentumValue(),f=this.getMaxMomentumValue(),g=d==1?f:e,h=this.lastValue;if(c===0)return this.getStartValue();if(!this.isOutOfBound){c=a.getValue();a=a.getVelocity();if(Math.abs(a)<this.getMinVelocity())this.isEnded=
!0;if(c>=e&&c<=f)return c;this.isOutOfBound=!0;b.setStartTime(Ext.Date.now()).setStartVelocity(a).setStartValue(g)}c=b.getValue();if(!this.isEnded)if(this.isBouncingBack){if(Math.round(c)==g)this.isEnded=!0}else if(h!==null&&(d==1&&c<h||d==-1&&c>h))this.isBouncingBack=!0;return this.lastValue=c}});
Ext.define("Ext.fx.layout.card.Abstract",{extend:"Ext.Evented",isAnimation:!0,config:{direction:"left",duration:null,reverse:null,layout:null},updateLayout:function(){this.enable()},enable:function(){var a=this.getLayout();if(a)a.onBefore("activeitemchange","onActiveItemChange",this)},disable:function(){var a=this.getLayout();this.isAnimating&&this.stopAnimation();a&&a.unBefore("activeitemchange","onActiveItemChange",this)},onActiveItemChange:Ext.emptyFn,destroy:function(){var a=this.getLayout();
this.isAnimating&&this.stopAnimation();a&&a.unBefore("activeitemchange","onActiveItemChange",this);this.setLayout(null)}});
Ext.define("Ext.fx.layout.card.Style",{extend:"Ext.fx.layout.card.Abstract",requires:["Ext.fx.Animation"],config:{inAnimation:{before:{visibility:null},preserveEndState:!1,replacePrevious:!0},outAnimation:{preserveEndState:!1,replacePrevious:!0}},constructor:function(a){var b,c;this.initConfig(a);this.endAnimationCounter=0;b=this.getInAnimation();c=this.getOutAnimation();b.on("animationend","incrementEnd",this);c.on("animationend","incrementEnd",this);b.setConfig(a);c.setConfig(a)},incrementEnd:function(){this.endAnimationCounter++;
if(this.endAnimationCounter>1)this.endAnimationCounter=0,this.fireEvent("animationend",this)},applyInAnimation:function(a,b){return Ext.factory(a,Ext.fx.Animation,b)},applyOutAnimation:function(a,b){return Ext.factory(a,Ext.fx.Animation,b)},updateInAnimation:function(a){a.setScope(this)},updateOutAnimation:function(a){a.setScope(this)},onActiveItemChange:function(a,b,c,d,e){var a=this.getInAnimation(),d=this.getOutAnimation(),f;if(b&&c&&c.isPainted())f=b.renderElement,c=c.renderElement,a.setElement(f),
d.setElement(c),d.setOnBeforeEnd(function(a,b){if(b||Ext.Animator.hasRunningAnimations(a))e.firingArguments[1]=null,e.firingArguments[2]=null}),d.setOnEnd(function(){e.resume()}),f.dom.style.setProperty("visibility","hidden","!important"),b.show(),Ext.Animator.run([d,a]),e.pause()}});
Ext.define("Ext.fx.layout.card.Slide",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.slide",config:{inAnimation:{type:"slide",easing:"ease-out"},outAnimation:{type:"slide",easing:"ease-out",out:!0}},updateReverse:function(a){this.getInAnimation().setReverse(a);this.getOutAnimation().setReverse(a)}});
Ext.define("Ext.fx.layout.card.Cover",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.cover",config:{reverse:null,inAnimation:{before:{"z-index":100},after:{"z-index":0},type:"slide",easing:"ease-out"},outAnimation:{easing:"ease-out",from:{opacity:0.99},to:{opacity:1},out:!0}},updateReverse:function(a){this.getInAnimation().setReverse(a);this.getOutAnimation().setReverse(a)}});
Ext.define("Ext.fx.layout.card.Reveal",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.reveal",config:{inAnimation:{easing:"ease-out",from:{opacity:0.99},to:{opacity:1}},outAnimation:{before:{"z-index":100},after:{"z-index":0},type:"slide",easing:"ease-out",out:!0}},updateReverse:function(a){this.getInAnimation().setReverse(a);this.getOutAnimation().setReverse(a)}});
Ext.define("Ext.fx.layout.card.Fade",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.fade",config:{reverse:null,inAnimation:{type:"fade",easing:"ease-out"},outAnimation:{type:"fade",easing:"ease-out",out:!0}}});
Ext.define("Ext.fx.layout.card.Flip",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.flip",config:{duration:500,inAnimation:{type:"flip",half:!0,easing:"ease-out",before:{"backface-visibility":"hidden"},after:{"backface-visibility":null}},outAnimation:{type:"flip",half:!0,easing:"ease-in",before:{"backface-visibility":"hidden"},after:{"backface-visibility":null},out:!0}},updateDuration:function(a){a/=2;var b=this.getInAnimation(),c=this.getOutAnimation();b.setDelay(a);b.setDuration(a);c.setDuration(a)}});
Ext.define("Ext.fx.layout.card.Pop",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.pop",config:{duration:500,inAnimation:{type:"pop",easing:"ease-out"},outAnimation:{type:"pop",easing:"ease-in",out:!0}},updateDuration:function(a){a/=2;var b=this.getInAnimation(),c=this.getOutAnimation();b.setDelay(a);b.setDuration(a);c.setDuration(a)}});
Ext.define("Ext.fx.easing.Linear",{extend:"Ext.fx.easing.Abstract",alias:"easing.linear",config:{duration:0,endValue:0},updateStartValue:function(a){this.distance=this.getEndValue()-a},updateEndValue:function(a){this.distance=a-this.getStartValue()},getValue:function(){var a=Ext.Date.now()-this.getStartTime(),b=this.getDuration();return a>b?(this.isEnded=!0,this.getEndValue()):this.getStartValue()+a/b*this.distance}});
Ext.define("Ext.fx.layout.card.Scroll",{extend:"Ext.fx.layout.card.Abstract",requires:["Ext.fx.easing.Linear"],alias:"fx.layout.card.scroll",config:{duration:150},constructor:function(a){this.initConfig(a);this.doAnimationFrame=Ext.Function.bind(this.doAnimationFrame,this)},getEasing:function(){var a=this.easing;if(!a)this.easing=a=new Ext.fx.easing.Linear;return a},updateDuration:function(a){this.getEasing().setDuration(a)},onActiveItemChange:function(a,b,c,d,e){var a=this.getDirection(),d=this.getEasing(),
f,g,h,i,j;if(b&&c){this.isAnimating&&this.stopAnimation();f=this.getLayout().container.innerElement;i=f.getWidth();j=f.getHeight();g=b.renderElement;h=c.renderElement;this.oldItem=c;this.newItem=b;this.currentEventController=e;this.containerElement=f;this.isReverse=c=this.getReverse();b.show();if(a=="right")a="left",this.isReverse=c=!c;else if(a=="down")a="up",this.isReverse=c=!c;a=="left"?c?(d.setConfig({startValue:i,endValue:0}),f.dom.scrollLeft=i,h.setLeft(i)):(d.setConfig({startValue:0,endValue:i}),
g.setLeft(i)):c?(d.setConfig({startValue:j,endValue:0}),f.dom.scrollTop=j,h.setTop(j)):(d.setConfig({startValue:0,endValue:j}),g.setTop(j));this.startAnimation();e.pause()}},startAnimation:function(){this.isAnimating=!0;this.getEasing().setStartTime(Date.now());this.timer=setInterval(this.doAnimationFrame,20);this.doAnimationFrame()},doAnimationFrame:function(){var a=this.getEasing(),b=this.getDirection(),c="scrollTop";if(b=="left"||b=="right")c="scrollLeft";a.isEnded?this.stopAnimation():(a=a.getValue(),
this.containerElement.dom[c]=a)},stopAnimation:function(){var a=this.getDirection(),b="setTop";if(a=="left"||a=="right")b="setLeft";this.currentEventController.resume();if(this.isReverse)this.oldItem.renderElement[b](null);else this.newItem.renderElement[b](null);clearInterval(this.timer);this.isAnimating=!1;this.fireEvent("animationend",this)}});
Ext.define("Ext.fx.layout.Card",{requires:"Ext.fx.layout.card.Slide,Ext.fx.layout.card.Cover,Ext.fx.layout.card.Reveal,Ext.fx.layout.card.Fade,Ext.fx.layout.card.Flip,Ext.fx.layout.card.Pop,Ext.fx.layout.card.Scroll".split(","),constructor:function(a){var b=Ext.fx.layout.card.Abstract,c;if(!a)return null;if(typeof a=="string")c=a,a={};else if(a.type)c=a.type;a.elementBox=!1;c&&(Ext.os.is.Android2?c!="fade"&&(c="scroll"):c==="slide"&&Ext.browser.is.ChromeMobile&&(c="scroll"),b=Ext.ClassManager.getByAlias("fx.layout.card."+
c));return Ext.factory(a,b)}});
Ext.define("Ext.layout.Card",{extend:"Ext.layout.Fit",alternateClassName:"Ext.layout.CardLayout",isCard:!0,requires:["Ext.fx.layout.Card"],alias:"layout.card",cls:Ext.baseCSSPrefix+"layout-card",itemCls:Ext.baseCSSPrefix+"layout-card-item",constructor:function(){this.callParent(arguments);this.container.onInitialized(this.onContainerInitialized,this)},applyAnimation:function(a){return new Ext.fx.layout.Card(a)},updateAnimation:function(a,b){a&&a.isAnimation&&a.setLayout(this);b&&b.destroy()},doItemAdd:function(a,
b){a.isInnerItem()&&a.hide();this.callParent(arguments)},doItemRemove:function(a,b,c){this.callParent(arguments);!c&&a.isInnerItem()&&a.show()},onContainerInitialized:function(a){var b=a.getActiveItem();b&&b.show();a.on("activeitemchange","onContainerActiveItemChange",this)},onContainerActiveItemChange:function(a){this.relayEvent(arguments,"doActiveItemChange")},doActiveItemChange:function(a,b,c){c&&c.hide();b&&b.show()},doItemDockedChange:function(a,b){var c=a.element;b?c.removeCls(this.itemCls):
c.addCls(this.itemCls);this.callParent(arguments)}});Ext.define("Ext.layout.Layout",{requires:["Ext.layout.Fit","Ext.layout.Card","Ext.layout.HBox","Ext.layout.VBox"],constructor:function(a,b){var c=Ext.layout.Default,d;if(typeof b=="string")d=b,b={};else if("type"in b)d=b.type;d&&(c=Ext.ClassManager.getByAlias("layout."+d));return new c(a,b)}});
Ext.define("Ext.fx.easing.EaseOut",{extend:"Ext.fx.easing.Linear",alias:"easing.ease-out",config:{exponent:4,duration:1500},getValue:function(){var a=Ext.Date.now()-this.getStartTime(),b=this.getDuration(),c=this.getStartValue(),d=this.getEndValue(),e=this.distance,f=1-Math.pow(1-a/b,this.getExponent());return a>=b?(this.isEnded=!0,d):c+f*e}});
Ext.define("Ext.util.translatable.Abstract",{extend:"Ext.Evented",requires:["Ext.fx.easing.Linear"],config:{element:null,easing:null,easingX:null,easingY:null,fps:60},constructor:function(a){this.doAnimationFrame=Ext.Function.bind(this.doAnimationFrame,this);this.y=this.x=0;this.activeEasingY=this.activeEasingX=null;if((this.initialConfig=a)&&a.element)a=a.element,this.setElement(a)},applyElement:function(a){return!a?void 0:Ext.get(a)},updateElement:function(){this.initConfig(this.initialConfig);
this.refresh()},factoryEasing:function(a){return Ext.factory(a,Ext.fx.easing.Linear,null,"easing")},applyEasing:function(a){this.getEasingX()||this.setEasingX(this.factoryEasing(a));this.getEasingY()||this.setEasingY(this.factoryEasing(a))},applyEasingX:function(a){return this.factoryEasing(a)},applyEasingY:function(a){return this.factoryEasing(a)},updateFps:function(a){this.animationInterval=1E3/a},doTranslate:function(a,b){if(typeof a=="number")this.x=a;if(typeof b=="number")this.y=b;return this},
translate:function(a,b,c){if(this.getElement().dom){if(Ext.isObject(a))throw Error();this.stopAnimation();return c!==void 0?this.translateAnimated(a,b,c):this.doTranslate(a,b)}},animate:function(a,b){this.activeEasingX=a;this.activeEasingY=b;this.isAnimating=!0;this.animationTimer=setInterval(this.doAnimationFrame,this.animationInterval);this.fireEvent("animationstart",this,this.x,this.y);return this},translateAnimated:function(a,b,c){if(Ext.isObject(a))throw Error();Ext.isObject(c)||(c={});var d=
Ext.Date.now(),e=c.easing,f=typeof a=="number"?c.easingX||this.getEasingX()||e||!0:null,e=typeof b=="number"?c.easingY||this.getEasingY()||e||!0:null;f&&(f=this.factoryEasing(f),f.setStartTime(d),f.setStartValue(this.x),f.setEndValue(a),"duration"in c&&f.setDuration(c.duration));e&&(e=this.factoryEasing(e),e.setStartTime(d),e.setStartValue(this.y),e.setEndValue(b),"duration"in c&&e.setDuration(c.duration));return this.animate(f,e)},doAnimationFrame:function(){var a=this.activeEasingX,b=this.activeEasingY,
c=this.getElement();if(this.isAnimating&&c.dom)if(a===null&&b===null)this.stopAnimation();else{if(a!==null){if(this.x=c=Math.round(a.getValue()),a.isEnded)this.activeEasingX=null,this.fireEvent("axisanimationend",this,"x",c)}else c=this.x;if(b!==null){if(this.y=a=Math.round(b.getValue()),b.isEnded)this.activeEasingY=null,this.fireEvent("axisanimationend",this,"y",a)}else a=this.y;this.doTranslate(c,a);this.fireEvent("animationframe",this,c,a)}},stopAnimation:function(){if(this.isAnimating)this.activeEasingY=
this.activeEasingX=null,this.isAnimating=!1,clearInterval(this.animationTimer),this.fireEvent("animationend",this,this.x,this.y)},refresh:function(){this.translate(this.x,this.y)}});
Ext.define("Ext.util.translatable.CssTransform",{extend:"Ext.util.translatable.Abstract",doTranslate:function(a,b){var c=this.getElement().dom.style;if(typeof a!="number")a=this.x;if(typeof b!="number")b=this.y;c.webkitTransform="translate3d("+a+"px, "+b+"px, 0px)";return this.callParent(arguments)},destroy:function(){var a=this.getElement();if(a&&!a.isDestroyed)a.dom.style.webkitTransform=null;this.callParent(arguments)}});
Ext.define("Ext.util.translatable.ScrollPosition",{extend:"Ext.util.translatable.Abstract",wrapperWidth:0,wrapperHeight:0,baseCls:"x-translatable",config:{useWrapper:!0},getWrapper:function(){var a=this.wrapper,b=this.baseCls,c=this.getElement(),d,e;if(!a){e=c.getParent();if(!e)return null;a=this.getUseWrapper()?c.wrap({className:b+"-wrapper"},!0):e.dom;a.appendChild(Ext.Element.create({className:b+"-stretcher"},!0));this.nestedStretcher=d=Ext.Element.create({className:b+"-nested-stretcher"},!0);
c.appendChild(d);c.addCls(b);e.addCls(b+"-container");this.container=e;this.wrapper=a;this.refresh()}return a},doTranslate:function(a,b){var c=this.getWrapper();if(c){if(typeof a=="number")c.scrollLeft=this.wrapperWidth-a;if(typeof b=="number")c.scrollTop=this.wrapperHeight-b}return this.callParent(arguments)},refresh:function(){var a=this.getWrapper();if(a)this.wrapperWidth=a.offsetWidth,this.wrapperHeight=a.offsetHeight,this.callParent(arguments)},destroy:function(){var a=this.getElement(),b=this.baseCls;
this.wrapper&&(this.getUseWrapper()&&a.unwrap(),this.container.removeCls(b+"-container"),a.removeCls(b),a.removeChild(this.nestedStretcher));this.callParent(arguments)}});
Ext.define("Ext.util.Translatable",{requires:["Ext.util.translatable.CssTransform","Ext.util.translatable.ScrollPosition"],constructor:function(a){var b=Ext.util.translatable,c=b.CssTransform,b=b.ScrollPosition,d;typeof a=="object"&&"translationMethod"in a&&(a.translationMethod==="scrollposition"?d=b:a.translationMethod==="csstransform"&&(d=c));d||(d=Ext.os.is.Android2||Ext.browser.is.ChromeMobile?b:c);return new d(a)}});
Ext.define("Ext.behavior.Translatable",{extend:"Ext.behavior.Behavior",requires:["Ext.util.Translatable"],constructor:function(){this.listeners={painted:"onComponentPainted",scope:this};this.callParent(arguments)},onComponentPainted:function(){this.translatable.refresh()},setConfig:function(a){var b=this.translatable,c=this.component;if(a)if(b)Ext.isObject(a)&&b.setConfig(a);else{this.translatable=b=new Ext.util.Translatable(a);b.setElement(c.renderElement);b.on("destroy","onTranslatableDestroy",
this);if(c.isPainted())this.onComponentPainted(c);c.on(this.listeners)}else b&&b.destroy();return this},getTranslatable:function(){return this.translatable},onTranslatableDestroy:function(){var a=this.component;delete this.translatable;a.un(this.listeners)},onComponentDestroy:function(){var a=this.translatable;a&&a.destroy()}});
Ext.define("Ext.util.Draggable",{isDraggable:!0,mixins:["Ext.mixin.Observable"],requires:["Ext.util.SizeMonitor","Ext.util.Translatable"],config:{cls:Ext.baseCSSPrefix+"draggable",draggingCls:Ext.baseCSSPrefix+"dragging",element:null,constraint:"container",disabled:null,direction:"both",initialOffset:{x:0,y:0},translatable:{}},DIRECTION_BOTH:"both",DIRECTION_VERTICAL:"vertical",DIRECTION_HORIZONTAL:"horizontal",defaultConstraint:{min:{x:-Infinity,y:-Infinity},max:{x:Infinity,y:Infinity}},constructor:function(a){var b;
this.sizeMonitors={};this.extraConstraint={};this.initialConfig=a;this.offset={x:0,y:0};this.listeners={dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",scope:this};if(a&&a.element)b=a.element,delete a.element,this.setElement(b);return this},applyElement:function(a){return!a?void 0:Ext.get(a)},updateElement:function(a){a.on(this.listeners);this.sizeMonitors.element=new Ext.util.SizeMonitor({element:a,callback:this.doRefresh,scope:this});this.initConfig(this.initialConfig)},updateInitialOffset:function(a){typeof a==
"number"&&(a={x:a,y:a});var b=this.offset,c;b.x=c=a.x;b.y=a=a.y;this.getTranslatable().doTranslate(c,a)},updateCls:function(a){this.getElement().addCls(a)},applyTranslatable:function(a,b){a=Ext.factory(a,Ext.util.Translatable,b);a.setElement(this.getElement());return a},setExtraConstraint:function(a){this.extraConstraint=a||{};this.refreshConstraint();return this},addExtraConstraint:function(a){Ext.merge(this.extraConstraint,a);this.refreshConstraint();return this},applyConstraint:function(a){this.currentConstraint=
a;if(!a)a=this.defaultConstraint;return a==="container"?Ext.merge(this.getContainerConstraint(),this.extraConstraint):Ext.merge({},this.extraConstraint,a)},updateConstraint:function(){this.refreshOffset()},getContainerConstraint:function(){var a=this.getContainer(),b=this.getElement();if(!a||!b.dom)return this.defaultConstraint;b=b.dom;a=a.dom;return{min:{x:0,y:0},max:{x:a.offsetWidth-b.offsetWidth,y:a.offsetHeight-b.offsetHeight}}},getContainer:function(){var a=this.container;if(!a&&(a=this.getElement().getParent()))this.sizeMonitors.container=
new Ext.util.SizeMonitor({element:a,callback:this.doRefresh,scope:this}),this.container=a;return a},detachListeners:function(){this.getElement().un(this.listeners)},isAxisEnabled:function(a){var b=this.getDirection();return a==="x"?b===this.DIRECTION_BOTH||b===this.DIRECTION_HORIZONTAL:b===this.DIRECTION_BOTH||b===this.DIRECTION_VERTICAL},onDragStart:function(a){if(this.getDisabled())return!1;var b=this.offset;this.fireAction("dragstart",[this,a,b.x,b.y],this.initDragStart)},initDragStart:function(a,
b,c,d){this.dragStartOffset={x:c,y:d};this.isDragging=!0;this.getElement().addCls(this.getDraggingCls())},onDrag:function(a){if(this.isDragging){var b=this.dragStartOffset;this.fireAction("drag",[this,a,b.x+a.deltaX,b.y+a.deltaY],this.doDrag)}},doDrag:function(a,b,c,d){a.setOffset(c,d)},onDragEnd:function(a){if(this.isDragging)this.onDrag(a),this.isDragging=!1,this.getElement().removeCls(this.getDraggingCls()),this.fireEvent("dragend",this,a,this.offset.x,this.offset.y)},setOffset:function(a,b,c){var d=
this.offset,e=this.getConstraint(),f=e.min,e=e.max,g=Math.min,h=Math.max,a=this.isAxisEnabled("x")&&typeof a=="number"?g(h(a,f.x),e.x):d.x,b=this.isAxisEnabled("y")&&typeof b=="number"?g(h(b,f.y),e.y):d.y;d.x=a;d.y=b;this.getTranslatable().translate(a,b,c)},getOffset:function(){return this.offset},refreshConstraint:function(){this.setConstraint(this.currentConstraint)},refreshOffset:function(){var a=this.offset;this.setOffset(a.x,a.y)},doRefresh:function(){this.refreshConstraint();this.getTranslatable().refresh();
this.refreshOffset()},refresh:function(){var a=this.sizeMonitors;a.element&&a.element.refresh();a.container&&a.container.refresh();this.doRefresh()},enable:function(){return this.setDisabled(!1)},disable:function(){return this.setDisabled(!0)},destroy:function(){var a=this.sizeMonitors,b=this.getTranslatable();a.element&&a.element.destroy();a.container&&a.container.destroy();(a=this.getElement())&&!a.isDestroyed&&a.removeCls(this.getCls());this.detachListeners();b&&b.destroy()}},function(){this.override({constructor:function(a){if(a&&
a.constrain)a.contraint=a.constrain,delete a.constrain;return this.callOverridden(arguments)}})});
Ext.define("Ext.behavior.Draggable",{extend:"Ext.behavior.Behavior",requires:["Ext.util.Draggable"],constructor:function(){this.listeners={painted:"onComponentPainted",scope:this};this.callParent(arguments)},onComponentPainted:function(){this.draggable.refresh()},setConfig:function(a){var b=this.draggable,c=this.component;if(a)if(b)Ext.isObject(a)&&b.setConfig(a);else{c.setTranslatable(!0);this.draggable=b=new Ext.util.Draggable(a);b.setTranslatable(c.getTranslatable());b.setElement(c.renderElement);
b.on("destroy","onDraggableDestroy",this);if(c.isPainted())this.onComponentPainted(c);c.on(this.listeners)}else b&&b.destroy();return this},getDraggable:function(){return this.draggable},onDraggableDestroy:function(){var a=this.component;delete this.draggable;a.un(this.listeners)},onComponentDestroy:function(){var a=this.draggable;a&&a.destroy()}});
(function(a){Ext.define("Ext.Component",{extend:"Ext.AbstractComponent",alternateClassName:"Ext.lib.Component",mixins:["Ext.mixin.Traversable"],requires:["Ext.ComponentManager","Ext.XTemplate","Ext.dom.Element","Ext.behavior.Translatable","Ext.behavior.Draggable"],xtype:"component",observableType:"component",cachedConfig:{baseCls:null,cls:null,floatingCls:null,hiddenCls:a+"item-hidden",ui:null,margin:null,padding:null,border:null,styleHtmlCls:a+"html",styleHtmlContent:null},eventedConfig:{left:null,
top:null,right:null,bottom:null,width:null,height:null,minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,docked:null,centered:null,hidden:null,disabled:null},config:{style:null,html:null,draggable:null,translatable:null,renderTo:null,zIndex:null,tpl:null,enterAnimation:null,exitAnimation:null,showAnimation:null,hideAnimation:null,tplWriteMode:"overwrite",data:null,disabledCls:a+"item-disabled",contentEl:null,itemId:void 0,record:null,plugins:null},listenerOptionsRegex:/^(?:delegate|single|delay|buffer|args|prepend|element)$/,
alignmentRegex:/^([a-z]+)-([a-z]+)(\?)?$/,isComponent:!0,floating:!1,rendered:!1,dockPositions:{top:!0,right:!0,bottom:!0,left:!0},innerElement:null,element:null,template:[],constructor:function(a){var c=this.config;this.onInitializedListeners=[];this.initialConfig=a;this.id=a=a!==void 0&&"id"in a?a.id:"id"in c?c.id:this.getId();this.setId(a);Ext.ComponentManager.register(this);this.initElement();this.initConfig(this.initialConfig);this.initialize();this.triggerInitialized();"fullscreen"in this.config&&
this.fireEvent("fullscreen",this);this.fireEvent("initialize",this)},beforeInitConfig:function(a){this.beforeInitialize.apply(this,arguments)},beforeInitialize:Ext.emptyFn,initialize:Ext.emptyFn,getTemplate:function(){return this.template},getElementConfig:function(){return{reference:"element",children:this.getTemplate()}},triggerInitialized:function(){var a=this.onInitializedListeners,c=a.length,d,e;if(!this.initialized&&(this.initialized=!0,c>0)){for(e=0;e<c;e++)d=a[e],d.fn.call(d.scope,this);a.length=
0}},onInitialized:function(a,c){var d=this.onInitializedListeners;c||(c=this);this.initialized?a.call(c,this):d.push({fn:a,scope:c})},renderTo:function(a,c){var d=this.renderElement.dom,e=Ext.getDom(a),f=Ext.getDom(c);e&&(f?e.insertBefore(d,f):e.appendChild(d),this.setRendered(Boolean(d.offsetParent)))},setParent:function(a){var c=this.parent;a&&c&&c!==a&&c.remove(this,!1);this.parent=a;return this},applyPlugins:function(a){var c,d,e;if(!a)return a;a=[].concat(a);for(d=0,c=a.length;d<c;d++){e=a[d];
if(Ext.isObject(e)&&e.ptype)e.type=e.ptype;a[d]=Ext.factory(e,"Ext.plugin.Plugin",null,"plugin")}return a},updatePlugins:function(a,c){var d,e;if(a)for(e=0,d=a.length;e<d;e++)a[e].init(this);if(c)for(e=0,d=c.length;e<d;e++)Ext.destroy(c[e])},updateRenderTo:function(a){this.renderTo(a)},updateStyle:function(a){this.element.applyStyles(a)},updateBorder:function(a){this.element.setBorder(a)},updatePadding:function(a){this.innerElement.setPadding(a)},updateMargin:function(a){this.element.setMargin(a)},
updateUi:function(a,c){var d=this.getBaseCls();d&&(c&&this.element.removeCls(c,d),a&&this.element.addCls(a,d))},applyBaseCls:function(b){return b||a+this.xtype},updateBaseCls:function(a,c){var d=this.getUi();a&&(this.element.addCls(a),d&&this.element.addCls(a,null,d));c&&(this.element.removeCls(c),d&&this.element.removeCls(c,null,d))},addCls:function(a,c,d){var e=this.getCls(),e=e?e.slice():[],f,g,h,c=c||"",d=d||"";typeof a=="string"&&(a=[a]);f=a.length;if(!e.length&&c===""&&d==="")e=a;else for(g=
0;g<f;g++)h=c+a[g]+d,e.indexOf(h)==-1&&e.push(h);this.setCls(e)},removeCls:function(a,c,d){var e=this.getCls(),e=e?e.slice():[],f,g,c=c||"",d=d||"";if(typeof a=="string")e=Ext.Array.remove(e,c+a+d);else{f=a.length;for(g=0;g<f;g++)e=Ext.Array.remove(e,c+a[g]+d)}this.setCls(e)},replaceCls:function(a,c,d,e){var f=this.getCls(),f=f?f.slice():[],g,h,d=d||"",e=e||"";if(typeof a=="string")f=Ext.Array.remove(f,d+a+e);else if(a){g=a.length;for(h=0;h<g;h++)f=Ext.Array.remove(f,d+a[h]+e)}if(typeof c=="string")f.push(d+
c+e);else if(c)if(g=c.length,!f.length&&d===""&&e==="")f=c;else for(h=0;h<g;h++)a=d+c[h]+e,f.indexOf(a)==-1&&f.push(a);this.setCls(f)},applyCls:function(a){typeof a=="string"&&(a=[a]);if(!a||!a.length)a=null;return a},updateCls:function(a,c){this.element.replaceCls(c,a)},updateStyleHtmlCls:function(a,c){var d=this.innerHtmlElement,e=this.innerElement;this.getStyleHtmlContent()&&c&&(d?d.replaceCls(c,a):e.replaceCls(c,a))},applyStyleHtmlContent:function(a){return Boolean(a)},updateStyleHtmlContent:function(a){var c=
this.getStyleHtmlCls(),d=this.innerElement,e=this.innerHtmlElement;a?e?e.addCls(c):d.addCls(c):e?e.removeCls(c):d.addCls(c)},applyContentEl:function(a){if(a)return Ext.get(a)},updateContentEl:function(a,c){c&&(c.hide(),Ext.getBody().append(c));a&&(this.setHtml(a.dom),a.show())},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},isCentered:function(){return Boolean(this.getCentered())},isFloating:function(){return this.floating},isDocked:function(){return Boolean(this.getDocked())},
isInnerItem:function(){return!this.isCentered()&&!this.isFloating()&&!this.isDocked()},filterPositionValue:function(a){if(a===""||a==="auto")a=null;return a},applyTop:function(a){return this.filterPositionValue(a)},applyRight:function(a){return this.filterPositionValue(a)},applyBottom:function(a){return this.filterPositionValue(a)},applyLeft:function(a){return this.filterPositionValue(a)},doSetTop:function(a){this.updateFloating();this.element.setTop(a)},doSetRight:function(a){this.updateFloating();
this.element.setRight(a)},doSetBottom:function(a){this.updateFloating();this.element.setBottom(a)},doSetLeft:function(a){this.updateFloating();this.element.setLeft(a)},doSetWidth:function(a){this.element.setWidth(a)},doSetHeight:function(a){this.element.setHeight(a)},doSetMinWidth:function(a){this.element.setMinWidth(a)},doSetMinHeight:function(a){this.element.setMinHeight(a)},doSetMaxWidth:function(a){this.element.setMaxWidth(a)},doSetMaxHeight:function(a){this.element.setMaxHeight(a)},applyCentered:function(a){if(a=
Boolean(a))this.isFloating()&&this.resetFloating(),this.isDocked()&&this.setDocked(!1);return a},doSetCentered:Ext.emptyFn,applyDocked:function(a){if(a){if(!this.dockPositions[a])return;this.isFloating()&&this.resetFloating();this.isCentered()&&this.setCentered(!1)}return a},doSetDocked:Ext.emptyFn,resetFloating:function(){this.setTop(null);this.setRight(null);this.setBottom(null);this.setLeft(null)},updateFloating:function(){var a=!0,c=this.getFloatingCls();this.getTop()===null&&this.getBottom()===
null&&this.getRight()===null&&this.getLeft()===null&&(a=!1);if(a!==this.floating)a?(this.isCentered()&&this.setCentered(!1),this.isDocked()&&this.setDocked(!1),c&&this.addCls(c)):c&&this.removeCls(c),this.floating=a,this.fireEvent("floatingchange",this,a)},updateFloatingCls:function(a,c){this.isFloating()&&this.replaceCls(c,a)},applyDisabled:function(a){return Boolean(a)},doSetDisabled:function(a){this.element[a?"addCls":"removeCls"](this.getDisabledCls())},updateDisabledCls:function(a,c){this.isDisabled()&&
this.element.replaceCls(c,a)},disable:function(){this.setDisabled(!0)},enable:function(){this.setDisabled(!1)},isDisabled:function(){return this.getDisabled()},applyZIndex:function(a){a!==null&&(a=Number(a),isNaN(a)&&(a=null));return a},updateZIndex:function(a){var c=this.element.dom.style;a!==null?c.setProperty("z-index",a,"important"):c.removeProperty("z-index")},getInnerHtmlElement:function(){var a=this.innerHtmlElement,c=this.getStyleHtmlCls();if(!a||!a.dom||!a.dom.parentNode)this.innerHtmlElement=
a=this.innerElement.createChild({cls:"x-innerhtml "}),this.getStyleHtmlContent()&&(this.innerHtmlElement.addCls(c),this.innerElement.removeCls(c));return a},updateHtml:function(a){var c=this.getInnerHtmlElement();Ext.isElement(a)?(c.setHtml(""),c.append(a)):c.setHtml(a)},applyHidden:function(a){return Boolean(a)},doSetHidden:function(a){var c=this.renderElement;if(!c.isDestroyed){a?c.hide():c.show();if(this.element)this.element[a?"addCls":"removeCls"](this.getHiddenCls());this.fireEvent(a?"hide":
"show",this)}},updateHiddenCls:function(a,c){this.isHidden()&&this.element.replaceCls(c,a)},isHidden:function(){return this.getHidden()},hide:function(a){if(!this.getHidden()){if(a===void 0||a&&a.isComponent)a=this.getHideAnimation();a&&(a===!0&&(a="fadeOut"),this.onBefore({hiddenchange:"animateFn",scope:this,single:!0,args:[a]}));this.setHidden(!0)}return this},show:function(a){var c=this.getHidden();if(c||c===null){if(a===void 0||a&&!a.isComponent)a=this.getShowAnimation();a&&(a===!0&&(a="fadeIn"),
this.onBefore({hiddenchange:"animateFn",scope:this,single:!0,args:[a]}));this.setHidden(!1)}return this},animateFn:function(a,c,d,e,f,g){a&&(a=new Ext.fx.Animation(a),a.setElement(c.element),d&&(a.setOnEnd(function(){g.resume()}),g.pause()),Ext.Animator.run(a))},setVisibility:function(a){this.renderElement.setVisibility(a)},isRendered:function(){return this.rendered},isPainted:function(){return this.renderElement.isPainted()},applyTpl:function(a){return Ext.isObject(a)&&a.isTemplate?a:new Ext.XTemplate(a)},
applyData:function(a){return Ext.isObject(a)?Ext.apply({},a):a},updateData:function(a){if(a){var c=this.getTpl(),d=this.getTplWriteMode();if(c)c[d](this.getInnerHtmlElement(),a);this.fireEvent("updatedata",this,a)}},applyRecord:function(a){return a&&Ext.isObject(a)&&a.isModel?a:null},updateRecord:function(a,c){c&&c.unjoin(this);a?(a.join(this),this.updateData(a.getData(!0))):this.updateData("")},afterEdit:function(){this.updateRecord(this.getRecord())},afterErase:function(){this.setRecord(null)},
applyItemId:function(a){return a||this.getId()},isXType:function(a,c){return c?this.xtypes.indexOf(a)!=-1:Boolean(this.xtypesMap[a])},getXTypes:function(){return this.xtypesChain.join("/")},getDraggableBehavior:function(){var a=this.draggableBehavior;if(!a)a=this.draggableBehavior=new Ext.behavior.Draggable(this);return a},applyDraggable:function(a){this.getDraggableBehavior().setConfig(a)},getDraggable:function(){return this.getDraggableBehavior().getDraggable()},getTranslatableBehavior:function(){var a=
this.translatableBehavior;if(!a)a=this.translatableBehavior=new Ext.behavior.Translatable(this);return a},applyTranslatable:function(a){this.getTranslatableBehavior().setConfig(a)},getTranslatable:function(){return this.getTranslatableBehavior().getTranslatable()},translateAxis:function(a,c,d){var e,f;a==="x"?e=c:f=c;return this.translate(e,f,d)},translate:function(){var a=this.getTranslatable();a||(this.setTranslatable(!0),a=this.getTranslatable());a.translate.apply(a,arguments)},setRendered:function(a){return a!==
this.rendered?(this.rendered=a,!0):!1},setSize:function(a,c){a!=void 0&&this.setWidth(a);c!=void 0&&this.setHeight(c)},doAddListener:function(a,c,d,e,f){e&&"element"in e&&this[e.element].doAddListener(a,c,d||this,e,f);return this.callParent(arguments)},doRemoveListener:function(a,c,d,e,f){e&&"element"in e&&this[e.element].doRemoveListener(a,c,d||this,e,f);return this.callParent(arguments)},showBy:function(a,c){var d=Ext.Array.from(arguments),e=Ext.Viewport,f=this.getParent();this.setVisibility(!1);
f!==e&&e.add(this);this.show();this.on("erased","onShowByErased",this,{single:!0});e.on("resize","refreshShowBy",this,{args:[a,c]});this.currentShowByArgs=d;this.alignTo(a,c);this.setVisibility(!0)},refreshShowBy:function(a,c){this.alignTo(a,c)},onShowByErased:function(){Ext.Viewport.un("resize","refreshShowBy",this)},alignTo:function(a,c){var d=this.renderElement,e=(a.isComponent?a.renderElement:a).getPageBox(),f=this.getParent().element.getPageBox(),g=d.getPageBox(),h=e.height,i=e.width,d=g.height,
g=g.width;f.bottom-=5;f.height-=10;f.left+=5;f.right-=5;f.top+=5;f.width-=10;if(!c||c==="auto")c=f.bottom-e.bottom<d?e.top-f.top<d?e.left-f.left<g?"cl-cr?":"cr-cl?":"bc-tc?":"tc-bc?";var j=c.match(this.alignmentRegex),k=j[1].split(""),l=j[2].split(""),j=j[3]==="?",m=k[0],k=k[1]||m,q=l[0],o=l[1]||q,l=e.top,e=e.left,p=h/2,r=i/2,t=g/2,s=d/2;switch(m){case "t":switch(q){case "c":l+=p;break;case "b":l+=h}break;case "b":switch(q){case "c":l-=d-p;break;case "t":l-=d;break;case "b":l-=d-h}break;case "c":switch(q){case "t":l-=
s;break;case "c":l-=s-p;break;case "b":l-=s-h}}switch(k){case "l":switch(o){case "c":e+=p;break;case "r":e+=i}break;case "r":switch(o){case "r":e-=g-i;break;case "c":e-=g-t;break;case "l":e-=g}break;case "c":switch(o){case "l":e-=t;break;case "c":e-=t-r;break;case "r":e-=t-i}}j&&(h=f.left+f.width-g,d=f.top+f.height-d,e=Math.max(f.left,Math.min(h,e)),l=Math.max(f.top,Math.min(d,l)));this.setLeft(e);this.setTop(l)},up:function(a){var c=this.parent;if(a)for(;c;c=c.parent)if(Ext.ComponentQuery.is(c,a))break;
return c},getBubbleTarget:function(){return this.getParent()},destroy:function(){this.destroy=Ext.emptyFn;var a=this.getParent(),c=this.referenceList,d,e;a&&a.remove(this,!1);for(a=0,d=c.length;a<d;a++)e=c[a],this[e].destroy(),delete this[e];this.setRecord(null);Ext.destroy(this.innerHtmlElement,this.getTranslatable());Ext.ComponentManager.unregister(this);this.callParent()},onClassExtended:function(a,c){var d=this.prototype.config,e=c.config||{},f;for(f in d)f in c&&(e[f]=c[f],delete c[f]);c.config=
e}},function(){var a=Ext.emptyFn;this.override({constructor:function(c){var d;if(c){if(c.enabled)c.disabled=!c.enabled;if((c.scroll||this.config.scroll||this.scrollable||this.config.scrollable)&&!this.isContainer)delete c.scrollable,delete c.scroll;(c.hideOnMaskTap||this.config.hideOnMaskTap)&&!this.isContainer&&delete c.hideOnMaskTap;(c.modal||this.config.modal)&&!this.isContainer&&delete c.modal;if(c.dock)c.docked=c.dock,delete c.dock;if(c.enterAnimation)c.showAnimation=c.enterAnimation,delete c.enterAnimation;
if(c.exitAnimation)c.hideAnimation=c.exitAnimation,delete c.exitAnimation;if(c.componentCls)c.cls=c.componentCls;if(c.floating)c.left=c.left||0;for(d in c)c.hasOwnProperty(d)&&d!=="xtype"&&d!=="xclass"&&!this.hasConfig(d)&&(this[d]=c[d]);c.layoutOnOrientationChange&&delete c.layoutOnOrientationChange;c.monitorOrientation&&delete c.monitorOrientation;c.stopMaskTapEvent&&delete c.stopMaskTapEvent}this.callParent(arguments);if(this.onRender!==a)this.onRender();this.afterRender!==a&&this.afterRender();
this.initEvents!==a&&this.initEvents();this.initComponent!==a&&this.initComponent();this.setOrientation!==a&&this.setOrientation()},onRender:a,afterRender:a,initEvents:a,initComponent:a,setOrientation:a,show:function(){if(this.renderElement.dom){var a=this.renderElement.dom.parentNode;a&&a.nodeType==11&&Ext.Viewport.add(this)}return this.callParent(arguments)},doAddListener:function(a,b,e,f,g){return this.callParent(arguments)},addListener:function(a){arguments.length===1&&Ext.isObject(a)&&("el"in
a||"body"in a)&&Ext.Logger.error("Adding component element listeners using the old format is no longer supported. Please refer to: http://bit.ly/xHCyfa for more details.",this);return this.callParent(arguments)},getEl:function(){return this.renderElement},setFloating:function(a){var b=this.isFloating();a&&!b?this.setTop(0):b&&this.resetFloating()},setScrollable:function(){return!1}});Ext.deprecateClassMembers(this,{el:"element",body:"element",outer:"renderElement",ownerCt:"parent",update:"setHtml"})})})(Ext.baseCSSPrefix);
Ext.define("Ext.Button",{extend:"Ext.Component",xtype:"button",cachedConfig:{pressedCls:Ext.baseCSSPrefix+"button-pressing",badgeCls:Ext.baseCSSPrefix+"badge",hasBadgeCls:Ext.baseCSSPrefix+"hasbadge",labelCls:Ext.baseCSSPrefix+"button-label",iconMaskCls:Ext.baseCSSPrefix+"icon-mask"},config:{badgeText:null,text:null,iconCls:null,icon:null,iconAlign:"left",pressedDelay:0,iconMask:null,handler:null,scope:null,autoEvent:null,ui:"normal",baseCls:Ext.baseCSSPrefix+"button"},template:[{tag:"span",reference:"badgeElement",
hidden:!0},{tag:"span",className:Ext.baseCSSPrefix+"button-icon",reference:"iconElement",hidden:!0},{tag:"span",reference:"textElement",hidden:!0}],initialize:function(){this.callParent();this.element.on({scope:this,tap:"onTap",touchstart:"onPress",touchend:"onRelease"})},updateBadgeText:function(a){var b=this.element,c=this.badgeElement;a?(c.show(),c.setText(a)):c.hide();b[a?"addCls":"removeCls"](this.getHasBadgeCls())},updateText:function(a){var b=this.textElement;a?(b.show(),b.setHtml(a)):b.hide()},
updateHtml:function(a){var b=this.textElement;a?(b.show(),b.setHtml(a)):b.hide()},updateBadgeCls:function(a,b){this.badgeElement.replaceCls(b,a)},updateHasBadgeCls:function(a,b){var c=this.element;c.hasCls(b)&&c.replaceCls(b,a)},updateLabelCls:function(a,b){this.textElement.replaceCls(b,a)},updatePressedCls:function(a,b){var c=this.element;c.hasCls(b)&&c.replaceCls(b,a)},updateIcon:function(a){var b=this.iconElement;a?(this.showIconElement(),b.setStyle("background-image",a?"url("+a+")":""),this.refreshIconAlign(),
this.refreshIconMask()):(this.hideIconElement(),this.setIconAlign(!1))},updateIconCls:function(a,b){var c=this.iconElement;a?(this.showIconElement(),c.replaceCls(b,a),this.refreshIconAlign(),this.refreshIconMask()):(this.hideIconElement(),this.setIconAlign(!1))},updateIconAlign:function(a,b){var c=this.element,d=Ext.baseCSSPrefix+"iconalign-";this.getText()||(a="center");c.removeCls(d+"center");c.removeCls(d+b);(this.getIcon()||this.getIconCls())&&c.addCls(d+a)},refreshIconAlign:function(){this.updateIconAlign(this.getIconAlign())},
updateIconMaskCls:function(a,b){var c=this.iconElement;this.getIconMask()&&c.replaceCls(b,a)},updateIconMask:function(a){this.iconElement[a?"addCls":"removeCls"](this.getIconMaskCls())},refreshIconMask:function(){this.updateIconMask(this.getIconMask())},applyAutoEvent:function(a){typeof a=="string"&&(a={name:a,scope:this.scope||this});return a},updateAutoEvent:function(a){var b=a.name,c=a.scope;this.setHandler(function(){c.fireEvent(b,c,this)});this.setScope(c)},hideIconElement:function(){this.iconElement.hide()},
showIconElement:function(){this.iconElement.show()},applyUi:function(a){if(a&&Ext.isString(a)){var b=a.split("-");if(b&&(b[1]=="back"||b[1]=="forward"))return b}return a},getUi:function(){var a=this._ui;return Ext.isArray(a)?a.join("-"):a},applyPressedDelay:function(a){return Ext.isNumber(a)?a:a?100:0},onPress:function(){var a=this.element,b=this.getPressedDelay(),c=this.getPressedCls();if(!this.getDisabled())this.isPressed=!0,this.hasOwnProperty("releasedTimeout")&&(clearTimeout(this.releasedTimeout),
delete this.releasedTimeout),b>0?this.pressedTimeout=setTimeout(function(){a&&a.addCls(c)},b):a.addCls(c)},onRelease:function(a){this.fireAction("release",[this,a],"doRelease")},doRelease:function(a){if(a.isPressed)a.isPressed=!1,a.hasOwnProperty("pressedTimeout")&&(clearTimeout(a.pressedTimeout),delete a.pressedTimeout),a.releasedTimeout=setTimeout(function(){a&&a.element&&a.element.removeCls(a.getPressedCls())},10)},onTap:function(a){if(this.getDisabled())return!1;this.fireAction("tap",[this,a],
"doTap")},doTap:function(a,b){var c=a.getHandler(),d=a.getScope()||a;c&&(typeof c=="string"&&(c=d[c]),b.preventDefault(),c.apply(d,arguments))}},function(){Ext.deprecateClassMethod(this,"setBadge","setBadgeText");Ext.deprecateClassMethod(this,"setIconClass","setIconCls");this.override({constructor:function(a){if(a&&a.hasOwnProperty("badge"))a.badgeText=a.badge;this.callParent([a])}})});Ext.define("Ext.Title",{extend:"Ext.Component",xtype:"title",config:{baseCls:"x-title",title:""},updateTitle:function(a){this.setHtml(a)}});
Ext.define("Ext.Spacer",{extend:"Ext.Component",alias:"widget.spacer",config:{},constructor:function(a){a=a||{};if(!a.width)a.flex=1;this.callParent([a])}});
Ext.define("Ext.Mask",{extend:"Ext.Component",xtype:"mask",config:{baseCls:Ext.baseCSSPrefix+"mask",transparent:!1,top:0,left:0,right:0,bottom:0},initialize:function(){this.callParent();this.on({painted:"onPainted",erased:"onErased"})},onPainted:function(){this.element.on("*","onEvent",this)},onErased:function(){this.element.un("*","onEvent",this)},onEvent:function(a){if(arguments[arguments.length-1].info.eventName==="tap")return this.fireEvent("tap",this,a),!1;a&&a.stopEvent&&a.stopEvent();return!1},
updateTransparent:function(a){this[a?"addCls":"removeCls"](this.getBaseCls()+"-transparent")}});
Ext.define("Ext.Decorator",{extend:"Ext.Component",isDecorator:!0,config:{component:{}},statics:{generateProxySetter:function(a){return function(b){var c=this.getComponent();c[a].call(c,b);return this}},generateProxyGetter:function(a){return function(){var b=this.getComponent();return b[a].call(b)}}},onClassExtended:function(a,b){if(b.hasOwnProperty("proxyConfig")){var c=Ext.Class,d=b.proxyConfig,e=b.config;b.config=e?Ext.applyIf(e,d):d;var f,g;for(f in d)if(d.hasOwnProperty(f))g=c.getConfigNameMap(f),
e=g.set,g=g.get,b[e]=this.generateProxySetter(e),b[g]=this.generateProxyGetter(g)}},applyComponent:function(a){return Ext.factory(a,Ext.Component)},updateComponent:function(a,b){b&&(this.isRendered()&&b.setRendered(!1)?b.fireAction("renderedchange",[this,b,!1],"doUnsetComponent",this,{args:[b]}):this.doUnsetComponent(b));a&&(this.isRendered()&&a.setRendered(!0)?a.fireAction("renderedchange",[this,a,!0],"doSetComponent",this,{args:[a]}):this.doSetComponent(a))},doUnsetComponent:function(a){a.renderElement.dom&&
this.innerElement.dom.removeChild(a.renderElement.dom)},doSetComponent:function(a){a.renderElement.dom&&this.innerElement.dom.appendChild(a.renderElement.dom)},setRendered:function(a){var b;return this.callParent(arguments)?((b=this.getComponent())&&b.setRendered(a),!0):!1},setDisabled:function(a){this.callParent(arguments);this.getComponent().setDisabled(a)},destroy:function(){Ext.destroy(this.getComponent());this.callParent()}});
Ext.define("Ext.field.Input",{extend:"Ext.Component",xtype:"input",tag:"input",cachedConfig:{cls:Ext.baseCSSPrefix+"form-field",focusCls:Ext.baseCSSPrefix+"field-focus",maskCls:Ext.baseCSSPrefix+"field-mask",useMask:"auto",type:"text",checked:!1},config:{baseCls:Ext.baseCSSPrefix+"field-input",name:null,value:null,isFocused:!1,tabIndex:null,placeHolder:null,minValue:null,maxValue:null,stepValue:null,maxLength:null,autoComplete:null,autoCapitalize:null,autoCorrect:null,readOnly:null,maxRows:null,startValue:!1},
getTemplate:function(){var a=[{reference:"input",tag:this.tag},{reference:"clearIcon",cls:"x-clear-icon"}];a.push({reference:"mask",classList:[this.config.maskCls]});return a},initElement:function(){this.callParent();this.input.on({scope:this,keyup:"onKeyUp",focus:"onFocus",blur:"onBlur",paste:"onPaste"});this.mask.on({tap:"onMaskTap",scope:this});if(this.clearIcon)this.clearIcon.on({tap:"onClearIconTap",scope:this})},applyUseMask:function(a){a==="auto"&&(a=Ext.os.is.iOS&&Ext.os.version.lt("5"));
return Boolean(a)},updateUseMask:function(a){this.mask[a?"show":"hide"]()},updateFieldAttribute:function(a,b){var c=this.input;b?c.dom.setAttribute(a,b):c.dom.removeAttribute(a)},updateCls:function(a,b){this.input.addCls(Ext.baseCSSPrefix+"input-el");this.input.replaceCls(b,a)},updateType:function(a,b){var c=Ext.baseCSSPrefix+"input-";this.input.replaceCls(c+b,c+a);this.updateFieldAttribute("type",a)},updateName:function(a){this.updateFieldAttribute("name",a)},getValue:function(){var a=this.input;
if(a)this._value=a.dom.value;return this._value},applyValue:function(a){return Ext.isEmpty(a)?"":a},updateValue:function(a){var b=this.input;if(b)b.dom.value=a},setValue:function(a){this.updateValue(this.applyValue(a));return this},updateTabIndex:function(a){this.updateFieldAttribute("tabIndex",a)},testAutoFn:function(a){return[!0,"on"].indexOf(a)!==-1},updateMaxLength:function(a){this.updateFieldAttribute("maxlength",a)},updatePlaceHolder:function(a){this.updateFieldAttribute("placeholder",a)},applyAutoComplete:function(a){return this.testAutoFn(a)},
updateAutoComplete:function(a){this.updateFieldAttribute("autocomplete",a?"on":"off")},applyAutoCapitalize:function(a){return this.testAutoFn(a)},updateAutoCapitalize:function(a){this.updateFieldAttribute("autocapitalize",a?"on":"off")},applyAutoCorrect:function(a){return this.testAutoFn(a)},updateAutoCorrect:function(a){this.updateFieldAttribute("autocorrect",a?"on":"off")},updateMinValue:function(a){this.updateFieldAttribute("min",a)},updateMaxValue:function(a){this.updateFieldAttribute("max",a)},
updateStepValue:function(a){this.updateFieldAttribute("step",a)},checkedRe:/^(true|1|on)/i,getChecked:function(){var a=this.input,b;if(a)this._checked=b=a.dom.checked;return b},applyChecked:function(a){return!!this.checkedRe.test(String(a))},setChecked:function(a){this.updateChecked(this.applyChecked(a));this._checked=a},updateChecked:function(a){this.input.dom.checked=a},updateReadOnly:function(a){this.updateFieldAttribute("readonly",a)},updateMaxRows:function(a){this.updateFieldAttribute("rows",
a)},doSetDisabled:function(a){this.callParent(arguments);(this.input.dom.disabled=a)||this.blur()},isDirty:function(){return this.getDisabled()?!1:String(this.getValue())!==String(this.originalValue)},reset:function(){this.setValue(this.originalValue)},onMaskTap:function(a){this.fireAction("masktap",[this,a],"doMaskTap")},doMaskTap:function(a){if(a.getDisabled())return!1;a.maskCorrectionTimer=Ext.defer(a.showMask,1E3,a);a.hideMask()},showMask:function(){this.mask&&this.mask.setStyle("display","block")},
hideMask:function(){this.mask&&this.mask.setStyle("display","none")},focus:function(){var a=this.input;a&&a.dom.focus&&a.dom.focus();return this},blur:function(){var a=this.input;a&&a.dom.blur&&a.dom.blur();return this},select:function(){var a=this.input;a&&a.dom.setSelectionRange&&a.dom.setSelectionRange(0,9999);return this},onFocus:function(a){this.fireAction("focus",[a],"doFocus")},doFocus:function(){this.mask&&(this.maskCorrectionTimer&&clearTimeout(this.maskCorrectionTimer),this.hideMask());
this.getIsFocused()||(this.setIsFocused(!0),this.setStartValue(this.getValue()))},onBlur:function(a){this.fireAction("blur",[a],"doBlur")},doBlur:function(){var a=this.getValue(),b=this.getStartValue();this.setIsFocused(!1);if(String(a)!=String(b))this.onChange(this,a,b);this.showMask()},onClearIconTap:function(a){var b=this.getValue();this.fireEvent("clearicontap",this,a);a=this.getValue();if(String(a)!=String(b))this.onChange(this,a,b);Ext.os.is.Android&&this.focus()},onClick:function(a){this.fireEvent("click",
a)},onChange:function(a,b,c){this.fireEvent("change",a,b,c)},onKeyUp:function(a){this.fireEvent("keyup",a)},onPaste:function(a){this.fireEvent("paste",a)},onMouseDown:function(a){this.fireEvent("mousedown",a)}});
Ext.define("Ext.field.Field",{extend:"Ext.Decorator",alternateClassName:"Ext.form.Field",xtype:"field",requires:["Ext.field.Input"],isField:!0,isFormField:!0,config:{baseCls:Ext.baseCSSPrefix+"field",label:null,labelAlign:"left",labelWidth:"30%",clearIcon:null,required:!1,inputType:null,name:null,value:null,tabIndex:null},cachedConfig:{labelCls:null,requiredCls:Ext.baseCSSPrefix+"field-required",inputCls:null},getElementConfig:function(){var a=Ext.baseCSSPrefix;return{reference:"element",className:"x-container",
children:[{reference:"label",cls:a+"form-label",children:[{reference:"labelspan",tag:"span"}]},{reference:"innerElement",cls:a+"component-outer"}]}},updateLabel:function(a){var b=this.renderElement,c=Ext.baseCSSPrefix;a?(this.labelspan.setHtml(a),b.addCls(c+"field-labeled")):b.removeCls(c+"field-labeled")},updateLabelAlign:function(a,b){var c=this.renderElement,d=Ext.baseCSSPrefix;a&&(c.addCls(d+"label-align-"+a),a=="top"?this.label.setWidth("100%"):this.updateLabelWidth(this.getLabelWidth()));b&&
c.removeCls(d+"label-align-"+b)},updateLabelCls:function(a,b){a&&this.label.addCls(a);b&&this.label.removeCls(b)},updateLabelWidth:function(a){a&&(this.getLabelAlign()=="top"?this.label.setWidth("100%"):this.label.setWidth(a))},updateRequired:function(a){this.renderElement[a?"addCls":"removeCls"](this.getRequiredCls())},updateRequiredCls:function(a,b){this.getRequired()&&this.renderElement.replaceCls(b,a)},initialize:function(){this.callParent();this.doInitValue()},doInitValue:function(){this.originalValue=
this.getInitialConfig().value},reset:function(){this.setValue(this.originalValue);return this},isDirty:function(){return!1}},function(){var a=this.prototype;this.override({constructor:function(a){var a=a||{},c=function(c,e,f){a.hasOwnProperty(c)&&(e?(a[e]=a[e]||{},a[e][f?f:c]=a[e][f?f:c]||a[c]):a[f]=a[c],delete a[c])};c("fieldCls",null,"inputCls");c("fieldLabel",null,"label");c("useClearIcon",null,"clearIcon");this.callOverridden(arguments)}});Ext.Object.defineProperty(a,"fieldEl",{get:function(){return this.getInput().input}});
Ext.Object.defineProperty(a,"labelEl",{get:function(){return this.getLabel().element}})});
Ext.define("Ext.field.Text",{extend:"Ext.field.Field",xtype:"textfield",alternateClassName:"Ext.form.Text",config:{ui:"text",clearIcon:!0,placeHolder:null,maxLength:null,autoComplete:null,autoCapitalize:null,autoCorrect:null,readOnly:null,component:{xtype:"input",type:"text"}},initialize:function(){this.callParent();this.getComponent().on({scope:this,keyup:"onKeyUp",change:"onChange",focus:"onFocus",blur:"onBlur",paste:"onPaste",mousedown:"onMouseDown",clearicontap:"onClearIconTap"});this.originalValue=
this.originalValue||"";this.getComponent().originalValue=this.originalValue;this.syncEmptyCls()},syncEmptyCls:function(){var a=Ext.baseCSSPrefix+"empty";this._value&&this._value.length?this.removeCls(a):this.addCls(a)},updateValue:function(a){var b=this.getComponent();b&&b.setValue(a);this[a?"showClearIcon":"hideClearIcon"]();this.syncEmptyCls()},getValue:function(){this._value=this.getComponent().getValue();this.syncEmptyCls();return this._value},updatePlaceHolder:function(a){this.getComponent().setPlaceHolder(a)},
updateMaxLength:function(a){this.getComponent().setMaxLength(a)},updateAutoComplete:function(a){this.getComponent().setAutoComplete(a)},updateAutoCapitalize:function(a){this.getComponent().setAutoCapitalize(a)},updateAutoCorrect:function(a){this.getComponent().setAutoCorrect(a)},updateReadOnly:function(a){a?this.hideClearIcon():this.showClearIcon();this.getComponent().setReadOnly(a)},updateInputType:function(a){var b=this.getComponent();b&&b.setType(a)},updateName:function(a){var b=this.getComponent();
b&&b.setName(a)},updateTabIndex:function(a){var b=this.getComponent();b&&b.setTabIndex(a)},updateInputCls:function(a,b){var c=this.getComponent();c&&c.replaceCls(b,a)},doSetDisabled:function(a){this.callParent(arguments);var b=this.getComponent();b&&b.setDisabled(a);a?this.hideClearIcon():this.showClearIcon()},showClearIcon:function(){!this.getDisabled()&&!this.getReadOnly()&&this.getValue()&&this.getClearIcon()&&this.element.addCls(Ext.baseCSSPrefix+"field-clearable");return this},hideClearIcon:function(){this.getClearIcon()&&
this.element.removeCls(Ext.baseCSSPrefix+"field-clearable")},onKeyUp:function(a){this.fireAction("keyup",[this,a],"doKeyUp")},doKeyUp:function(a,b){var c=a.getValue();a[c?"showClearIcon":"hideClearIcon"]();b.browserEvent.keyCode===13&&a.fireAction("action",[a,b],"doAction")},doAction:function(){this.blur()},onClearIconTap:function(a){this.fireAction("clearicontap",[this,a],"doClearIconTap")},doClearIconTap:function(a){a.setValue("");a.getValue()},onChange:function(a,b,c){a.fireEvent("change",this,
b,c)},onFocus:function(a){this.isFocused=!0;this.fireEvent("focus",this,a)},onBlur:function(a){var b=this;this.isFocused=!1;b.fireEvent("blur",b,a);setTimeout(function(){b.isFocused=!1},50)},onPaste:function(a){this.fireEvent("paste",this,a)},onMouseDown:function(a){this.fireEvent("mousedown",this,a)},focus:function(){this.getComponent().focus();return this},blur:function(){this.getComponent().blur();return this},select:function(){this.getComponent().select();return this},reset:function(){this.getComponent().reset();
this.getValue();this[this._value?"showClearIcon":"hideClearIcon"]()},isDirty:function(){var a=this.getComponent();return a?a.isDirty():!1}});Ext.define("Ext.field.TextAreaInput",{extend:"Ext.field.Input",xtype:"textareainput",tag:"textarea"});
Ext.define("Ext.field.TextArea",{extend:"Ext.field.Text",xtype:"textareafield",requires:["Ext.field.TextAreaInput"],alternateClassName:"Ext.form.TextArea",config:{ui:"textarea",autoCapitalize:!1,component:{xtype:"textareainput"},maxRows:null},updateMaxRows:function(a){this.getComponent().setMaxRows(a)},doSetHeight:function(a){this.callParent(arguments);this.getComponent().input.setHeight(a)},doSetWidth:function(a){this.callParent(arguments);this.getComponent().input.setWidth(a)},doKeyUp:function(a){var b=
a.getValue();a[b?"showClearIcon":"hideClearIcon"]()}});
Ext.define("Ext.scroll.Scroller",{extend:"Ext.Evented",requires:["Ext.fx.easing.BoundMomentum","Ext.fx.easing.EaseOut","Ext.util.SizeMonitor","Ext.util.Translatable"],config:{element:null,direction:"auto",translationMethod:"auto",fps:"auto",disabled:null,directionLock:!1,momentumEasing:{momentum:{acceleration:30,friction:0.5},bounce:{acceleration:30,springTension:0.3},minVelocity:1},bounceEasing:{duration:400},outOfBoundRestrictFactor:0.5,startMomentumResetTime:300,maxAbsoluteVelocity:6,containerSize:"auto",
containerScrollSize:"auto",size:"auto",autoRefresh:!0,initialOffset:{x:0,y:0},slotSnapSize:{x:0,y:0},slotSnapOffset:{x:0,y:0},slotSnapEasing:{duration:150}},cls:Ext.baseCSSPrefix+"scroll-scroller",containerCls:Ext.baseCSSPrefix+"scroll-container",dragStartTime:0,dragEndTime:0,isDragging:!1,isAnimating:!1,constructor:function(a){var b=a&&a.element;this.doAnimationFrame=Ext.Function.bind(this.doAnimationFrame,this);this.stopAnimation=Ext.Function.bind(this.stopAnimation,this);this.listeners={scope:this,
touchstart:"onTouchStart",touchend:"onTouchEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd"};this.minPosition={x:0,y:0};this.startPosition={x:0,y:0};this.size={x:0,y:0};this.position={x:0,y:0};this.velocity={x:0,y:0};this.isAxisEnabledFlags={x:!1,y:!1};this.flickStartPosition={x:0,y:0};this.flickStartTime={x:0,y:0};this.lastDragPosition={x:0,y:0};this.dragDirection={x:0,y:0};this.initialConfig=a;b&&this.setElement(b);return this},applyElement:function(a){return!a?void 0:Ext.get(a)},
updateElement:function(a){this.initialize();a.addCls(this.cls);this.getDisabled()||this.attachListeneners();this.onConfigUpdate(["containerSize","size"],"refreshMaxPosition");this.on("maxpositionchange","snapToBoundary");this.on("minpositionchange","snapToBoundary");return this},getTranslatable:function(){if(!this.hasOwnProperty("translatable")){var a=this.getBounceEasing();this.translatable=new Ext.util.Translatable({translationMethod:this.getTranslationMethod(),element:this.getElement(),easingX:a.x,
easingY:a.y,useWrapper:!1,listeners:{animationframe:"onAnimationFrame",animationend:"onAnimationEnd",axisanimationend:"onAxisAnimationEnd",scope:this}})}return this.translatable},updateFps:function(a){a!=="auto"&&this.getTranslatable().setFps(a)},attachListeneners:function(){this.getContainer().on(this.listeners)},detachListeners:function(){this.getContainer().un(this.listeners)},updateDisabled:function(a){a?this.detachListeners():this.attachListeneners()},updateInitialOffset:function(a){typeof a==
"number"&&(a={x:a,y:a});var b=this.position,c;b.x=c=a.x;b.y=a=a.y;this.getTranslatable().doTranslate(-c,-a)},applyDirection:function(a){var b=this.getMinPosition(),c=this.getMaxPosition();this.givenDirection=a;a==="auto"&&(a=c.x>b.x,b=c.y>b.y,a=a&&b?"both":a?"horizontal":"vertical");return a},updateDirection:function(a){var b=this.isAxisEnabledFlags;b.x=a==="both"||a==="horizontal";b.y=a==="both"||a==="vertical"},isAxisEnabled:function(a){this.getDirection();return this.isAxisEnabledFlags[a]},applyMomentumEasing:function(a){var b=
Ext.fx.easing.BoundMomentum;return{x:Ext.factory(a,b),y:Ext.factory(a,b)}},applyBounceEasing:function(a){var b=Ext.fx.easing.EaseOut;return{x:Ext.factory(a,b),y:Ext.factory(a,b)}},applySlotSnapEasing:function(a){var b=Ext.fx.easing.EaseOut;return{x:Ext.factory(a,b),y:Ext.factory(a,b)}},getMinPosition:function(){var a=this.minPosition;if(!a)this.minPosition=a={x:0,y:0},this.fireEvent("minpositionchange",this,a);return a},getMaxPosition:function(){var a=this.maxPosition,b;if(!a)a=this.getSize(),b=this.getContainerSize(),
this.maxPosition=a={x:Math.max(0,a.x-b.x),y:Math.max(0,a.y-b.y)},this.fireEvent("maxpositionchange",this,a);return a},refreshMaxPosition:function(){this.maxPosition=null;this.getMaxPosition()},applyContainerSize:function(a){var b=this.getContainer().dom,c;if(b)return this.givenContainerSize=a,a==="auto"?(c=b.offsetWidth,a=b.offsetHeight):(c=a.x,a=a.y),{x:c,y:a}},applySize:function(a){var b=this.getElement().dom,c;if(b)return this.givenSize=a,a==="auto"?(c=b.offsetWidth,a=b.offsetHeight):(c=a.x,a=
a.y),{x:c,y:a}},applyContainerScrollSize:function(a){var b=this.getContainer().dom,c;if(b)return this.givenContainerScrollSize=a,a==="auto"?(c=b.scrollWidth,a=b.scrollHeight):(c=a.x,a=a.y),{x:c,y:a}},updateAutoRefresh:function(a){var b=Ext.util.SizeMonitor;if(a)this.sizeMonitors={element:new b({element:this.getElement(),callback:this.doRefresh,scope:this}),container:new b({element:this.getContainer(),callback:this.doRefresh,scope:this})};else if(a=this.sizeMonitors)a.element.destroy(),a.container.destroy()},
applySlotSnapSize:function(a){return typeof a=="number"?{x:a,y:a}:a},applySlotSnapOffset:function(a){return typeof a=="number"?{x:a,y:a}:a},getContainer:function(){var a=this.container;if(!a)this.container=a=this.getElement().getParent(),a.addCls(this.containerCls);return a},doRefresh:function(){this.stopAnimation();this.getTranslatable().refresh();this.setSize(this.givenSize);this.setContainerSize(this.givenContainerSize);this.setContainerScrollSize(this.givenContainerScrollSize);this.setDirection(this.givenDirection);
this.fireEvent("refresh",this)},refresh:function(){var a=this.sizeMonitors;a&&(a.element.refresh(),a.container.refresh());this.doRefresh();return this},scrollTo:function(a,b,c){if(typeof a!="number"&&arguments.length===1)b=a.y,a=a.x;var d=this.getTranslatable(),e=this.position,f=!1,g,h;if(this.isAxisEnabled("x")){if(typeof a!="number")a=e.x;else if(e.x!==a)e.x=a,f=!0;g=-a}if(this.isAxisEnabled("y")){if(typeof b!="number")b=e.y;else if(e.y!==b)e.y=b,f=!0;h=-b}f&&(c!==void 0?d.translateAnimated(g,h,
c):(this.fireEvent("scroll",this,e.x,e.y),d.doTranslate(g,h)));return this},scrollToTop:function(a){var b=this.getInitialOffset();return this.scrollTo(b.x,b.y,a)},scrollToEnd:function(a){return this.scrollTo(0,this.getSize().y-this.getContainerSize().y,a)},scrollBy:function(a,b,c){var d=this.position,a=typeof a=="number"?a+d.x:null,b=typeof b=="number"?b+d.y:null;return this.scrollTo(a,b,c)},onTouchStart:function(){this.isTouching=!0;this.stopAnimation()},onTouchEnd:function(){var a=this.position;
this.isTouching=!1;!this.isDragging&&this.snapToSlot()&&this.fireEvent("scrollstart",this,a.x,a.y)},onDragStart:function(a){var b=this.getDirection(),c=a.absDeltaX,d=a.absDeltaY,e=this.getDirectionLock(),f=this.startPosition,g=this.flickStartPosition,h=this.flickStartTime,i=this.lastDragPosition,j=this.position,k=this.dragDirection,l=j.x,j=j.y,m=Ext.Date.now();this.isDragging=!0;if(e&&b!=="both")if(b==="horizontal"&&c>d||b==="vertical"&&d>c)a.stopPropagation();else{this.isDragging=!1;return}i.x=l;
i.y=j;g.x=l;g.y=j;f.x=l;f.y=j;h.x=m;h.y=m;k.x=0;k.y=0;this.dragStartTime=m;this.isDragging=!0;this.fireEvent("scrollstart",this,l,j)},onAxisDrag:function(a,b){if(this.isAxisEnabled(a)){var c=this.flickStartPosition,d=this.flickStartTime,e=this.lastDragPosition,f=this.dragDirection,g=this.position[a],h=this.getMinPosition()[a],i=this.getMaxPosition()[a],j=e[a],k=this.startPosition[a]-b,l=f[a],m=this.getOutOfBoundRestrictFactor(),q=this.getStartMomentumResetTime(),o=Ext.Date.now();k<h?k*=m:k>i&&(k=
i+(k-i)*m);k>j?f[a]=1:k<j&&(f[a]=-1);if(l!==0&&f[a]!==l||o-d[a]>q)c[a]=g,d[a]=o;e[a]=k}},onDrag:function(a){if(this.isDragging){var b=this.lastDragPosition;this.onAxisDrag("x",a.deltaX);this.onAxisDrag("y",a.deltaY);this.scrollTo(b.x,b.y)}},onDragEnd:function(a){var b;if(this.isDragging)if(this.dragEndTime=Ext.Date.now(),this.onDrag(a),this.isDragging=!1,a=this.getAnimationEasing("x"),b=this.getAnimationEasing("y"),a||b)this.getTranslatable().animate(a,b);else this.onScrollEnd()},getAnimationEasing:function(a){if(!this.isAxisEnabled(a))return null;
var b=this.position[a],c=this.flickStartPosition[a],d=this.flickStartTime[a],e=this.getMinPosition()[a],f=this.getMaxPosition()[a],g=this.getMaxAbsoluteVelocity(),h=null,i=this.dragEndTime;b<e?h=e:b>f&&(h=f);if(h!==null)return a=this.getBounceEasing()[a],a.setConfig({startTime:i,startValue:-b,endValue:-h}),a;if(i-d===0)return null;h=(b-c)/(i-d);if(h===0)return null;h<-g?h=-g:h>g&&(h=g);a=this.getMomentumEasing()[a];a.setConfig({startTime:i,startValue:-b,startVelocity:-h,minMomentumValue:-f,maxMomentumValue:0});
return a},onAnimationFrame:function(a,b,c){a=this.position;a.x=-b;a.y=-c;this.fireEvent("scroll",this,a.x,a.y)},onAxisAnimationEnd:function(){},onAnimationEnd:function(){this.snapToBoundary();this.onScrollEnd()},stopAnimation:function(){this.getTranslatable().stopAnimation()},onScrollEnd:function(){var a=this.position;(this.isTouching||!this.snapToSlot())&&this.fireEvent("scrollend",this,a.x,a.y)},snapToSlot:function(){var a=this.getSnapPosition("x"),b=this.getSnapPosition("y"),c=this.getSlotSnapEasing();
return a!==null||b!==null?(this.scrollTo(a,b,{easingX:c.x,easingY:c.y}),!0):!1},getSnapPosition:function(a){var b=this.getSlotSnapSize()[a],c=null,d,e;b!==0&&this.isAxisEnabled(a)&&(d=this.position[a],e=this.getSlotSnapOffset()[a],a=this.getMaxPosition()[a],e=(d-e)%b,e!==0&&(Math.abs(e)>b/2?(c=d+(e>0?b-e:e-b),c>a&&(c=d-e)):c=d-e));return c},snapToBoundary:function(){var a=this.position,b=this.getMinPosition(),c=this.getMaxPosition(),d=b.x,b=b.y,e=c.x,c=c.y,f=Math.round(a.x),a=Math.round(a.y);f<d?
f=d:f>e&&(f=e);a<b?a=b:a>c&&(a=c);this.scrollTo(f,a)},destroy:function(){var a=this.getElement(),b=this.sizeMonitors;b&&(b.element.destroy(),b.container.destroy());a&&!a.isDestroyed&&(a.removeCls(this.cls),this.getContainer().removeCls(this.containerCls));Ext.destroy(this.translatable);this.callParent(arguments)}},function(){this.override({constructor:function(a){var b;a||(a={});typeof a=="string"&&(a={direction:a});if(arguments.length==2)b=a,(a=arguments[1])||(a={}),a.element=b;if(a.hasOwnProperty("acceleration"))b=
a.acceleration,delete a.acceleration,Ext.merge(a,{momentumEasing:{momentum:{acceleration:b},bounce:{acceleration:b}}});if(a.hasOwnProperty("snap"))a.slotSnapOffset=a.snap;if(a.hasOwnProperty("friction"))b=a.friction,delete a.friction,Ext.merge(a,{momentumEasing:{momentum:{friction:b}}});if(a.hasOwnProperty("springTension"))b=a.springTension,delete a.springTension,Ext.merge(a,{momentumEasing:{momentum:{springTension:b}}});if(a.hasOwnProperty("minVelocityForAnimation"))b=a.minVelocityForAnimation,delete a.minVelocityForAnimation,
Ext.merge(a,{momentumEasing:{minVelocity:b}});this.callOverridden(arguments)},scrollToAnimated:function(a,b,c){return this.scrollTo.apply(this,arguments)},scrollBy:function(a,b,c){if(Ext.isObject(a))b=a.y,a=a.x;return this.callOverridden([a,b,c])},setOffset:function(a){return this.scrollToAnimated(-a.x,-a.y)}})});
Ext.define("Ext.scroll.indicator.Abstract",{extend:"Ext.Component",config:{baseCls:"x-scroll-indicator",axis:"x",value:0,length:null,hidden:!0,ui:"dark"},cachedConfig:{ratio:1,barCls:"x-scroll-bar",active:!0},barElement:null,barLength:0,gapLength:0,getElementConfig:function(){return{reference:"barElement",children:[this.callParent()]}},applyRatio:function(a){isNaN(a)&&(a=1);return a},refresh:function(){var a=this.barElement.dom,b=this.getRatio(),a=this.getAxis()==="x"?a.offsetWidth:a.offsetHeight;
b*=a;this.barLength=a;this.gapLength=a-b;this.setLength(b);this.updateValue(this.getValue())},updateBarCls:function(a){this.barElement.addCls(a)},updateAxis:function(a){this.element.addCls(this.getBaseCls(),null,a);this.barElement.addCls(this.getBarCls(),null,a)},updateValue:function(a){this.setOffset(this.gapLength*a)},updateActive:function(a){this.barElement[a?"addCls":"removeCls"]("active")},doSetHidden:function(a){this.element.dom.style.opacity=a?"0":""},updateLength:function(a){var b=this.element;
this.getAxis()==="x"?b.setWidth(a):b.setHeight(a)},setOffset:function(a){var b=this.element;this.getAxis()==="x"?b.setLeft(a):b.setTop(a)}});
Ext.define("Ext.scroll.indicator.Default",{extend:"Ext.scroll.indicator.Abstract",config:{cls:"default"},setOffset:function(a){this.element.dom.style.webkitTransform=this.getAxis()==="x"?"translate3d("+a+"px, 0, 0)":"translate3d(0, "+a+"px, 0)"},applyLength:function(a){return Math.round(Math.max(0,a))},updateValue:function(a){var b=this.barLength,c=this.gapLength,d=this.getLength();a<=0?(c=0,this.updateLength(this.applyLength(d+a*b))):a>=1?(b=Math.round((a-1)*b),a=this.applyLength(d-b),b=d-a,this.updateLength(a),
c+=b):c*=a;this.setOffset(c)}});
Ext.define("Ext.scroll.indicator.ScrollPosition",{extend:"Ext.scroll.indicator.Abstract",config:{cls:"scrollposition"},getElementConfig:function(){var a=this.callParent(arguments);a.children.unshift({className:"x-scroll-bar-stretcher"});return a},updateValue:function(a){this.gapLength===0?(a>1&&(a-=1),this.setOffset(this.barLength*a)):this.setOffset(this.gapLength*a)},setLength:function(a){var b=this.getAxis(),c=this.barLength,d=this.barElement.dom,e=this.element;this.callParent(arguments);b==="x"?
(d.scrollLeft=c,e.setLeft(c)):(d.scrollTop=c,e.setTop(c))},setOffset:function(a){var b=this.getAxis(),c=this.barElement.dom,a=this.barLength-a;b==="x"?c.scrollLeft=a:c.scrollTop=a}});
Ext.define("Ext.scroll.indicator.CssTransform",{extend:"Ext.scroll.indicator.Abstract",config:{cls:"csstransform"},getElementConfig:function(){var a=this.callParent();a.children[0].children=[{reference:"startElement"},{reference:"middleElement"},{reference:"endElement"}];return a},refresh:function(){var a=this.startElement.dom,b=this.endElement.dom,c=this.middleElement;this.getAxis()==="x"?(a=a.offsetWidth,b=b.offsetWidth,c.setLeft(a)):(a=a.offsetHeight,b=b.offsetHeight,c.setTop(a));this.startElementLength=
a;this.endElementLength=b;this.minLength=a+b;this.callParent()},applyLength:function(a){return Math.round(Math.max(this.minLength,a))},updateLength:function(a){var b=this.getAxis(),c=this.endElement.dom.style,d=this.middleElement.dom.style;a-=this.endElementLength;var e=a-this.startElementLength;b==="x"?(c.webkitTransform="translate3d("+a+"px, 0, 0)",d.webkitTransform="translate3d(0, 0, 0) scaleX("+e+")"):(c.webkitTransform="translate3d(0, "+a+"px, 0)",d.webkitTransform="translate3d(0, 0, 0) scaleY("+
e+")")},updateValue:function(a){var b=this.barLength,c=this.gapLength,d=this.getLength();a<=0?(c=0,this.updateLength(this.applyLength(d+a*b))):a>=1?(b=Math.round((a-1)*b),a=this.applyLength(d-b),b=d-a,this.updateLength(a),c+=b):c*=a;this.setOffset(c)},setOffset:function(a){var b=this.getAxis(),c=this.element.dom.style,a=Math.round(a);c.webkitTransform=b==="x"?"translate3d("+a+"px, 0, 0)":"translate3d(0, "+a+"px, 0)"}});
Ext.define("Ext.scroll.Indicator",{requires:["Ext.scroll.indicator.Default","Ext.scroll.indicator.ScrollPosition","Ext.scroll.indicator.CssTransform"],alternateClassName:"Ext.util.Indicator",constructor:function(a){return Ext.os.is.Android2||Ext.browser.is.ChromeMobile?new Ext.scroll.indicator.ScrollPosition(a):Ext.os.is.iOS?new Ext.scroll.indicator.CssTransform(a):new Ext.scroll.indicator.Default(a)}});
Ext.define("Ext.scroll.View",{extend:"Ext.Evented",alternateClassName:"Ext.util.ScrollView",requires:["Ext.scroll.Scroller","Ext.scroll.Indicator"],config:{indicatorsUi:"dark",element:null,scroller:{},indicators:{x:{axis:"x"},y:{axis:"y"}},indicatorsHidingDelay:100,cls:Ext.baseCSSPrefix+"scroll-view"},processConfig:function(a){if(!a)return null;typeof a=="string"&&(a={direction:a});var a=Ext.merge({},a),b=a.scroller,c;if(!b)a.scroller=b={};for(c in a)a.hasOwnProperty(c)&&!this.hasConfig(c)&&(b[c]=
a[c],delete a[c]);return a},constructor:function(a){a=this.processConfig(a);this.useIndicators={x:!0,y:!0};this.doHideIndicators=Ext.Function.bind(this.doHideIndicators,this);this.initConfig(a)},setConfig:function(a){return this.callParent([this.processConfig(a)])},updateIndicatorsUi:function(a){var b=this.getIndicators();b.x.setUi(a);b.y.setUi(a)},applyScroller:function(a,b){return Ext.factory(a,Ext.scroll.Scroller,b)},applyIndicators:function(a,b){var c=Ext.scroll.Indicator,d=this.useIndicators;
a||(a={});if(!a.x)d.x=!1,a.x={};if(!a.y)d.y=!1,a.y={};return{x:Ext.factory(a.x,c,b&&b.x),y:Ext.factory(a.y,c,b&&b.y)}},updateIndicators:function(a){this.indicatorsGrid=Ext.Element.create({className:"x-scroll-bar-grid-wrapper",children:[{className:"x-scroll-bar-grid",children:[{children:[{},{children:[a.y.barElement]}]},{children:[{children:[a.x.barElement]},{}]}]}]})},updateScroller:function(a){a.on({scope:this,scrollstart:"onScrollStart",scroll:"onScroll",scrollend:"onScrollEnd",refresh:"refreshIndicators"})},
isAxisEnabled:function(a){return this.getScroller().isAxisEnabled(a)&&this.useIndicators[a]},applyElement:function(a){if(a)return Ext.get(a)},updateElement:function(a){var b=a.getFirstChild().getFirstChild(),c=this.getScroller();a.addCls(this.getCls());a.insertFirst(this.indicatorsGrid);c.setElement(b);this.refreshIndicators();return this},showIndicators:function(){var a=this.getIndicators();this.hasOwnProperty("indicatorsHidingTimer")&&(clearTimeout(this.indicatorsHidingTimer),delete this.indicatorsHidingTimer);
this.isAxisEnabled("x")&&a.x.show();this.isAxisEnabled("y")&&a.y.show()},hideIndicators:function(){var a=this.getIndicatorsHidingDelay();a>0?this.indicatorsHidingTimer=setTimeout(this.doHideIndicators,a):this.doHideIndicators()},doHideIndicators:function(){var a=this.getIndicators();this.isAxisEnabled("x")&&a.x.hide();this.isAxisEnabled("y")&&a.y.hide()},onScrollStart:function(){this.onScroll.apply(this,arguments);this.showIndicators()},onScrollEnd:function(){this.hideIndicators()},onScroll:function(a,
b,c){this.setIndicatorValue("x",b);this.setIndicatorValue("y",c)},setIndicatorValue:function(a,b){if(!this.isAxisEnabled(a))return this;var c=this.getScroller(),d=c.getMaxPosition()[a],c=c.getContainerSize()[a];d===0?(d=b/c,b>=0&&(d+=1)):d=b>d?1+(b-d)/c:b<0?b/c:b/d;this.getIndicators()[a].setValue(d)},refreshIndicator:function(a){if(!this.isAxisEnabled(a))return this;var b=this.getScroller(),c=this.getIndicators()[a],d=b.getContainerSize()[a],a=b.getSize()[a];c.setRatio(d/a);c.refresh()},refresh:function(){return this.getScroller().refresh()},
refreshIndicators:function(){var a=this.getIndicators();a.x.setActive(this.isAxisEnabled("x"));a.y.setActive(this.isAxisEnabled("y"));this.refreshIndicator("x");this.refreshIndicator("y")},destroy:function(){var a=this.getElement(),b=this.getIndicators();a&&!a.isDestroyed&&a.removeCls(this.getCls());b.x.destroy();b.y.destroy();Ext.destroy(this.getScroller(),this.indicatorsGrid);delete this.indicatorsGrid;this.callParent(arguments)}});
Ext.define("Ext.behavior.Scrollable",{extend:"Ext.behavior.Behavior",requires:["Ext.scroll.View"],constructor:function(){this.listeners={painted:"onComponentPainted",scope:this};this.callParent(arguments)},onComponentPainted:function(){this.scrollView.refresh()},setConfig:function(a){var b=this.scrollView,c=this.component;if(a)if(b)Ext.isObject(a)&&b.setConfig(a);else{this.scrollView=b=new Ext.scroll.View(a);b.on("destroy","onScrollViewDestroy",this);c.setUseBodyElement(!0);this.scrollerElement=a=
c.innerElement;this.scrollContainer=a.wrap();this.scrollViewElement=a=c.bodyElement;b.setElement(a);if(c.isPainted())this.onComponentPainted(c);c.on(this.listeners)}else b&&b.destroy();return this},getScrollView:function(){return this.scrollView},onScrollViewDestroy:function(){var a=this.component;this.scrollerElement.isDestroyed||this.scrollerElement.unwrap();this.scrollContainer.destroy();a.un(this.listeners);delete this.scrollerElement;delete this.scrollView;delete this.scrollContainer},onComponentDestroy:function(){var a=
this.scrollView;a&&a.destroy()}});
Ext.define("Ext.Container",{extend:"Ext.Component",alternateClassName:"Ext.lib.Container",requires:["Ext.layout.Layout","Ext.ItemCollection","Ext.behavior.Scrollable","Ext.Mask"],xtype:"container",eventedConfig:{activeItem:0},config:{layout:null,control:{},defaults:null,items:null,autoDestroy:!0,defaultType:null,scrollable:null,useBodyElement:null,masked:null,modal:null,hideOnMaskTap:null},isContainer:!0,delegateListeners:{delegate:"> component",centeredchange:"onItemCenteredChange",dockedchange:"onItemDockedChange",
floatingchange:"onItemFloatingChange"},constructor:function(a){this._items=this.items=new Ext.ItemCollection;this.innerItems=[];this.onItemAdd=this.onFirstItemAdd;this.callParent(arguments)},getElementConfig:function(){return{reference:"element",className:"x-container",children:[{reference:"innerElement",className:"x-inner"}]}},applyMasked:function(a,b){(b=Ext.factory(a,Ext.Mask,b))&&this.add(b);return b},mask:function(a){this.setMasked(a||!0)},unmask:function(){this.setMasked(!1)},applyModal:function(a,
b){return!a&&!b?void 0:Ext.factory(a,Ext.Mask,b)},updateModal:function(a,b){var c={painted:"refreshModalMask",erased:"destroyModalMask"};a?(this.on(c),a.on("destroy","onModalDestroy",this),this.getTop()===null&&this.getBottom()===null&&this.getRight()===null&&this.getLeft()===null&&!this.getCentered()&&(this.setTop(0),this.setLeft(0)),this.isPainted()&&this.refreshModalMask()):b&&(b.un("destroy","onModalDestroy",this),this.un(c))},onModalDestroy:function(){this.setModal(null)},refreshModalMask:function(){var a=
this.getModal(),b=this.getParent();if(!this.painted&&(this.painted=!0,a&&(b.insertBefore(a,this),a.setZIndex(this.getZIndex()-1),this.getHideOnMaskTap())))a.on("tap","hide",this,{single:!0})},destroyModalMask:function(){var a=this.getModal(),b=this.getParent();if(this.painted)this.painted=!1,a&&(a.un("tap","hide",this),b.remove(a,!1))},updateZIndex:function(a){var b=this.getModal();this.callParent(arguments);b&&b.setZIndex(a-1)},updateBaseCls:function(a,b){var c=this.getUi();a&&(this.element.addCls(a),
this.innerElement.addCls(a,null,"inner"),c&&this.element.addCls(a,null,c));b&&(this.element.removeCls(b),this.innerElement.removeCls(a,null,"inner"),c&&this.element.removeCls(b,null,c))},updateUseBodyElement:function(a){if(a)this.bodyElement=this.innerElement.wrap({cls:"x-body"}),this.referenceList.push("bodyElement")},applyItems:function(a,b){a&&(this.getDefaultType(),this.getDefaults(),this.initialized&&b.length>0&&this.removeAll(),this.add(a))},applyControl:function(a){var b,c,d,e;for(b in a){e=
a[b];for(c in e)if(d=e[c],Ext.isObject(d))d.delegate=b;e.delegate=b;this.addListener(e)}return a},onFirstItemAdd:function(){delete this.onItemAdd;this.setLayout(new Ext.layout.Layout(this,this.getLayout()||"default"));this.innerHtmlElement&&!this.getHtml()&&(this.innerHtmlElement.destroy(),delete this.innerHtmlElement);this.on(this.delegateListeners);return this.onItemAdd.apply(this,arguments)},updateDefaultType:function(a){this.defaultItemClass=Ext.ClassManager.getByAlias("widget."+a)},applyDefaults:function(a){if(a)return this.factoryItem=
this.factoryItemWithDefaults,a},factoryItem:function(a){return Ext.factory(a,this.defaultItemClass)},factoryItemWithDefaults:function(a){var b=this.getDefaults(),c;if(!b)return Ext.factory(a,this.defaultItemClass);if(a.isComponent)c=a,b&&a.isInnerItem()&&!this.has(c)&&c.setConfig(b,!0);else{if(b&&!a.ignoreDefaults&&(!a.hasOwnProperty("left")||!a.hasOwnProperty("right")||!a.hasOwnProperty("top")||!a.hasOwnProperty("bottom")||!a.hasOwnProperty("docked")||!a.hasOwnProperty("centered")))a=Ext.mergeIf({},
a,b);c=Ext.factory(a,this.defaultItemClass)}return c},add:function(a){var b,c,d,e,a=Ext.Array.from(a);c=a.length;for(b=0;b<c;b++)d=this.factoryItem(a[b]),this.doAdd(d),!e&&!this.getActiveItem()&&this.innerItems.length>0&&d.isInnerItem()&&(e=d);e&&this.setActiveItem(e);return d},doAdd:function(a){var b=this.getItems(),c;if(!b.has(a))c=b.length,b.add(a),a.isInnerItem()&&this.insertInner(a),a.setParent(this),this.onItemAdd(a,c)},remove:function(a,b){var c=this.indexOf(a),d=this.getInnerItems();b===void 0&&
(b=this.getAutoDestroy());c!==-1&&(!this.removingAll&&d.length>1&&a===this.getActiveItem()?(this.on({activeitemchange:"doRemove",scope:this,single:!0,order:"after",args:[a,c,b]}),this.doResetActiveItem(d.indexOf(a))):(this.doRemove(a,c,b),d.length===0&&this.setActiveItem(null)));return this},doResetActiveItem:function(a){a===0?this.setActiveItem(1):this.setActiveItem(0)},doRemove:function(a,b,c){this.items.remove(a);a.isInnerItem()&&this.removeInner(a);this.onItemRemove(a,b,c);a.setParent(null);c&&
a.destroy()},removeAll:function(a,b){var c=this.items,d=c.length,e=0,f;a===void 0&&(a=this.getAutoDestroy());b=Boolean(b);for(this.removingAll=!0;e<d;e++)if((f=c.getAt(e))&&(b||f.isInnerItem()))this.doRemove(f,e,a),e--,d--;this.removingAll=!1;return this},getAt:function(a){return this.items.getAt(a)},removeAt:function(a){(a=this.getAt(a))&&this.remove(a);return this},removeInnerAt:function(a){(a=this.getInnerItems()[a])&&this.remove(a);return this},has:function(a){return this.getItems().indexOf(a)!=
-1},hasInnerItem:function(a){return this.innerItems.indexOf(a)!=-1},indexOf:function(a){return this.getItems().indexOf(a)},insertInner:function(a,b){var c=this.getItems().items,d=this.innerItems,e=d.indexOf(a),f=-1,g;e!==-1&&d.splice(e,1);if(typeof b=="number"){do g=c[++b];while(g&&!g.isInnerItem());g&&(f=d.indexOf(g),d.splice(f,0,a))}f===-1&&(d.push(a),f=d.length-1);if(e!==-1)this.onInnerItemMove(a,f,e);return this},onInnerItemMove:Ext.emptyFn,removeInner:function(a){Ext.Array.remove(this.innerItems,
a);return this},insert:function(a,b){var c;if(Ext.isArray(b)){for(c=b.length-1;c>=0;c--)this.insert(a,b[c]);return this}b=this.factoryItem(b);this.doInsert(a,b);return b},doInsert:function(a,b){var c=this.items,d=c.length,e;e=b.isInnerItem();a>d&&(a=d);if(c[a-1]===b)return this;d=this.indexOf(b);d!==-1?(d<a&&(a-=1),c.removeAt(d)):b.setParent(this);c.insert(a,b);e&&this.insertInner(b,a);if(d!==-1)this.onItemMove(b,a,d);else this.onItemAdd(b,a)},insertFirst:function(a){return this.insert(0,a)},insertLast:function(a){return this.insert(this.getItems().length,
a)},insertBefore:function(a,b){var c=this.indexOf(b);c!==-1&&this.insert(c,a);return this},insertAfter:function(a,b){var c=this.indexOf(b);c!==-1&&this.insert(c+1,a);return this},onItemAdd:function(a,b){this.doItemLayoutAdd(a,b);this.initialized&&this.fireEvent("add",this,a,b)},doItemLayoutAdd:function(a,b){var c=this.getLayout();if(this.isRendered()&&a.setRendered(!0))a.fireAction("renderedchange",[this,a,!0],"onItemAdd",c,{args:[a,b]});else c.onItemAdd(a,b)},onItemRemove:function(a,b){this.doItemLayoutRemove(a,
b);this.fireEvent("remove",this,a,b)},doItemLayoutRemove:function(a,b){var c=this.getLayout();if(this.isRendered()&&a.setRendered(!1))a.fireAction("renderedchange",[this,a,!1],"onItemRemove",c,{args:[a,b]});else c.onItemRemove(a,b)},onItemMove:function(a,b,c){a.isDocked()&&a.setDocked(null);this.doItemLayoutMove(a,b,c);this.fireEvent("move",this,a,b,c)},doItemLayoutMove:function(a,b,c){this.getLayout().onItemMove(a,b,c)},onItemCenteredChange:function(a,b){!a.isFloating()&&!a.isDocked()&&(b?this.removeInner(a):
this.insertInner(a,this.indexOf(a)));this.getLayout().onItemCenteredChange(a,b)},onItemFloatingChange:function(a,b){!a.isCentered()&&!a.isDocked()&&(b?this.removeInner(a):this.insertInner(a,this.indexOf(a)));this.getLayout().onItemFloatingChange(a,b)},onItemDockedChange:function(a,b,c){!a.isCentered()&&!a.isFloating()&&(b?this.removeInner(a):this.insertInner(a,this.indexOf(a)));this.getLayout().onItemDockedChange(a,b,c)},getInnerItems:function(){return this.innerItems},getDockedItems:function(){var a=
this.getItems().items,b=[],c=a.length,d,e;for(e=0;e<c;e++)d=a[e],d.isDocked()&&b.push(d);return b},applyActiveItem:function(a,b){var c=this.getInnerItems();this.getItems();if(!a&&c.length===0)return 0;else if(typeof a=="number")if(a=Math.max(0,Math.min(a,c.length-1)),a=c[a])return a;else{if(b)return null}else if(a)return a.isComponent||(a=this.factoryItem(a)),this.has(a)||this.add(a),a},animateActiveItem:function(a,b){var c=this.getLayout(),d;this.activeItemAnimation&&this.activeItemAnimation.destroy();
if((this.activeItemAnimation=b=new Ext.fx.layout.Card(b))&&c.isCard)if(b.setLayout(c),d=c.getAnimation())d.disable(),b.on("animationend",function(){d.enable();b.destroy()},this);return this.setActiveItem(a)},doSetActiveItem:function(a,b){b&&b.fireEvent("deactivate",b,this,a);a&&a.fireEvent("activate",a,this,b)},setRendered:function(a){if(this.callParent(arguments)){var b=this.items.items,c,d;for(c=0,d=b.length;c<d;c++)b[c].setRendered(a);return!0}return!1},getScrollableBehavior:function(){var a=this.scrollableBehavior;
if(!a)a=this.scrollableBehavior=new Ext.behavior.Scrollable(this);return a},applyScrollable:function(a){this.getScrollableBehavior().setConfig(a)},getScrollable:function(){return this.getScrollableBehavior().getScrollView()},getRefItems:function(a){var b=this.getItems().items.slice(),c=b.length,d;if(a)for(a=0;a<c;a++)d=b[a],d.getRefItems&&(b=b.concat(d.getRefItems(!0)));return b},getComponent:function(a){Ext.isObject(a)&&(a=a.getItemId());return this.getItems().get(a)},getDockedComponent:function(a){Ext.isObject(a)&&
(a=a.getItemId());var b=this.getDockedItems(),c=b.length,d,e;if(Ext.isNumber(a))return b[a];for(e=0;e<c;e++)if(d=b[e],d.id==a)return d;return!1},query:function(a){return Ext.ComponentQuery.query(a,this)},child:function(a){return this.query("> "+a)[0]||null},down:function(a){return this.query(a)[0]||null},onClassExtended:function(a,b){if("onAdd"in b||"onRemove"in b)throw Error("["+a.$className+"] 'onAdd()' and 'onRemove()' methods no longer exist in Ext.Container, please use 'onItemAdd()' and 'onItemRemove()' instead }");
},destroy:function(){var a=this.getModal();a&&a.destroy();this.removeAll(!0,!0);Ext.destroy(this.getScrollable(),this.bodyElement);this.callParent()}},function(){this.addMember("defaultItemClass",this);Ext.deprecateClassMethod(this,"addAll","add");Ext.deprecateClassMethod(this,"removeDocked","remove");this.override({constructor:function(a){var a=a||{},b=a.dockedItems,c,d,e;if(a.scroll)a.scrollable=a.scroll,delete a.scroll;this.callParent(arguments);if(b){b=Ext.Array.from(b);for(c=0,d=b.length;c<d;c++)if(e=
b[c],"dock"in e)e.docked=e.dock;this.add(b)}},add:function(){var a=arguments;if(a.length>1){if(typeof a[0]=="number")return this.insert(a[0],a[1]);a=[Array.prototype.slice.call(a)]}return this.callParent(a)},doAdd:function(a){var b=a.getDocked(),c;a.overlay&&b&&(b=="top"?c={top:0,bottom:"auto",left:0,right:0}:b=="bottom"&&(c={top:null,bottom:0,left:0,right:0}),c&&(a.setDocked(!1),a.setTop(c.top),a.setBottom(c.bottom),a.setLeft(c.left),a.setRight(c.right)));return this.callOverridden(arguments)},applyDefaults:function(a){return this.callParent(arguments)},
factoryItemWithDefaults:function(a){var b=this.getDefaults(),c;typeof b=="function"&&(c=b.call(this,a));typeof a=="string"&&(a=Ext.getCmp(a));if(c)this._defaults=c;a=this.callParent([a]);if(c)this._defaults=b;return a},applyMasked:function(a){if(Ext.isObject(a)&&!a.isInstance&&"message"in a&&!("xtype"in a)&&!("xclass"in a))a.xtype="loadmask";return this.callOverridden(arguments)}});Ext.deprecateClassMethod(this,"setMask","setMasked")});
Ext.define("Ext.Toolbar",{extend:"Ext.Container",xtype:"toolbar",requires:["Ext.Button","Ext.Title","Ext.Spacer"],isToolbar:!0,config:{baseCls:Ext.baseCSSPrefix+"toolbar",ui:"dark",title:null,defaultType:"button",layout:{type:"hbox",align:"center"}},constructor:function(a){a=a||{};if(a.docked=="left"||a.docked=="right")a.layout={type:"vbox",align:"stretch"};this.callParent([a])},applyTitle:function(a){typeof a=="string"&&(a={title:a,centered:!0});return Ext.factory(a,Ext.Title,this.getTitle())},updateTitle:function(a,
b){a&&(this.add(a),this.getLayout().setItemFlex(a,1));b&&b.destroy()},showTitle:function(){var a=this.getTitle();a&&a.show()},hideTitle:function(){var a=this.getTitle();a&&a.hide()}},function(){Ext.deprecateProperty(this,"titleCls",null,"Ext.Toolbar.titleCls has been removed. Use #cls config of title instead.")});
Ext.define("Ext.Panel",{extend:"Ext.Container",requires:["Ext.util.LineSegment"],alternateClassName:"Ext.lib.Panel",xtype:"panel",isPanel:!0,config:{baseCls:Ext.baseCSSPrefix+"panel",bodyPadding:null,bodyMargin:null,bodyBorder:null},getElementConfig:function(){var a=this.callParent();a.children.push({reference:"tipElement",className:"x-anchor",hidden:!0});return a},applyBodyPadding:function(a){a===!0&&(a=5);a&&(a=Ext.dom.Element.unitizeBox(a));return a},updateBodyPadding:function(a){this.element.setStyle("padding",
a)},applyBodyMargin:function(a){a===!0&&(a=5);a&&(a=Ext.dom.Element.unitizeBox(a));return a},updateBodyMargin:function(a){this.element.setStyle("margin",a)},applyBodyBorder:function(a){a===!0&&(a=1);a&&(a=Ext.dom.Element.unitizeBox(a));return a},updateBodyBorder:function(a){this.element.setStyle("border-width",a)},alignTo:function(a){var b=this.tipElement;b.hide();this.currentTipPosition&&b.removeCls("x-anchor-"+this.currentTipPosition);this.callParent(arguments);var c=Ext.util.LineSegment,d=this.renderElement,
e=(a.isComponent?a.renderElement:a).getPageBox(),f=d.getPageBox(),d=f.left,g=f.top,h=f.right,i=f.bottom,j={x:d,y:g},k={x:h,y:g},l={x:d,y:i},m={x:h,y:i},q=e.left+e.width/2,e=e.top+e.height/2,f=new c({x:d+f.width/2,y:g+f.height/2},{x:q,y:e}),o=0,p=0,r,t,s,v,x;b.setVisibility(!1);b.show();r=b.getSize();t=r.width;r=r.height;f.intersects(new c(j,k))?(v=Math.min(Math.max(q,d),h-t/2),x=g,p=r+10,s="top"):f.intersects(new c(j,l))?(v=d,x=Math.min(Math.max(e+t/2,g),i),o=r+10,s="left"):f.intersects(new c(l,m))?
(v=Math.min(Math.max(q,d),h-t/2),x=i,p=-r-10,s="bottom"):f.intersects(new c(k,m))&&(v=h,x=Math.min(Math.max(e-t/2,g),i),o=-r-10,s="right");if(v||x)this.currentTipPosition=s,b.addCls("x-anchor-"+s),b.setLeft(v-d),b.setTop(x-g),b.setVisibility(!0),this.setLeft(this.getLeft()+o),this.setTop(this.getTop()+p)}});
Ext.define("Ext.Sheet",{extend:"Ext.Panel",xtype:"sheet",requires:["Ext.fx.Animation"],config:{baseCls:Ext.baseCSSPrefix+"sheet",modal:!0,centered:!0,stretchX:null,stretchY:null,enter:"bottom",exit:"bottom",showAnimation:!Ext.os.is.Android2?{type:"slideIn",duration:250,easing:"ease-out"}:null,hideAnimation:!Ext.os.is.Android2?{type:"slideOut",duration:250,easing:"ease-in"}:null},applyHideAnimation:function(a){var b=this.getExit(),c=b;if(b===null)return null;a===!0&&(a={type:"slideOut"});Ext.isString(a)&&
(a={type:a});if(a=Ext.factory(a,Ext.fx.Animation))b=="bottom"&&(c="down"),b=="top"&&(c="up"),a.setDirection(c);return a},applyShowAnimation:function(a){var b=this.getEnter(),c=b;if(b===null)return null;a===!0&&(a={type:"slideIn"});Ext.isString(a)&&(a={type:a});if(a=Ext.factory(a,Ext.fx.Animation))b=="bottom"&&(c="down"),b=="top"&&(c="up"),a.setBefore({display:null}),a.setReverse(!0),a.setDirection(c);return a},updateStretchX:function(a){this.getLeft();this.getRight();a&&(this.setLeft(0),this.setRight(0))},
updateStretchY:function(a){this.getTop();this.getBottom();a&&(this.setTop(0),this.setBottom(0))}});
Ext.define("Ext.MessageBox",{extend:"Ext.Sheet",requires:["Ext.Toolbar","Ext.field.Text","Ext.field.TextArea"],config:{ui:"dark",baseCls:Ext.baseCSSPrefix+"msgbox",iconCls:null,showAnimation:{type:"popIn",duration:250,easing:"ease-out"},hideAnimation:{type:"popOut",duration:250,easing:"ease-out"},zIndex:10,defaultTextHeight:75,title:null,buttons:null,message:null,prompt:null,layout:{type:"vbox",pack:"center"}},statics:{OK:{text:"OK",itemId:"ok",ui:"action"},YES:{text:"Yes",itemId:"yes",ui:"action"},
NO:{text:"No",itemId:"no"},CANCEL:{text:"Cancel",itemId:"cancel"},INFO:Ext.baseCSSPrefix+"msgbox-info",WARNING:Ext.baseCSSPrefix+"msgbox-warning",QUESTION:Ext.baseCSSPrefix+"msgbox-question",ERROR:Ext.baseCSSPrefix+"msgbox-error",OKCANCEL:[{text:"Cancel",itemId:"cancel"},{text:"OK",itemId:"ok",ui:"action"}],YESNOCANCEL:[{text:"Cancel",itemId:"cancel"},{text:"No",itemId:"no"},{text:"Yes",itemId:"yes",ui:"action"}],YESNO:[{text:"No",itemId:"no"},{text:"Yes",itemId:"yes",ui:"action"}]},constructor:function(a){a=
a||{};a.hasOwnProperty("promptConfig")&&(Ext.applyIf(a,{prompt:a.promptConfig}),delete a.promptConfig);if(a.hasOwnProperty("multiline")||a.hasOwnProperty("multiLine"))a.prompt=a.prompt||{},Ext.applyIf(a.prompt,{multiLine:a.multiline||a.multiLine}),delete a.multiline,delete a.multiLine;this.defaultAllowedConfig={};var b="ui,showAnimation,hideAnimation,title,message,prompt,iconCls,buttons,defaultTextHeight".split(","),c=b.length,d,e;for(d=0;d<c;d++)e=b[d],this.defaultAllowedConfig[e]=this.defaultConfig[e];
this.callParent([a])},applyTitle:function(a){typeof a=="string"&&(a={title:a});Ext.applyIf(a,{docked:"top",cls:this.getBaseCls()+"-title"});return Ext.factory(a,Ext.Toolbar,this.getTitle())},updateTitle:function(a){a&&this.add(a)},updateButtons:function(a){if(a)this.buttonsToolbar?(this.buttonsToolbar.removeAll(),this.buttonsToolbar.setItems(a)):(this.buttonsToolbar=Ext.create("Ext.Toolbar",{docked:"bottom",defaultType:"button",layout:{type:"hbox",pack:"center"},ui:this.getUi(),cls:this.getBaseCls()+
"-buttons",items:a}),this.add(this.buttonsToolbar))},applyMessage:function(a){a={html:a,cls:this.getBaseCls()+"-text"};return Ext.factory(a,Ext.Component,this._message)},updateMessage:function(a){a&&this.add(a)},getMessage:function(){return this._message?this._message.getHtml():null},applyIconCls:function(a){a={xtype:"component",docked:"left",width:40,height:40,baseCls:Ext.baseCSSPrefix+"icon",hidden:a?!1:!0,cls:a};return Ext.factory(a,Ext.Component,this._iconCls)},updateIconCls:function(a,b){this.getTitle();
this.getButtons();a&&!b?this.add(a):this.remove(b)},getIconCls:function(){var a=this._iconCls;return a?(a=a.getCls())?a[0]:null:null},applyPrompt:function(a){if(a){var b={label:!1};Ext.isObject(a)&&Ext.apply(b,a);return b.multiLine?(b.height=Ext.isNumber(b.multiLine)?parseFloat(b.multiLine):this.getDefaultTextHeight(),Ext.factory(b,Ext.field.TextArea,this.getPrompt())):Ext.factory(b,Ext.field.Text,this.getPrompt())}return a},updatePrompt:function(a,b){a&&this.add(a);b&&this.remove(b)},onClick:function(a){if(a){var b=
a.config.userConfig||{},c=a.getInitialConfig(),d=this.getPrompt();if(typeof b.fn=="function")this.on({hiddenchange:function(){b.fn.call(b.scope||null,c.itemId||c.text,d?d.getValue():null,b)},single:!0,scope:this});b.input&&b.input.dom.blur()}this.hide()},show:function(a){!this.getParent()&&Ext.Viewport&&Ext.Viewport.add(this);if(!a)return this.callParent();var b=Ext.Object.merge({},{value:""},a),c=[];Ext.each(a.buttons||Ext.MessageBox.OK||[],function(b){b&&c.push(Ext.apply({userConfig:a,scope:this,
handler:"onClick"},b))},this);b.buttons=c;b.prompt=b.promptConfig||b.prompt||null;if(b.multiLine)b.prompt=b.prompt||{},b.prompt.multiLine=b.multiLine,delete b.multiLine;b=Ext.merge({},this.defaultAllowedConfig,b);this.setConfig(b);(b=this.getPrompt())&&b.setValue(a.value||"");this.callParent();return this},alert:function(a,b,c,d){return this.show({title:a,message:b,buttons:Ext.MessageBox.OK,promptConfig:!1,fn:function(a){c&&c.call(d,a)},scope:d})},confirm:function(a,b,c,d){return this.show({title:a,
message:b,buttons:Ext.MessageBox.YESNO,promptConfig:!1,scope:d,fn:function(a){c&&c.call(d,a)}})},prompt:function(a,b,c,d,e,f,g){return this.show({title:a,message:b,buttons:Ext.MessageBox.OKCANCEL,scope:d,prompt:g||!0,multiLine:e,value:f,fn:function(a,b){c&&c.call(d,a,b)}})}},function(a){this.override({setIcon:function(a){this.setIconCls(a);return this},updateText:function(a){this.setMessage(a);return this}});Ext.onSetup(function(){Ext.Msg=new a})});
Ext.define("Ext.event.Touch",{extend:"Ext.event.Dom",requires:["Ext.util.Point"],constructor:function(a,b){b&&this.set(b);this.touchesMap={};this.changedTouches=this.cloneTouches(a.changedTouches);this.touches=this.cloneTouches(a.touches);this.targetTouches=this.cloneTouches(a.targetTouches);return this.callParent([a])},clone:function(){return new this.self(this)},setTargets:function(a){this.doSetTargets(this.changedTouches,a);this.doSetTargets(this.touches,a);this.doSetTargets(this.targetTouches,
a)},doSetTargets:function(a,b){var c,d,e,f;for(c=0,d=a.length;c<d;c++)if(e=a[c],f=e.identifier,f=b[f])e.targets=f},cloneTouches:function(a){var b=this.touchesMap,c=[],d=null,e,f,g,h;for(e=0,f=a.length;e<f;e++)g=a[e],h=g.identifier,d!==null&&h===d&&h++,d=h,b[h]||(b[h]={pageX:g.pageX,pageY:g.pageY,identifier:h,target:g.target,timeStamp:g.timeStamp,point:Ext.util.Point.fromTouch(g),targets:g.targets}),c[e]=b[h];return c}});
Ext.define("Ext.event.publisher.TouchGesture",{extend:"Ext.event.publisher.Dom",requires:["Ext.util.Point","Ext.event.Touch"],handledEvents:["touchstart","touchmove","touchend","touchcancel"],moveEventName:"touchmove",config:{moveThrottle:1,buffering:{enabled:!1,interval:10},recognizers:{}},currentTouchesCount:0,constructor:function(a){this.processEvents=Ext.Function.bind(this.processEvents,this);this.eventProcessors={touchstart:this.onTouchStart,touchmove:this.onTouchMove,touchend:this.onTouchEnd,
touchcancel:this.onTouchEnd};this.eventToRecognizerMap={};this.activeRecognizers=[];this.currentRecognizers=[];this.currentTargets={};this.currentTouches={};this.buffer=[];this.initConfig(a);return this.callParent()},applyBuffering:function(a){a.enabled===!0?this.bufferTimer=setInterval(this.processEvents,a.interval):clearInterval(this.bufferTimer);return a},applyRecognizers:function(a){var b,c;for(b in a)a.hasOwnProperty(b)&&(c=a[b])&&this.registerRecognizer(c);return a},handles:function(a){return this.callParent(arguments)||
this.eventToRecognizerMap.hasOwnProperty(a)},doesEventBubble:function(){return!0},eventLogs:[],onEvent:function(a){var b=this.getBuffering(),a=new Ext.event.Touch(a);b.enabled?this.buffer.push(a):this.processEvent(a)},processEvents:function(){var a=this.buffer,b=a.length,c=[],d,e;if(b>0){d=a.slice(0);for(e=a.length=0;e<b;e++)if(a=d[e],a.type===this.moveEventName)c.push(a);else{if(c.length>0)this.processEvent(this.mergeEvents(c)),c.length=0;this.processEvent(a)}if(c.length>0)this.processEvent(this.mergeEvents(c)),
c.length=0}},mergeEvents:function(a){var b=[],c=a.length,d,e,f;f=a[c-1];if(c===1)return f;for(d=0;d<c;d++)e=a[d],b.push(e.changedTouches);f.changedTouches=this.mergeTouchLists(b);return f},mergeTouchLists:function(a){var b={},c=[],d,e,f,g,h,i,j;for(d=0,e=a.length;d<e;d++){f=a[d];for(g=0,h=f.length;g<h;g++)i=f[g],j=i.identifier,b[j]=i}for(j in b)b.hasOwnProperty(j)&&c.push(b[j]);return c},registerRecognizer:function(a){var b=this.eventToRecognizerMap,c=this.activeRecognizers,d=a.getHandledEvents(),
e,f,g;a.setOnRecognized(this.onRecognized);a.setCallbackScope(this);for(e=0,f=d.length;e<f;e++)g=d[e],b[g]=a;c.push(a);return this},onRecognized:function(a,b,c,d){var e=[],f=c.length,g,h;if(f===1)return this.publish(a,c[0].targets,b,d);for(g=0;g<f;g++)h=c[g],e.push(h.targets);c=this.getCommonTargets(e);this.publish(a,c,b,d)},publish:function(a,b,c,d){c.set(d);return this.callParent([a,b,c])},getCommonTargets:function(a){var b=a[0],c=a.length;if(c===1)return b;for(var d=[],e=1,f,g,h;;){f=b[b.length-
e];if(!f)break;for(h=1;h<c;h++)if(g=a[h],g[g.length-e]!==f)return d;d.unshift(f);e++}return d},invokeRecognizers:function(a,b){var c=this.activeRecognizers,d=c.length,e,f;if(a==="onStart")for(e=0;e<d;e++)c[e].isActive=!0;for(e=0;e<d;e++)if(f=c[e],f.isActive&&f[a].call(f,b)===!1)f.isActive=!1},getActiveRecognizers:function(){return this.activeRecognizers},processEvent:function(a){this.eventProcessors[a.type].call(this,a)},onTouchStart:function(a){var b=this.currentTargets,c=this.currentTouches,d=this.currentTouchesCount,
e=a.changedTouches,f=a.touches,g=f.length,h={},i=e.length,j,k,l;d+=i;if(d>g){for(j=0;j<g;j++)k=f[j],l=k.identifier,h[l]=!0;for(l in c)if(c.hasOwnProperty(l)&&!h[l])d--,f=a.clone(),k=c[l],k.targets=this.getBubblingTargets(this.getElementTarget(k.target)),f.changedTouches=[k],this.onTouchEnd(f);if(d>g)return}for(j=0;j<i;j++)k=e[j],l=k.identifier,c.hasOwnProperty(l)||this.currentTouchesCount++,c[l]=k,b[l]=this.getBubblingTargets(this.getElementTarget(k.target));a.setTargets(b);for(j=0;j<i;j++)k=e[j],
this.publish("touchstart",k.targets,a,{touch:k});if(!this.isStarted)this.isStarted=!0,this.invokeRecognizers("onStart",a);this.invokeRecognizers("onTouchStart",a)},onTouchMove:function(a){if(this.isStarted){var b=this.currentTargets,c=this.currentTouches,d=this.getMoveThrottle(),e=a.changedTouches,f=0,g,h,i,j,k;a.setTargets(b);for(b=0,g=e.length;b<g;b++)h=e[b],k=h.identifier,i=h.point,j=c[k].point,d&&i.isCloseTo(j,d)?f++:(c[k]=h,this.publish("touchmove",h.targets,a,{touch:h}));f<g&&this.invokeRecognizers("onTouchMove",
a)}},onTouchEnd:function(a){if(this.isStarted){var b=this.currentTargets,c=this.currentTouches,d=a.changedTouches,e=d.length,f,g,h,i;a.setTargets(b);this.currentTouchesCount-=e;if(f=this.currentTouchesCount===0)this.isStarted=!1;for(h=0;h<e;h++)i=d[h],g=i.identifier,delete c[g],delete b[g],this.publish("touchend",i.targets,a,{touch:i});this.invokeRecognizers("onTouchEnd",a);f&&this.invokeRecognizers("onEnd",a)}}},function(){Ext.feature.has.Touch||this.override({moveEventName:"mousemove",map:{mouseToTouch:{mousedown:"touchstart",
mousemove:"touchmove",mouseup:"touchend"},touchToMouse:{touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"}},attachListener:function(a){a=this.map.touchToMouse[a];return!a?void 0:this.callOverridden([a])},lastEventType:null,onEvent:function(a){if(!("button"in a&&a.button!==0)){var b=a.type,c=[a];if(b==="mousedown"&&this.lastEventType&&this.lastEventType!=="mouseup"){var d=document.createEvent("MouseEvent");d.initMouseEvent("mouseup",a.bubbles,a.cancelable,document.defaultView,a.detail,
a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.metaKey,a.button,a.relatedTarget);this.onEvent(d)}if(b!=="mousemove")this.lastEventType=b;a.identifier=1;a.touches=b!=="mouseup"?c:[];a.targetTouches=b!=="mouseup"?c:[];a.changedTouches=c;return this.callOverridden([a])}},processEvent:function(a){this.eventProcessors[this.map.mouseToTouch[a.type]].call(this,a)}})});
Ext.define("Ext.event.recognizer.Recognizer",{mixins:["Ext.mixin.Identifiable"],handledEvents:[],config:{onRecognized:Ext.emptyFn,onFailed:Ext.emptyFn,callbackScope:null},constructor:function(a){this.initConfig(a);return this},getHandledEvents:function(){return this.handledEvents},onStart:Ext.emptyFn,onEnd:Ext.emptyFn,fail:function(){this.getOnFailed().apply(this.getCallbackScope(),arguments);return!1},fire:function(){this.getOnRecognized().apply(this.getCallbackScope(),arguments)}});
Ext.define("Ext.event.recognizer.Touch",{extend:"Ext.event.recognizer.Recognizer",onTouchStart:Ext.emptyFn,onTouchMove:Ext.emptyFn,onTouchEnd:Ext.emptyFn});Ext.define("Ext.event.recognizer.SingleTouch",{extend:"Ext.event.recognizer.Touch",inheritableStatics:{NOT_SINGLE_TOUCH:1,TOUCH_MOVED:2},onTouchStart:function(a){if(a.touches.length>1)return this.fail(this.self.NOT_SINGLE_TOUCH)}});
Ext.define("Ext.event.recognizer.Drag",{extend:"Ext.event.recognizer.SingleTouch",isStarted:!1,startPoint:null,previousPoint:null,lastPoint:null,handledEvents:["dragstart","drag","dragend"],onTouchStart:function(a){var b;if(this.callParent(arguments)===!1){if(this.isStarted&&this.lastMoveEvent!==null)this.onTouchEnd(this.lastMoveEvent);return!1}this.startTouches=b=a.changedTouches;this.startTouch=b=b[0];this.startPoint=b.point},onTouchMove:function(a){var b=a.changedTouches,c=b[0],d=c.point,e=a.time;
if(this.lastPoint)this.previousPoint=this.lastPoint;if(this.lastTime)this.previousTime=this.lastTime;this.lastTime=e;this.lastPoint=d;this.lastMoveEvent=a;this.isStarted?this.fire("drag",a,b,this.getInfo(a,c)):(this.isStarted=!0,this.previousTime=this.startTime=e,this.previousPoint=this.startPoint,this.fire("dragstart",a,this.startTouches,this.getInfo(a,this.startTouch)))},onTouchEnd:function(a){if(this.isStarted){var b=a.changedTouches,c=b[0],d=c.point;this.isStarted=!1;this.lastPoint=d;this.fire("dragend",
a,b,this.getInfo(a,c));this.lastTime=this.previousTime=this.startTime=0;this.lastMoveEvent=this.lastPoint=this.previousPoint=this.startPoint=null}},getInfo:function(a,b){var c=a.time,d=this.startPoint,e=this.previousPoint,f=this.startTime,g=this.previousTime,h=this.lastPoint,i=h.x-d.x,j=h.y-d.y;return{touch:b,startX:d.x,startY:d.y,previousX:e.x,previousY:e.y,pageX:h.x,pageY:h.y,deltaX:i,deltaY:j,absDeltaX:Math.abs(i),absDeltaY:Math.abs(j),previousDeltaX:h.x-e.x,previousDeltaY:h.y-e.y,time:c,startTime:f,
previousTime:g,deltaTime:c-f,previousDeltaTime:c-g}}});
Ext.define("Ext.event.recognizer.Tap",{handledEvents:["tap"],extend:"Ext.event.recognizer.SingleTouch",onTouchMove:function(){return this.fail(this.self.TOUCH_MOVED)},onTouchEnd:function(a){this.fire("tap",a,[a.changedTouches[0]])}},function(){this.override({handledEvents:["tap","tapstart","tapcancel"],onTouchStart:function(a){if(this.callOverridden(arguments)===!1)return!1;this.fire("tapstart",a,[a.changedTouches[0]])},onTouchMove:function(a){this.fire("tapcancel",a,[a.changedTouches[0]]);return this.callOverridden(arguments)}})});
Ext.define("Ext.event.recognizer.DoubleTap",{extend:"Ext.event.recognizer.SingleTouch",config:{maxDuration:300},handledEvents:["singletap","doubletap"],singleTapTimer:null,onTouchStart:function(a){if(this.callParent(arguments)===!1)return!1;this.startTime=a.time;clearTimeout(this.singleTapTimer)},onTouchMove:function(){return this.fail(this.self.TOUCH_MOVED)},onEnd:function(a){var b=this,c=this.getMaxDuration(),d=a.changedTouches[0],e=a.time,f=this.lastTapTime;this.lastTapTime=e;if(f&&(f=e-f,f<=c)){this.lastTapTime=
0;this.fire("doubletap",a,[d],{touch:d,duration:f});return}e-this.startTime>c?this.fireSingleTap(a,d):this.singleTapTimer=setTimeout(function(){b.fireSingleTap(a,d)},c)},fireSingleTap:function(a,b){this.fire("singletap",a,[b],{touch:b})}});
Ext.define("Ext.event.recognizer.LongPress",{extend:"Ext.event.recognizer.SingleTouch",inheritableStatics:{DURATION_NOT_ENOUGH:32},config:{minDuration:1E3},handledEvents:["longpress"],fireLongPress:function(a){var b=a.changedTouches[0];this.fire("longpress",a,[b],{touch:b,duration:this.getMinDuration()});this.isLongPress=!0},onTouchStart:function(a){var b=this;if(this.callParent(arguments)===!1)return!1;this.isLongPress=!1;this.timer=setTimeout(function(){b.fireLongPress(a)},this.getMinDuration())},
onTouchMove:function(){return this.fail(this.self.TOUCH_MOVED)},onTouchEnd:function(){if(!this.isLongPress)return this.fail(this.self.DURATION_NOT_ENOUGH)},fail:function(){clearTimeout(this.timer);return this.callParent(arguments)}},function(){this.override({handledEvents:["longpress","taphold"],fire:function(a){if(a==="longpress"){var b=Array.prototype.slice.call(arguments);b[0]="taphold";this.fire.apply(this,b)}return this.callOverridden(arguments)}})});
Ext.define("Ext.event.recognizer.Swipe",{extend:"Ext.event.recognizer.SingleTouch",handledEvents:["swipe"],inheritableStatics:{MAX_OFFSET_EXCEEDED:16,MAX_DURATION_EXCEEDED:17,DISTANCE_NOT_ENOUGH:18},config:{minDistance:80,maxOffset:35,maxDuration:1E3},onTouchStart:function(a){if(this.callParent(arguments)===!1)return!1;var b=a.changedTouches[0];this.startTime=a.time;this.isVertical=this.isHorizontal=!0;this.startX=b.pageX;this.startY=b.pageY},onTouchMove:function(a){var b=a.changedTouches[0],c=b.pageY,
b=Math.abs(b.pageX-this.startX),c=Math.abs(c-this.startY);if(a.time-this.startTime>this.getMaxDuration())return this.fail(this.self.MAX_DURATION_EXCEEDED);if(this.isVertical&&b>this.getMaxOffset())this.isVertical=!1;if(this.isHorizontal&&c>this.getMaxOffset())this.isHorizontal=!1;if(!this.isHorizontal&&!this.isVertical)return this.fail(this.self.MAX_OFFSET_EXCEEDED)},onTouchEnd:function(a){if(this.onTouchMove(a)===!1)return!1;var b=a.changedTouches[0],c=b.pageX-this.startX,d=b.pageY-this.startY,e=
Math.abs(c),f=Math.abs(d),g=this.getMinDistance(),h=a.time-this.startTime;if(this.isVertical&&f<g)this.isVertical=!1;if(this.isHorizontal&&e<g)this.isHorizontal=!1;if(this.isHorizontal)c=c<0?"left":"right";else if(this.isVertical)c=d<0?"up":"down",e=f;else return this.fail(this.self.DISTANCE_NOT_ENOUGH);this.fire("swipe",a,[b],{touch:b,direction:c,distance:e,duration:h})}});
Ext.define("Ext.event.recognizer.HorizontalSwipe",{extend:"Ext.event.recognizer.Swipe",handledEvents:["swipe"],onTouchStart:function(a){if(this.callParent(arguments)===!1)return!1;var b=a.changedTouches[0];this.startTime=a.time;this.startX=b.pageX;this.startY=b.pageY},onTouchMove:function(a){var b=Math.abs(a.changedTouches[0].pageY-this.startY),a=a.time,c=this.getMaxDuration(),d=this.getMaxOffset();if(a-this.startTime>c)return this.fail(this.self.MAX_DURATION_EXCEEDED);if(b>d)return this.fail(this.self.MAX_OFFSET_EXCEEDED)},
onTouchEnd:function(a){if(this.onTouchMove(a)!==!1){var b=a.changedTouches[0],c=b.pageX-this.startX,d=Math.abs(c),e=a.time-this.startTime,f=this.getMinDistance();if(d<f)return this.fail(this.self.DISTANCE_NOT_ENOUGH);this.fire("swipe",a,[b],{touch:b,direction:c<0?"left":"right",distance:d,duration:e})}}});
Ext.define("Ext.event.recognizer.MultiTouch",{extend:"Ext.event.recognizer.Touch",requiredTouchesCount:2,isTracking:!1,isStarted:!1,onTouchStart:function(a){var b=this.requiredTouchesCount,c=a.touches.length;c===b?this.start(a):c>b&&this.end(a)},onTouchEnd:function(a){this.end(a)},start:function(){if(!this.isTracking)this.isTracking=!0,this.isStarted=!1},end:function(a){if(this.isTracking&&(this.isTracking=!1,this.isStarted))this.isStarted=!1,this.fireEnd(a)}});
Ext.define("Ext.event.recognizer.Pinch",{extend:"Ext.event.recognizer.MultiTouch",requiredTouchesCount:2,handledEvents:["pinchstart","pinch","pinchend"],startDistance:0,lastTouches:null,onTouchMove:function(a){if(this.isTracking){var b=Array.prototype.slice.call(a.touches),c;c=b[0].point.getDistanceTo(b[1].point);if(c!==0)this.isStarted?this.fire("pinch",a,b,{touches:b,distance:c,scale:c/this.startDistance}):(this.isStarted=!0,this.startDistance=c,this.fire("pinchstart",a,b,{touches:b,distance:c,
scale:1})),this.lastTouches=b}},fireEnd:function(a){this.fire("pinchend",a,this.lastTouches)},fail:function(){return this.callParent(arguments)}});
Ext.define("Ext.event.recognizer.Rotate",{extend:"Ext.event.recognizer.MultiTouch",requiredTouchesCount:2,handledEvents:["rotatestart","rotate","rotateend"],startAngle:0,lastTouches:null,lastAngle:null,onTouchMove:function(a){if(this.isTracking){var b=Array.prototype.slice.call(a.touches),c=this.lastAngle,d,e,f,g;d=b[0].point.getAngleTo(b[1].point);c!==null&&(g=Math.abs(c-d),e=d+360,f=d-360,Math.abs(e-c)<g?d=e:Math.abs(f-c)<g&&(d=f));this.lastAngle=d;this.isStarted?this.fire("rotate",a,b,{touches:b,
angle:d,rotation:d-this.startAngle}):(this.isStarted=!0,this.startAngle=d,this.fire("rotatestart",a,b,{touches:b,angle:d,rotation:0}));this.lastTouches=b}},fireEnd:function(a){this.lastAngle=null;this.fire("rotateend",a,this.lastTouches)}});
Ext.define("Ext.ComponentQuery",{singleton:!0,uses:["Ext.ComponentManager"]},function(){var a=this,b=function(a,b){return b.method.apply(this,[a].concat(b.args))},c=function(a,b){for(var c=[],d=0,e=a.length,f,g=b!==">";d<e;d++)f=a[d],f.getRefItems&&(c=c.concat(f.getRefItems(g)));return c},d=function(a,b,c){if(b==="*")return a.slice();else{for(var d=[],e=0,f=a.length,g;e<f;e++)g=a[e],g.isXType(b,c)&&d.push(g);return d}},e=function(a,b){for(var c=Ext.Array,d=[],e=0,f=a.length,g;e<f;e++)g=a[e],(g.el?
g.el.hasCls(b):c.contains(g.initCls(),b))&&d.push(g);return d},f=function(a,b){for(var c=[],d=0,e=a.length,f;d<e;d++)f=a[d],(f.getId()===b||f.getItemId()===b)&&c.push(f);return c},g=/^(\s?([>\^])\s?|\s|$)/,h=/^(#)?([\w\-]+|\*)(?:\((true|false)\))?/,i=[{re:/^\.([\w\-]+)(?:\((true|false)\))?/,method:d},{re:/^(?:[\[](?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]])/,method:function(a,b,c,d){for(var c=[],e=0,f=a.length,g,h;e<f;e++)g=a[e],h=Ext.Class.getConfigNameMap(b).get,g[h]?(h=g[h](),(!d?h:String(h)===
d)&&c.push(g)):g.config&&g.config[b]?(!d?g.config[b]:String(g.config[b])===d)&&c.push(g):(!d?g[b]:String(g[b])===d)&&c.push(g);return c}},{re:/^#([\w\-]+)/,method:f},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:function(b,c,d){return a.pseudos[c](b,d)}},{re:/^(?:\{([^\}]+)\})/,method:"var r = [],i = 0,it = items,l = it.length,c;for (; i < l; i++) {c = it[i];if (c.{0}) {r.push(c);}}return r;"}];a.Query=Ext.extend(Object,{constructor:function(a){a=a||{};Ext.apply(this,
a)},execute:function(a){var d=this.operations,e=0,f=d.length,g,h;for(a?Ext.isArray(a)&&(h=a):h=Ext.ComponentManager.all.getArray();e<f;e++){g=d[e];if(g.mode==="^"){g=h||[a];h=[];for(var i=0,r=g.length,t=void 0;i<r;i++)for(t=g[i];t=t.ownerCt||t.floatParent;)h.push(t);g=h}else g=g.mode?c(h||[a],g.mode):b(h||c([a]),g);h=g;if(e===f-1)return h}return[]},is:function(a){var c=this.operations,a=Ext.isArray(a)?a:[a],d=a.length,a=b(a,c[c.length-1]);if(a.length===d){if(c.length>1)for(d=0,c=a.length;d<c;d++)if(Ext.Array.indexOf(this.execute(),
a[d])===-1)return!1;return!0}return!1}});Ext.apply(this,{cache:{},pseudos:{not:function(a,b){for(var c=Ext.ComponentQuery,d=0,e=a.length,f=[],g=-1,h;d<e;++d)h=a[d],c.is(h,b)||(f[++g]=h);return f}},query:function(a,b){for(var c=a.split(","),d=c.length,e=0,f=[],g=[],h={},i;e<d;e++)a=Ext.String.trim(c[e]),i=this.parse(a),f=f.concat(i.execute(b));if(d>1){c=f.length;for(e=0;e<c;e++)d=f[e],h[d.id]||(g.push(d),h[d.id]=!0);f=g}return f},is:function(a,b){if(!b)return!0;var c=this.cache[b];c||(this.cache[b]=
c=this.parse(b));return c.is(a)},parse:function(b){for(var c=[],l=i.length,m,q,o,p,r;b&&m!==b;){m=b;if(q=b.match(h))o=q[1],o==="#"?c.push({method:f,args:[Ext.String.trim(q[2])]}):o==="."?c.push({method:e,args:[Ext.String.trim(q[2])]}):c.push({method:d,args:[Ext.String.trim(q[2]),Boolean(q[3])]}),b=b.replace(q[0],"");for(;!(q=b.match(g));)for(o=0;b&&o<l;o++)if(p=i[o],q=b.match(p.re),r=p.method,q){c.push({method:Ext.isString(p.method)?Ext.functionFactory("items",Ext.String.format.apply(Ext.String,[r].concat(q.slice(1)))):
p.method,args:q.slice(1)});b=b.replace(q[0],"");break}q[1]&&(c.push({mode:q[2]||q[1]}),b=b.replace(q[0],""))}return new a.Query({operations:c})}})});
Ext.define("Ext.event.publisher.ComponentDelegation",{extend:"Ext.event.publisher.Publisher",requires:["Ext.Component","Ext.ComponentQuery"],targetType:"component",optimizedSelectorRegex:/^#([\w\-]+)((?:[\s]*)>(?:[\s]*)|(?:\s*))([\w\-]+)$/i,handledEvents:["*"],getSubscribers:function(a,b){var c=this.subscribers,d=c[a];!d&&b&&(d=c[a]={type:{$length:0},selector:[],$length:0});return d},subscribe:function(a,b){if(this.idSelectorRegex.test(a))return!1;var c=a.match(this.optimizedSelectorRegex),d=this.getSubscribers(b,
!0),e=d.type,f=d.selector,g,h;if(c!==null){f=c[1];g=c[2].indexOf(">")===-1;h=c[3];(c=e[h])||(e[h]=c={descendents:{$length:0},children:{$length:0},$length:0});g=g?c.descendents:c.children;if(g.hasOwnProperty(f))return g[f]++,!0;g[f]=1;g.$length++;c.$length++;e.$length++}else{if(f.hasOwnProperty(a))return f[a]++,!0;f[a]=1;f.push(a)}d.$length++;return!0},unsubscribe:function(a,b,c){var d=this.getSubscribers(b);if(!d)return!1;var e=a.match(this.optimizedSelectorRegex),f=d.type,g=d.selector,c=Boolean(c);
if(e!==null){a=e[1];g=e[2].indexOf(">")===-1;e=e[3];e=f[e];if(!e)return!0;g=g?e.descendents:e.children;if(!g.hasOwnProperty(a)||!c&&--g[a]>0)return!0;delete g[a];g.$length--;e.$length--;f.$length--}else{if(!g.hasOwnProperty(a)||!c&&--g[a]>0)return!0;delete g[a];Ext.Array.remove(g,a)}--d.$length===0&&delete this.subscribers[b];return!0},notify:function(a,b){var c=this.getSubscribers(b);if(!c||c.$length===0)return!1;c=a.substr(1);(c=Ext.ComponentManager.get(c))&&this.dispatcher.doAddListener(this.targetType,
a,b,"publish",this,{args:[b,c]},"before")},matchesSelector:function(a,b){return Ext.ComponentQuery.is(a,b)},dispatch:function(a,b,c,d){this.dispatcher.doDispatchEvent(this.targetType,a,b,c,null,d)},publish:function(a,b){var c=this.getSubscribers(a);if(c){var d=arguments[arguments.length-1],e=c.type,f=c.selector,g=Array.prototype.slice.call(arguments,2,-2),h=b.xtypesChain,i,j,k,l,m,q,o,p,r;for(m=0,q=h.length;m<q;m++)if(o=h[m],(c=e[o])&&c.$length>0){i=c.descendents;if(i.$length>0){k||(k=b.getAncestorIds());
for(p=0,r=k.length;p<r;p++)l=k[p],i.hasOwnProperty(l)&&this.dispatch("#"+l+" "+o,a,g,d)}c=c.children;c.$length>0&&(j||(k?j=k[0]:(i=b.getParent())&&(j=i.getId())),j&&c.hasOwnProperty(j)&&this.dispatch("#"+j+" > "+o,a,g,d))}q=f.length;if(q>0)for(m=0;m<q;m++)e=f[m],this.matchesSelector(b,e)&&this.dispatch(e,a,g,d)}}});
Ext.define("Ext.event.publisher.ComponentPaint",{extend:"Ext.event.publisher.Publisher",targetType:"component",handledEvents:["painted","erased"],eventNames:{painted:"painted",erased:"erased"},constructor:function(){this.callParent(arguments);this.hiddenQueue={};this.renderedQueue={}},getSubscribers:function(a,b){var c=this.subscribers;if(!c.hasOwnProperty(a)){if(!b)return null;c[a]={$length:0}}return c[a]},setDispatcher:function(a){var b=this.targetType;a.doAddListener(b,"*","renderedchange","onBeforeComponentRenderedChange",
this,null,"before");a.doAddListener(b,"*","hiddenchange","onBeforeComponentHiddenChange",this,null,"before");a.doAddListener(b,"*","renderedchange","onComponentRenderedChange",this,null,"after");a.doAddListener(b,"*","hiddenchange","onComponentHiddenChange",this,null,"after");return this.callParent(arguments)},subscribe:function(a,b){var c=a.match(this.idSelectorRegex),d;if(!c)return!1;d=c[1];c=this.getSubscribers(b,!0);if(c.hasOwnProperty(d))return c[d]++,!0;c[d]=1;c.$length++;return!0},unsubscribe:function(a,
b,c){var a=a.match(this.idSelectorRegex),d;if(!a||!(d=this.getSubscribers(b)))return!1;a=a[1];if(!d.hasOwnProperty(a)||!c&&--d[a]>0)return!0;delete d[a];--d.$length===0&&delete this.subscribers[b];return!0},onBeforeComponentRenderedChange:function(a,b,c){var a=this.eventNames,c=c?a.painted:a.erased,a=this.getSubscribers(c),d;a&&a.$length>0&&(this.renderedQueue[b.getId()]=d=[],this.publish(a,b,c,d))},onBeforeComponentHiddenChange:function(a,b){var c=this.eventNames,c=b?c.erased:c.painted,d=this.getSubscribers(c),
e;d&&d.$length>0&&(this.hiddenQueue[a.getId()]=e=[],this.publish(d,a,c,e))},onComponentRenderedChange:function(a,b){var c=this.renderedQueue,d=b.getId(),e;c.hasOwnProperty(d)&&(e=c[d],delete c[d],e.length>0&&this.dispatchQueue(e))},onComponentHiddenChange:function(a){var b=this.hiddenQueue,a=a.getId(),c;b.hasOwnProperty(a)&&(c=b[a],delete b[a],c.length>0&&this.dispatchQueue(c))},dispatchQueue:function(a){var b=this.dispatcher,c=this.targetType,d=this.eventNames,e=a.slice(),f=e.length,g,h,i,j;a.length=
0;if(f>0){for(a=0;a<f;a++)g=e[a],h=g.component,i=g.eventName,j=h.isPainted(),(i===d.painted&&j||i===d.erased&&!j)&&b.doDispatchEvent(c,"#"+g.id,i,[h]);e.length=0}},publish:function(a,b,c,d){var e=b.getId(),f=!1,g,h,i;if(a[e])if(f=this.eventNames,g=b.isPainted(),c===f.painted&&!g||c===f.erased&&g)f=!0;else return this;if(b.isContainer){g=b.getItems().items;for(h=0,i=g.length;h<i;h++)this.publish(a,g[h],c,d)}else b.isDecorator&&this.publish(a,b.getComponent(),c,d);f&&d.push({id:e,eventName:c,component:b})}});
Ext.define("Ext.event.publisher.ComponentSize",{extend:"Ext.event.publisher.Publisher",requires:["Ext.ComponentManager","Ext.util.SizeMonitor"],targetType:"component",handledEvents:["resize"],constructor:function(){this.callParent(arguments);this.sizeMonitors={}},subscribe:function(a){var b=a.match(this.idSelectorRegex),c=this.subscribers,d=this.sizeMonitors,e=this.dispatcher,f=this.targetType;if(!b)return!1;c.hasOwnProperty(a)||(c[a]=0,e.addListener(f,a,"painted","onComponentPainted",this,null,"before"),
b=Ext.ComponentManager.get(b[1]),d[a]=new Ext.util.SizeMonitor({element:b.element,callback:this.onComponentSizeChange,scope:this,args:[this,a]}));c[a]++;return!0},unsubscribe:function(a,b,c){var b=this.subscribers,d=this.dispatcher,e=this.targetType,f=this.sizeMonitors;if(!a.match(this.idSelectorRegex))return!1;if(!b.hasOwnProperty(a)||!c&&--b[a]>0)return!0;f[a].destroy();delete f[a];d.removeListener(e,a,"painted","onComponentPainted",this,"before");delete b[a];return!0},onComponentPainted:function(a){this.sizeMonitors[a.getObservableId()].refresh()},
onComponentSizeChange:function(a,b){this.dispatcher.doDispatchEvent(this.targetType,b,"resize",[a])}});Ext.define("Ext.log.Base",{config:{},constructor:function(a){this.initConfig(a);return this}});
(function(){var a=Ext.define("Ext.log.Logger",{extend:"Ext.log.Base",statics:{defaultPriority:"info",priorities:{verbose:0,info:1,deprecate:2,warn:3,error:4}},config:{enabled:!0,minPriority:"deprecate",writers:{}},log:function(b,c,d){if(!this.getEnabled())return this;var e=a.priorities,f=e[c],g=this.log.caller,h="",i=this.getWriters(),j,k;c||(c="info");if(e[this.getMinPriority()]>f)return this;d||(d=1);b=Ext.isArray(b)?b.join(" "):String(b);if(typeof d=="number"){j=d;do{j--;g=g.caller;if(!g)break;
if(!k)k=g.caller;if(j<=0&&g.displayName)break}while(g!==k);h=Ext.getDisplayName(g)}else g=g.caller,h=Ext.getDisplayName(d)+"#"+g.$name;b={time:Ext.Date.now(),priority:f,priorityName:c,message:b,caller:g,callerDisplayName:h};for(j in i)i.hasOwnProperty(j)&&i[j].write(Ext.merge({},b));return this}},function(){Ext.Object.each(this.priorities,function(a){this.override(a,function(c,d){d||(d=1);typeof d=="number"&&(d+=1);this.log(c,a,d)})},this)})})();
Ext.define("Ext.log.formatter.Formatter",{extend:"Ext.log.Base",config:{messageFormat:"{message}"},format:function(a){return this.substitute(this.getMessageFormat(),a)},substitute:function(a,b){var c,d;for(c in b)b.hasOwnProperty(c)&&(d=b[c],a=a.replace(RegExp("\\{"+c+"\\}","g"),d));return a}});
Ext.define("Ext.log.writer.Writer",{extend:"Ext.log.Base",requires:["Ext.log.formatter.Formatter"],config:{formatter:null,filters:{}},constructor:function(){this.activeFilters=[];return this.callParent(arguments)},updateFilters:function(a){var b=this.activeFilters,c,d;b.length=0;for(c in a)a.hasOwnProperty(c)&&(d=a[c],b.push(d))},write:function(a){var b=this.activeFilters,c=this.getFormatter(),d,e;for(d=0,e=b.length;d<e;d++)if(!b[d].accept(a))return this;if(c)a.message=c.format(a);this.doWrite(a);
return this},doWrite:Ext.emptyFn});Ext.define("Ext.log.writer.Console",{extend:"Ext.log.writer.Writer",config:{throwOnErrors:!0,throwOnWarnings:!1},doWrite:function(a){var b=a.message,a=a.priorityName;if(a==="error"&&this.getThrowOnErrors())throw Error(b);if(typeof console!=="undefined"){a==="deprecate"&&(a="warn");if(a==="warn"&&this.getThrowOnWarnings())throw Error(b);a in console||(a="log");console[a](b)}}});
Ext.define("Ext.log.formatter.Default",{extend:"Ext.log.formatter.Formatter",config:{messageFormat:"[{priorityName}][{callerDisplayName}] {message}"},format:function(a){a=Ext.merge({},a,{priorityName:a.priorityName.toUpperCase()});return this.callParent([a])}});
Ext.define("Ext.fx.runner.Css",{extend:"Ext.Evented",requires:["Ext.fx.Animation"],prefixedProperties:{transform:!0,"transform-origin":!0,perspective:!0,"transform-style":!0,transition:!0,"transition-property":!0,"transition-duration":!0,"transition-timing-function":!0,"transition-delay":!0,animation:!0,"animation-name":!0,"animation-duration":!0,"animation-iteration-count":!0,"animation-direction":!0,"animation-timing-function":!0,"animation-delay":!0},lengthProperties:{top:!0,right:!0,bottom:!0,
left:!0,width:!0,height:!0,"max-height":!0,"max-width":!0,"min-height":!0,"min-width":!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,"border-bottom-width":!0,"border-left-width":!0,"border-right-width":!0,"border-spacing":!0,"border-top-width":!0,"border-width":!0,"outline-width":!0,"letter-spacing":!0,"line-height":!0,"text-indent":!0,"word-spacing":!0,"font-size":!0,translate:!0,translateX:!0,translateY:!0,
translateZ:!0,translate3d:!0},durationProperties:{"transition-duration":!0,"transition-delay":!0,"animation-duration":!0,"animation-delay":!0},angleProperties:{rotate:!0,rotateX:!0,rotateY:!0,rotateZ:!0,skew:!0,skewX:!0,skewY:!0},lengthUnitRegex:/([a-z%]*)$/,DEFAULT_UNIT_LENGTH:"px",DEFAULT_UNIT_ANGLE:"deg",DEFAULT_UNIT_DURATION:"ms",formattedNameCache:{},constructor:function(){this.transformMethods=Ext.feature.has.Css3dTransforms?"translateX,translateY,translateZ,rotate,rotateX,rotateY,rotateZ,skewX,skewY,scaleX,scaleY,scaleZ".split(","):
"translateX,translateY,rotate,skewX,skewY,scaleX,scaleY".split(",");this.vendorPrefix=Ext.browser.getStyleDashPrefix();this.ruleStylesCache={};return this},getStyleSheet:function(){var a=this.styleSheet;if(!a)a=document.createElement("style"),a.type="text/css",(document.head||document.getElementsByTagName("head")[0]).appendChild(a),a=document.styleSheets,this.styleSheet=a=a[a.length-1];return a},applyRules:function(a){var b=this.getStyleSheet(),c=this.ruleStylesCache,d=b.cssRules,e,f,g,h,i,j;for(e in a){f=
a[e];g=c[e];if(g===void 0)g=d.length,b.insertRule(e+"{}",g),g=c[e]=d.item(g).style;h=g.$cache;if(!h)h=g.$cache={};for(i in f)j=this.formatValue(f[i],i),i=this.formatName(i),h[i]!==j&&(h[i]=j,j===null?g.removeProperty(i):g.setProperty(i,j,"important"))}return this},applyStyles:function(a){var b,c,d,e,f;for(b in a){c=document.getElementById(b);if(!c)break;c=c.style;d=a[b];for(e in d)f=this.formatValue(d[e],e),e=this.formatName(e),f===null?c.removeProperty(e):c.setProperty(e,f,"important")}return this},
formatName:function(a){var b=this.formattedNameCache,c=b[a];c||(c=this.prefixedProperties[a]?this.vendorPrefix+a:a,b[a]=c);return c},formatValue:function(a,b){var c=typeof a,d=this.DEFAULT_UNIT_LENGTH,e,f,g;if(c=="string"){if(this.lengthProperties[b]&&(c=a.match(this.lengthUnitRegex)[1],!(c.length>0)))return a+d}else if(c=="number"){if(a==0)return"0";if(this.lengthProperties[b])return a+d;if(this.angleProperties[b])return a+this.DEFAULT_UNIT_ANGLE;if(this.durationProperties[b])return a+this.DEFAULT_UNIT_DURATION}else if(b===
"transform"){e=this.transformMethods;g=[];for(d=0,c=e.length;d<c;d++)f=e[d],g.push(f+"("+this.formatValue(a[f],f)+")");return g.join(" ")}else if(Ext.isArray(a)){e=[];for(d=0,c=a.length;d<c;d++)e.push(this.formatValue(a[d],b));return e.length>0?e.join(", "):"none"}return a}});
Ext.define("Ext.fx.runner.CssTransition",{extend:"Ext.fx.runner.Css",listenersAttached:!1,constructor:function(){this.runningAnimationsData={};return this.callParent(arguments)},attachListeners:function(){this.listenersAttached=!0;this.getEventDispatcher().addListener("element","*","transitionend","onTransitionEnd",this)},onTransitionEnd:function(a){var b=a.target,c=b.id;c&&this.runningAnimationsData.hasOwnProperty(c)&&this.refreshRunningAnimationsData(Ext.get(b),[a.browserEvent.propertyName])},onAnimationEnd:function(a,
b,c,d,e){var f=a.getId(),g=this.runningAnimationsData[f],h={},i={},j,k;if(g)j=g.nameMap;h[f]=i;b.onBeforeEnd&&b.onBeforeEnd.call(b.scope||this,a,d);c.fireEvent("animationbeforeend",c,a,d);this.fireEvent("animationbeforeend",this,c,a,d);if(e||!d&&!b.preserveEndState){e=b.toPropertyNames;for(f=0,g=e.length;f<g;f++)k=e[f],j.hasOwnProperty(k)||(i[k]=null)}b.after&&Ext.merge(i,b.after);this.applyStyles(h);b.onEnd&&b.onEnd.call(b.scope||this,a,d);c.fireEvent("animationend",c,a,d);this.fireEvent("animationend",
this,c,a,d)},onAllAnimationsEnd:function(a){var b=a.getId(),c={};delete this.runningAnimationsData[b];c[b]={"transition-property":null,"transition-duration":null,"transition-timing-function":null,"transition-delay":null};this.applyStyles(c);this.fireEvent("animationallend",this,a)},hasRunningAnimations:function(a){var a=a.getId(),b=this.runningAnimationsData;return b.hasOwnProperty(a)&&b[a].sessions.length>0},refreshRunningAnimationsData:function(a,b,c,d){var e=this.runningAnimationsData[a.getId()],
f=e.nameMap,g=e.nameList,h=e.sessions,i,j,k,l,m,q,o,p=!1,c=Boolean(c),d=Boolean(d);if(!h)return this;i=h.length;if(i===0)return this;if(d){e.nameMap={};for(l=g.length=0;l<i;l++)m=h[l],this.onAnimationEnd(a,m.data,m.animation,c,d);h.length=0}else for(l=0;l<i;l++){m=h[l];q=m.map;o=m.list;for(e=0,j=b.length;e<j;e++)k=b[e],q[k]&&(delete q[k],Ext.Array.remove(o,k),m.length--,--f[k]==0&&(delete f[k],Ext.Array.remove(g,k)));m.length==0&&(h.splice(l,1),l--,i--,p=!0,this.onAnimationEnd(a,m.data,m.animation,
c))}if(!d&&!c&&h.length==0&&p)this.onAllAnimationsEnd(a)},getRunningData:function(a){var b=this.runningAnimationsData;b.hasOwnProperty(a)||(b[a]={nameMap:{},nameList:[],sessions:[]});return b[a]},getTestElement:function(){var a=this.testElement,b;if(!a)a=document.createElement("iframe"),b=a.style,b.setProperty("visibility","hidden","important"),b.setProperty("width","0px","important"),b.setProperty("height","0px","important"),b.setProperty("position","absolute","important"),b.setProperty("border",
"0px","important"),b.setProperty("zIndex","-1000","important"),document.body.appendChild(a),b=a.contentDocument,b.open(),b.writeln("</body>"),b.close(),this.testElement=a=b.createElement("div"),a.style.setProperty("position","absolute","!important"),b.body.appendChild(a),this.testElementComputedStyle=window.getComputedStyle(a);return a},getCssStyleValue:function(a,b){var c=this.testElementComputedStyle,d=this.getTestElement().style;d.setProperty(a,b);b=c.getPropertyValue(a);d.removeProperty(a);return b},
run:function(a){var b=this,c=this.lengthProperties,d={},e={},f={},g,h,i,j,k,l,m,q,o,p,r,t,s,v,x,w,u,y,z;this.listenersAttached||this.attachListeners();a=Ext.Array.from(a);for(r=0,t=a.length;r<t;r++){s=a[r];s=Ext.factory(s,Ext.fx.Animation);g=s.getElement();v=window.getComputedStyle(g.dom);h=g.getId();f=Ext.merge({},s.getData());s.onBeforeStart&&(s.onBeforeStart.call(s.scope||this,g),s.fireEvent("animationstart",s),this.fireEvent("animationstart",this,s));f[h]=f;k=f.before;i=f.from;j=f.to;f.fromPropertyNames=
l=[];f.toPropertyNames=m=[];for(u in j)j.hasOwnProperty(u)&&(j[u]=y=this.formatValue(j[u],u),w=this.formatName(u),(x=c.hasOwnProperty(u))||(y=this.getCssStyleValue(w,y)),i.hasOwnProperty(u)?(i[u]=p=this.formatValue(i[u],u),x||(p=this.getCssStyleValue(w,p)),y!==p&&(l.push(w),m.push(w))):(p=v.getPropertyValue(w),y!==p&&m.push(w)));v=m.length;if(v===0)this.onAnimationEnd(g,f,s);else{p=this.getRunningData(h);y=p.sessions;y.length>0&&this.refreshRunningAnimationsData(g,Ext.Array.merge(l,m),!0,f.replacePrevious);
w=p.nameMap;z=p.nameList;x={};for(p=0;p<v;p++)u=m[p],x[u]=!0,w.hasOwnProperty(u)?w[u]++:(w[u]=1,z.push(u));y.push({element:g,map:x,list:m.slice(),length:v,data:f,animation:s});d[h]=i=Ext.apply(Ext.Object.chain(k),i);z.length>0&&(l=Ext.Array.difference(z,l),m=Ext.Array.merge(l,m),i["transition-property"]=l);e[h]=j=Ext.Object.chain(j);j["transition-property"]=m;j["transition-duration"]=f.duration;j["transition-timing-function"]=f.easing;j["transition-delay"]=f.delay;s.startTime=Date.now()}}o=this.$className;
this.applyStyles(d);q=function(a){a.data===o&&a.source===window&&(window.removeEventListener("message",q,!1),b.applyStyles(e))};window.addEventListener("message",q,!1);window.postMessage(o,"*")}});Ext.define("Ext.fx.Runner",{requires:["Ext.fx.runner.CssTransition"],constructor:function(){return new Ext.fx.runner.CssTransition}});
Ext.define("Ext.LoadMask",{extend:"Ext.Mask",xtype:"loadmask",config:{message:"Loading...",messageCls:Ext.baseCSSPrefix+"mask-message",indicator:!0,listeners:{painted:"onPainted",erased:"onErased"}},getTemplate:function(){var a=Ext.baseCSSPrefix;return[{reference:"innerElement",cls:a+"mask-inner",children:[{reference:"indicatorElement",cls:a+"loading-spinner-outer",children:[{cls:a+"loading-spinner",children:[{tag:"span",cls:a+"loading-top"},{tag:"span",cls:a+"loading-right"},{tag:"span",cls:a+"loading-bottom"},
{tag:"span",cls:a+"loading-left"}]}]},{reference:"messageElement"}]}]},updateMessage:function(a){this.messageElement.setHtml(a)},updateMessageCls:function(a,b){this.messageElement.replaceCls(b,a)},updateIndicator:function(a){this[a?"removeCls":"addCls"](Ext.baseCSSPrefix+"indicator-hidden")},onPainted:function(){this.getParent().on({scope:this,resize:this.refreshPosition});this.refreshPosition()},onErased:function(){this.getParent().un({scope:this,resize:this.refreshPosition})},refreshPosition:function(){var a=
this.getParent(),b=a.getScrollable(),b=(b=b?b.getScroller():null)?b.position:{x:0,y:0},a=a.element.getSize(),c=this.element.getSize();this.innerElement.setStyle({marginTop:Math.round(a.height-c.height+b.y*2)+"px",marginLeft:Math.round(a.width-c.width+b.x)+"px"})}},function(){this.override({constructor:function(a,b){typeof b!=="undefined"&&(a=b,Ext.Logger.deprecate("You no longer need to pass an element to create a Ext.LoadMask. It is a component and can be shown using the Ext.Container.masked configuration.",
this));if(a){if(a.hasOwnProperty("msg"))a.message=a.msg,Ext.Logger.deprecate("'msg' config is deprecated, please use 'message' config instead",this),delete a.msg;if(a.hasOwnProperty("msgCls"))a.messageCls=a.msgCls,Ext.Logger.deprecate("'msgCls' config is deprecated, please use 'messageCls' config instead",this),delete a.msgCls;a.hasOwnProperty("store")&&(Ext.Logger.deprecate("'store' config has been removed. You can no longer bind a store to a Ext.LoadMask",this),delete a.store)}this.callParent([a])},
bindStore:function(){Ext.Logger.deprecate("You can no longer bind a store to a Ext.LoadMask",this)}})});
Ext.define("Ext.viewport.Default",{extend:"Ext.Container",xtype:"viewport",PORTRAIT:"portrait",LANDSCAPE:"landscape",requires:["Ext.LoadMask"],config:{autoMaximize:!1,autoBlurInput:!0,preventPanning:!0,preventZooming:!0,autoRender:!0,layout:"card",width:"100%",height:"100%"},isReady:!1,isViewport:!0,isMaximizing:!1,id:"ext-viewport",isInputRegex:/^(input|textarea|select|a)$/i,focusedElement:null,fullscreenItemCls:Ext.baseCSSPrefix+"fullscreen",constructor:function(a){var b=Ext.Function.bind;this.doPreventPanning=
b(this.doPreventPanning,this);this.doPreventZooming=b(this.doPreventZooming,this);this.doBlurInput=b(this.doBlurInput,this);this.maximizeOnEvents=["ready","orientationchange"];this.orientation=this.determineOrientation();this.windowWidth=this.getWindowWidth();this.windowHeight=this.getWindowHeight();this.windowOuterHeight=this.getWindowOuterHeight();if(!this.stretchHeights)this.stretchHeights={};this.callParent([a]);this.supportsOrientation()?this.addWindowListener("orientationchange",b(this.onOrientationChange,
this)):this.addWindowListener("resize",b(this.onResize,this));document.addEventListener("focus",b(this.onElementFocus,this),!0);document.addEventListener("blur",b(this.onElementBlur,this),!0);Ext.onDocumentReady(this.onDomReady,this);this.on("ready",this.onReady,this,{single:!0});this.getEventDispatcher().addListener("component","*","fullscreen","onItemFullscreenChange",this);return this},onDomReady:function(){this.isReady=!0;this.updateSize();this.fireEvent("ready",this)},onReady:function(){this.getAutoRender()&&
this.render()},onElementFocus:function(a){this.focusedElement=a.target},onElementBlur:function(){this.focusedElement=null},render:function(){if(!this.rendered){var a=Ext.getBody(),b=Ext.baseCSSPrefix,c=[],d=Ext.os,e=d.name.toLowerCase(),f=Ext.browser.name.toLowerCase(),g=d.version.getMajor(),h=this.getOrientation();this.renderTo(a);c.push(b+d.deviceType.toLowerCase());d.is.iPad&&c.push(b+"ipad");c.push(b+e);c.push(b+f);g&&c.push(b+e+"-"+g);d.is.BlackBerry&&c.push(b+"bb");Ext.browser.is.Standalone&&
c.push(b+"standalone");c.push(b+h);a.addCls(c)}},applyAutoBlurInput:function(a){var b=Ext.feature.has.Touch?"touchstart":"mousedown";a?this.addWindowListener(b,this.doBlurInput,!1):this.removeWindowListener(b,this.doBlurInput,!1);return a},applyAutoMaximize:function(a){a?(this.on("ready","doAutoMaximizeOnReady",this,{single:!0}),this.on("orientationchange","doAutoMaximizeOnOrientationChange",this)):(this.un("ready","doAutoMaximizeOnReady",this),this.un("orientationchange","doAutoMaximizeOnOrientationChange",
this));return a},applyPreventPanning:function(a){a?this.addWindowListener("touchmove",this.doPreventPanning,!1):this.removeWindowListener("touchmove",this.doPreventPanning,!1);return a},applyPreventZooming:function(a){var b=Ext.feature.has.Touch?"touchstart":"mousedown";a?this.addWindowListener(b,this.doPreventZooming,!1):this.removeWindowListener(b,this.doPreventZooming,!1);return a},doAutoMaximizeOnReady:function(){var a=arguments[arguments.length-1];a.pause();this.isMaximizing=!0;this.on("maximize",
function(){this.isMaximizing=!1;this.updateSize();a.resume();this.fireEvent("ready",this)},this,{single:!0});this.maximize()},doAutoMaximizeOnOrientationChange:function(){var a=arguments[arguments.length-1],b=a.firingArguments;a.pause();this.isMaximizing=!0;this.on("maximize",function(){this.isMaximizing=!1;this.updateSize();b[1]=this.windowWidth;b[2]=this.windowHeight;a.resume()},this,{single:!0});this.maximize()},doBlurInput:function(a){var a=a.target,b=this.focusedElement;b&&!this.isInputRegex.test(a.tagName)&&
(delete this.focusedElement,b.blur())},doPreventPanning:function(a){a.preventDefault()},doPreventZooming:function(a){if(!("button"in a&&a.button!==0)){var b=a.target;b&&b.nodeType===1&&!this.isInputRegex.test(b.tagName)&&a.preventDefault()}},addWindowListener:function(a,b,c){window.addEventListener(a,b,Boolean(c))},removeWindowListener:function(a,b,c){window.removeEventListener(a,b,Boolean(c))},doAddListener:function(a,b,c,d){if(a==="ready"&&this.isReady&&!this.isMaximizing)return b.call(c),this;
this.mixins.observable.doAddListener.apply(this,arguments)},supportsOrientation:function(){return Ext.feature.has.Orientation},onResize:function(){var a=this.windowWidth,b=this.windowHeight,c=this.getWindowWidth(),d=this.getWindowHeight(),e=this.getOrientation(),f=this.determineOrientation();(a!==c||b!==d)&&e!==f&&this.fireOrientationChangeEvent(f,e)},onOrientationChange:function(){var a=this.getOrientation(),b=this.determineOrientation();b!==a&&this.fireOrientationChangeEvent(b,a)},fireOrientationChangeEvent:function(a,
b){var c=Ext.baseCSSPrefix;Ext.getBody().replaceCls(c+b,c+a);this.orientation=a;this.updateSize();this.fireEvent("orientationchange",this,a,this.windowWidth,this.windowHeight)},updateSize:function(a,b){this.windowWidth=a!==void 0?a:this.getWindowWidth();this.windowHeight=b!==void 0?b:this.getWindowHeight();return this},waitUntil:function(a,b,c,d,e){d||(d=50);e||(e=2E3);var f=this,g=0;setTimeout(function i(){g+=d;a.call(f)===!0?b&&b.call(f):g>=e?c&&c.call(f):setTimeout(i,d)},d)},maximize:function(){this.fireMaximizeEvent()},
fireMaximizeEvent:function(){this.updateSize();this.fireEvent("maximize",this)},doSetHeight:function(a){Ext.getBody().setHeight(a);this.callParent(arguments)},doSetWidth:function(a){Ext.getBody().setWidth(a);this.callParent(arguments)},scrollToTop:function(){window.scrollTo(0,-1)},getWindowWidth:function(){return window.innerWidth},getWindowHeight:function(){return window.innerHeight},getWindowOuterHeight:function(){return window.outerHeight},getWindowOrientation:function(){return window.orientation},
getOrientation:function(){return this.orientation},getSize:function(){return{width:this.windowWidth,height:this.windowHeight}},determineOrientation:function(){var a=this.PORTRAIT,b=this.LANDSCAPE;return this.supportsOrientation()?this.getWindowOrientation()%180===0?a:b:this.getWindowHeight()>=this.getWindowWidth()?a:b},onItemFullscreenChange:function(a){a.addCls(this.fullscreenItemCls);this.add(a)}});
Ext.define("Ext.viewport.Ios",{extend:"Ext.viewport.Default",isFullscreen:function(){return this.isHomeScreen()},isHomeScreen:function(){return window.navigator.standalone===!0},constructor:function(){this.callParent(arguments);this.getAutoMaximize()&&!this.isFullscreen()&&this.addWindowListener("touchstart",Ext.Function.bind(this.onTouchStart,this))},maximize:function(){if(this.isFullscreen())return this.callParent();var a=this.stretchHeights,b=this.orientation,c=this.getWindowHeight(),d=a[b];window.scrollY>
0?(this.scrollToTop(),d||(a[b]=d=this.getWindowHeight()),this.setHeight(d),this.fireMaximizeEvent()):(d||(d=this.getScreenHeight()),this.setHeight(d),this.waitUntil(function(){this.scrollToTop();return c!==this.getWindowHeight()},function(){a[b]||(d=a[b]=this.getWindowHeight(),this.setHeight(d));this.fireMaximizeEvent()},function(){d=a[b]=this.getWindowHeight();this.setHeight(d);this.fireMaximizeEvent()},50,1E3))},getScreenHeight:function(){return window.screen[this.orientation===this.PORTRAIT?"height":
"width"]},onElementFocus:function(){this.getAutoMaximize()&&!this.isFullscreen()&&clearTimeout(this.scrollToTopTimer);this.callParent(arguments)},onElementBlur:function(){if(this.getAutoMaximize()&&!this.isFullscreen())this.scrollToTopTimer=setTimeout(this.scrollToTop,500);this.callParent(arguments)},onTouchStart:function(){this.focusedElement===null&&this.scrollToTop()},scrollToTop:function(){window.scrollTo(0,0)}},function(){Ext.os.is.iOS&&(Ext.os.version.lt("3.2")&&this.override({constructor:function(){var a=
this.stretchHeights={};a[this.PORTRAIT]=416;a[this.LANDSCAPE]=268;return this.callOverridden(arguments)}}),Ext.os.version.lt("5")&&this.override({fieldMaskClsTest:"-field-mask",doPreventZooming:function(a){var b=a.target;b&&b.nodeType===1&&!this.isInputRegex.test(b.tagName)&&b.className.indexOf(this.fieldMaskClsTest)==-1&&a.preventDefault()}}),Ext.os.is.iPad&&this.override({isFullscreen:function(){return!0}}))});
Ext.define("Ext.viewport.Android",{extend:"Ext.viewport.Default",constructor:function(){this.on("orientationchange","doFireOrientationChangeEvent",this,{prepend:!0});this.on("orientationchange","hideKeyboardIfNeeded",this,{prepend:!0});return this.callParent(arguments)},getDummyInput:function(){var a=this.dummyInput,b=Ext.fly(this.focusedElement).getPageBox();if(!a)this.dummyInput=a=document.createElement("input"),a.style.position="absolute",a.style.opacity="0",document.body.appendChild(a);a.style.left=
b.left+"px";a.style.top=b.top+"px";a.style.display="";return a},doBlurInput:function(a){var a=a.target,b;this.focusedElement&&!this.isInputRegex.test(a.tagName)&&(b=this.getDummyInput(),delete this.focusedElement,b.focus(),setTimeout(function(){b.style.display="none"},100))},hideKeyboardIfNeeded:function(){var a=arguments[arguments.length-1],b=this.focusedElement;if(b)delete this.focusedElement,a.pause(),Ext.os.version.lt("4")?b.style.display="none":b.blur(),setTimeout(function(){b.style.display=
"";a.resume()},1E3)},doFireOrientationChangeEvent:function(){var a=arguments[arguments.length-1];this.orientationChanging=!0;a.pause();this.waitUntil(function(){return this.getWindowOuterHeight()!==this.windowOuterHeight},function(){this.windowOuterHeight=this.getWindowOuterHeight();this.updateSize();a.firingArguments[1]=this.windowWidth;a.firingArguments[2]=this.windowHeight;a.resume();this.orientationChanging=!1},function(){});return this},applyAutoMaximize:function(a){this.callParent(arguments);
this.on("add","fixSize",this,{single:!0});a?(this.un("ready","fixSize",this),this.unAfter("orientationchange","doFixSize",this)):(this.on("ready","fixSize",this,{single:!0}),this.onAfter("orientationchange","doFixSize",this))},fixSize:function(){this.doFixSize()},doFixSize:function(){this.setHeight(this.getWindowHeight())},getActualWindowOuterHeight:function(){return Math.round(this.getWindowOuterHeight()/window.devicePixelRatio)},maximize:function(){var a=this.stretchHeights,b=this.orientation,c;
(c=a[b])||(a[b]=c=this.getActualWindowOuterHeight());if(!this.addressBarHeight)this.addressBarHeight=c-this.getWindowHeight();this.setHeight(c);a=Ext.Function.bind(this.isHeightMaximized,this,[c]);this.scrollToTop();this.waitUntil(a,this.fireMaximizeEvent,this.fireMaximizeEvent)},isHeightMaximized:function(a){this.scrollToTop();return this.getWindowHeight()===a}},function(){if(Ext.os.is.Android){var a=Ext.os.version;/(htc|desire|incredible|ADR6300)/i.test(Ext.browser.userAgent)&&a.lt("2.3")&&this.override({constructor:function(a){a||
(a={});a.autoMaximize=!1;this.watchDogTick=Ext.Function.bind(this.watchDogTick,this);setInterval(this.watchDogTick,1E3);return this.callParent([a])},watchDogTick:function(){this.watchDogLastTick=Ext.Date.now()},doPreventPanning:function(){var a=this.watchDogLastTick;return Ext.Date.now()-a>=2E3?void 0:this.callParent(arguments)},doPreventZooming:function(){var a=this.watchDogLastTick;return Ext.Date.now()-a>=2E3?void 0:this.callParent(arguments)}});a.match("2")?this.override({onReady:function(){this.addWindowListener("resize",
Ext.Function.bind(this.onWindowResize,this));this.callParent(arguments)},scrollToTop:function(){document.body.scrollTop=100},onWindowResize:function(){var a=this.windowWidth,c=this.windowHeight,d=this.getWindowWidth(),e=this.getWindowHeight();this.getAutoMaximize()&&!this.isMaximizing&&!this.orientationChanging&&window.scrollY===0&&a===d&&e<c&&(e>=c-this.addressBarHeight||!this.focusedElement)&&this.scrollToTop()},fixSize:function(){var a=this.getOrientation(),c=window.outerHeight,d=window.outerWidth,
e;e=a==="landscape"&&c<d||a==="portrait"&&c>=d?this.getActualWindowOuterHeight():this.getWindowHeight();this.waitUntil(function(){return e>this.getWindowHeight()},this.doFixSize,this.doFixSize,50,1E3)}}):a.gtEq("3.1")?this.override({isHeightMaximized:function(a){this.scrollToTop();return this.getWindowHeight()===a-1}}):a.match("3")&&this.override({isHeightMaximized:function(){this.scrollToTop();return!0}});a.gtEq("4")&&this.override({doBlurInput:Ext.emptyFn})}});
Ext.define("Ext.viewport.Viewport",{requires:["Ext.viewport.Ios","Ext.viewport.Android"],constructor:function(a){var b;switch(Ext.os.name){case "Android":b="Android";break;case "iOS":b="Ios";break;default:b="Default"}return Ext.create("Ext.viewport."+b,a)}});
Ext.define("Ext.app.Controller",{mixins:{observable:"Ext.mixin.Observable"},config:{refs:{},routes:{},control:{},before:{},application:{},stores:[],models:[],views:[]},constructor:function(a){this.initConfig(a);this.mixins.observable.constructor.call(this,a)},init:Ext.emptyFn,launch:Ext.emptyFn,redirectTo:function(a){return this.getApplication().redirectTo(a)},execute:function(a){a.setBeforeFilters(this.getBefore()[a.getAction()]);a.execute()},applyBefore:function(a){var b,c,d,e;for(c in a){b=Ext.Array.from(a[c]);
d=b.length;for(e=0;e<d;e++)b[e]=this[b[e]];a[c]=b}return a},applyControl:function(a){this.control(a,this);return a},applyRefs:function(a){this.ref(a);return a},applyRoutes:function(a){var b=(this instanceof Ext.app.Application?this:this.getApplication()).getRouter(),c,d,e;for(d in a)c=a[d],e={controller:this.$className},Ext.isString(c)?e.action=c:Ext.apply(e,c),b.connect(d,e);return a},applyStores:function(a){return this.getFullyQualified(a,"store")},applyModels:function(a){return this.getFullyQualified(a,
"model")},applyViews:function(a){return this.getFullyQualified(a,"view")},getFullyQualified:function(a,b){var c=a.length,d=this.getApplication().getName(),e,f;for(f=0;f<c;f++)if(e=a[f],Ext.isString(e)&&(Ext.Loader.getPrefix(e)===""||e===d))a[f]=d+"."+b+"."+e;return a},control:function(a){this.getApplication().control(a,this)},ref:function(a){var b,c,d;for(b in a)d=a[b],c="get"+Ext.String.capitalize(b),this[c]||(d=Ext.isString(a[b])?{ref:b,selector:d}:a[b],this[c]=Ext.Function.pass(this.getRef,[b,
d],this)),this.references=this.references||[],this.references.push(b.toLowerCase())},getRef:function(a,b,c){this.refCache=this.refCache||{};b=b||{};c=c||{};Ext.apply(b,c);if(b.forceCreate)return Ext.ComponentManager.create(b,"component");var d=this,c=d.refCache[a];if(!c&&(d.refCache[a]=c=Ext.ComponentQuery.query(b.selector)[0],!c&&b.autoCreate&&(d.refCache[a]=c=Ext.ComponentManager.create(b,"component")),c))c.on("destroy",function(){d.refCache[a]=null});return c},hasRef:function(a){return this.references&&
this.references.indexOf(a.toLowerCase())!==-1},onClassExtended:function(a,b){var c=this.prototype,d=c.config,e=b.config||{},f=b.refs,g={},h=b.stores,i=b.views,j=Ext.String.format,k,l,m;for(l in d)if(l in b&&l!="control"){if(l=="refs"){for(m=0;m<f.length;m++)k=f[m],g[k.ref]=k;e.refs=g}else e[l]=b[l];delete b[l]}if(h){d=h.length;e.stores=h;for(m=0;m<d;m++)f=j("get{0}Store",Ext.String.capitalize(h[m])),c[f]=function(a){return function(){return Ext.StoreManager.lookup(a)}}(h[m])}if(i){d=i.length;e.views=
i;for(m=0;m<d;m++)f=j("get{0}View",i[m]),c[f]=function(a){return function(){return Ext.ClassManager.classes[j("{0}.view.{1}",this.getApplication().getName(),a)]}}(i[m])}b.config=e},getModel:function(a){var b=this.getApplication().getName();return Ext.ClassManager.classes[b+".model."+a]},getController:function(a,b){return this.getApplication().getController(a,b)}},function(){Ext.regController=function(a,b){Ext.apply(b,{extend:"Ext.app.Controller"});Ext.Logger.deprecate("[Ext.app.Controller] Ext.regController is deprecated, please use Ext.define to define a Controller as with any other class. For more information see the Touch 1.x -> 2.x migration guide");
Ext.define("controller."+a,b)}});
Ext.define("Ext.app.History",{mixins:["Ext.mixin.Observable"],config:{actions:[],updateUrl:!0,token:""},constructor:function(a){Ext.feature.has.History?window.addEventListener("hashchange",Ext.bind(this.detectStateChange,this)):setInterval(Ext.bind(this.detectStateChange,this),50);this.initConfig(a)},add:function(a,b){this.getActions().push(Ext.factory(a,Ext.app.Action));var c=a.getUrl();if(this.getUpdateUrl())this.setToken(c),window.location.hash=c;b!==!0&&this.fireEvent("change",c);this.setToken(c)},
back:function(){this.getActions().pop().run()},applyToken:function(a){return a[0]=="#"?a.substr(1):a},detectStateChange:function(){var a=this.applyToken(window.location.hash),b=this.getToken();a!=b&&(this.onStateChange(),this.setToken(a))},onStateChange:function(){this.fireEvent("change",window.location.hash.substr(1))}});
Ext.define("Ext.app.Profile",{mixins:{observable:"Ext.mixin.Observable"},config:{namespace:"auto",name:"auto",controllers:[],models:[],views:[],stores:[],application:null},constructor:function(a){this.initConfig(a);this.mixins.observable.constructor.apply(this,arguments)},isActive:function(){return!1},launch:Ext.emptyFn,applyNamespace:function(a){a=="auto"&&(a=this.getName());return a.toLowerCase()},applyName:function(a){a=="auto"&&(a=this.$className.split("."),a=a[a.length-1]);return a},getDependencies:function(){var a=
[],b=this.getApplication().getName(),c=this.getNamespace(),d={model:this.getModels(),view:this.getViews(),controller:this.getControllers(),store:this.getStores()},e,f;for(e in d)f=[],Ext.each(d[e],function(d){if(Ext.isString(d)){if(Ext.isString(d)&&(Ext.Loader.getPrefix(d)===""||d===b))d=b+"."+e+"."+c+"."+d;f.push(d);a.push(d)}},this),d[e]=f;d.all=a;return d}});
Ext.define("Ext.app.Action",{config:{scope:null,application:null,controller:null,action:null,args:[],url:void 0,data:{},title:null,beforeFilters:[],currentFilterIndex:-1},constructor:function(a){this.initConfig(a);this.getUrl()},execute:function(){this.resume()},resume:function(){var a=this.getCurrentFilterIndex()+1,b=this.getBeforeFilters(),c=this.getController();(b=b[a])?(this.setCurrentFilterIndex(a),b.call(c,this)):c[this.getAction()].apply(c,this.getArgs())},applyUrl:function(a){if(a===null||
a===void 0)a=this.urlEncode();return a},applyController:function(a){var b=this.getApplication(),c=b.getCurrentProfile();Ext.isString(a)&&(a=b.getController(a,c?c.getNamespace():null));return a},urlEncode:function(){var a=this.getController();a instanceof Ext.app.Controller&&(a=a.$className.split("."),a=a[a.length-1]);return a+"/"+this.getAction()}});
Ext.define("Ext.app.Route",{config:{conditions:{},url:null,controller:null,action:null,initialized:!1},constructor:function(a){this.initConfig(a)},recognize:function(a){this.getInitialized()||this.initialize();if(this.recognizes(a)){var b=this.matchesFor(a),c=a.match(this.matcherRegex);c.shift();return Ext.applyIf(b,{controller:this.getController(),action:this.getAction(),historyUrl:a,args:c})}},initialize:function(){this.paramMatchingRegex=RegExp(/:([0-9A-Za-z\_]*)/g);this.paramsInMatchString=this.getUrl().match(this.paramMatchingRegex)||
[];this.matcherRegex=this.createMatcherRegex(this.getUrl());this.setInitialized(!0)},recognizes:function(a){return this.matcherRegex.test(a)},matchesFor:function(a){var b={},c=this.paramsInMatchString,a=a.match(this.matcherRegex),d=c.length,e;a.shift();for(e=0;e<d;e++)b[c[e].replace(":","")]=a[e];return b},argsFor:function(a){var b=[],c=this.paramsInMatchString,a=a.match(this.matcherRegex),d=c.length,e;a.shift();for(e=0;e<d;e++)b.push(c[e].replace(":","")),params[c[e].replace(":","")]=a[e];return params},
urlFor:function(a){var b=this.getUrl(),c;for(c in a)b=b.replace(":"+c,a[c]);return b},createMatcherRegex:function(a){var b=this.paramsInMatchString,c=b.length,d,e;for(d=0;d<c;d++)e=this.getConditions()[b[d]],e=Ext.util.Format.format("({0})",e||"[%a-zA-Z0-9-\\_\\s,]+"),a=a.replace(RegExp(b[d]),e);return RegExp("^"+a+"$")}});
Ext.define("Ext.app.Router",{requires:["Ext.app.Route"],config:{routes:[],defaults:{action:"index"}},constructor:function(a){this.initConfig(a)},connect:function(a,b){var b=Ext.apply({url:a},b||{},this.getDefaults()),c=Ext.create("Ext.app.Route",b);this.getRoutes().push(c);return c},recognize:function(a){var b=this.getRoutes(),c=b.length,d,e;for(d=0;d<c;d++)if(e=b[d].recognize(a),e!==void 0)return e},draw:function(a){a.call(this,this)},clear:function(){this.setRoutes([])}},function(){Ext.Router={};
var a=[];Ext.Router.setAppInstance=function(b){Ext.Router.appInstance=b;a.length>0&&Ext.each(a,Ext.Router.draw)};Ext.Router.draw=function(b){Ext.Logger.deprecate("Ext.Router.map is deprecated, please define your routes inline inside each Controller. Please see the 1.x -> 2.x migration guide for more details.");var c=Ext.Router.appInstance;c?(c=c.getRouter(),b(c)):a.push(b)}});
Ext.define("Ext.app.Application",{extend:"Ext.app.Controller",requires:["Ext.app.History","Ext.app.Profile","Ext.app.Router","Ext.app.Action"],config:{profiles:[],controllers:[],history:{},name:null,appFolder:"app",router:{},controllerInstances:[],profileInstances:[],currentProfile:null,launch:Ext.emptyFn,enableLoader:!0,requires:[]},constructor:function(a){a=a||{};Ext.applyIf(a,{application:this});this.initConfig(a);for(var b in a)this[b]=a[b];a.autoCreateViewport&&Ext.Logger.deprecate('[Ext.app.Application] autoCreateViewport has been deprecated in Sencha Touch 2. Please implement a launch function on your Application instead and use Ext.create("MyApp.view.Main") to create your initial UI.');
Ext.require(this.getRequires(),function(){this.getEnableLoader()!==!1&&Ext.require(this.getProfiles(),this.onProfilesLoaded,this)},this)},dispatch:function(a,b){a=a||{};Ext.applyIf(a,{application:this});if(a=Ext.factory(a,Ext.app.Action)){var c=this.getCurrentProfile(),c=c?c.getNamespace():void 0;if(c=this.getController(a.getController(),c))b!==!1&&this.getHistory().add(a,!0),c.execute(a)}},redirectTo:function(a){if(Ext.data&&Ext.data.Model&&a instanceof Ext.data.Model)var b=a,a=b.toUrl();var c=this.getRouter().recognize(a);
if(c){c.url=a;if(b)c.data={},c.data.record=b;return this.dispatch(c)}},control:function(a,b){var b=b||this,c=this.getEventDispatcher(),d=b?b.getRefs():{},e,f,g,h;for(e in a)if(a.hasOwnProperty(e))for(f in h=a[e],(g=d[e])&&(e=g.selector||g),h)g=h[f],Ext.isString(g)&&(g=b[g]),c.addListener("component",e,f,g,b)},getController:function(a,b){var c=this.getControllerInstances(),d=this.getName(),e=Ext.String.format,f;return a instanceof Ext.app.Controller?a:c[a]?c[a]:(f=e("{0}.controller.{1}",d,a),b=e("{0}.controller.{1}.{2}",
d,b,a),c[b]||c[f])},onProfilesLoaded:function(){var a=this.getProfiles(),b=a.length,c=[],d=this.gatherDependencies(),e,f,g;for(f=0;f<b;f++)c[f]=Ext.create(a[f],{application:this}),g=c[f].getDependencies(),d=d.concat(g.all),c[f].isActive()&&!e&&(e=c[f],this.setCurrentProfile(e),this.setControllers(this.getControllers().concat(g.controller)),this.setModels(this.getModels().concat(g.model)),this.setViews(this.getViews().concat(g.view)),this.setStores(this.getStores().concat(g.store)));this.setProfileInstances(c);
Ext.require(d,this.loadControllerDependencies,this)},loadControllerDependencies:function(){this.instantiateControllers();var a=this.getControllerInstances(),b=[],c=[],d,e,f;for(f in a)d=a[f],e=d.getStores(),c=c.concat(e),b=b.concat(d.getModels().concat(d.getViews()).concat(e));this.setStores(this.getStores().concat(c));Ext.require(b,this.onDependenciesLoaded,this)},onDependenciesLoaded:function(){var a=this.getCurrentProfile(),b=this.getLaunch(),c,d;this.instantiateStores();Ext.app.Application.appInstance=
this;Ext.Router&&Ext.Router.setAppInstance(this);c=this.getControllerInstances();for(d in c)c[d].init(this);a&&a.launch();b.call(this);for(d in c)c[d].launch(this);this.redirectTo(window.location.hash.substr(1))},gatherDependencies:function(){var a=this.getModels().concat(this.getViews()).concat(this.getControllers());Ext.each(this.getStores(),function(b){Ext.isString(b)&&a.push(b)},this);return a},instantiateStores:function(){var a=this.getStores(),b=a.length,c,d,e,f;for(f=0;f<b;f++)if(c=a[f],Ext.data&&
Ext.data.Store&&!(c instanceof Ext.data.Store)){if(Ext.isString(c)&&(e=c,d=Ext.ClassManager.classes[c],c={xclass:c},d.prototype.defaultConfig.storeId===void 0))d=e.split("."),c.id=d[d.length-1];a[f]=Ext.factory(c,Ext.data.Store)}this.setStores(a)},instantiateControllers:function(){var a=this.getControllers(),b={},c=a.length,d,e;for(e=0;e<c;e++)d=a[e],b[d]=Ext.create(d,{application:this});return this.setControllerInstances(b)},applyControllers:function(a){return this.getFullyQualified(a,"controller")},
applyProfiles:function(a){return this.getFullyQualified(a,"profile")},applyName:function(a){a&&a.match(/ /g)&&(a=a.replace(/ /g,""));return a},updateName:function(a){Ext.ClassManager.setNamespace(a+".app",this);Ext.Loader.config.paths[a]||Ext.Loader.setPath(a,this.getAppFolder())},applyRouter:function(a){return Ext.factory(a,Ext.app.Router,this.getRouter())},applyHistory:function(a){a=Ext.factory(a,Ext.app.History,this.getHistory());a.on("change",this.onHistoryChange,this);return a},onHistoryChange:function(a){this.dispatch(this.getRouter().recognize(a),
!1)}},function(){Ext.regApplication=function(a){Ext.Logger.deprecate("[Ext.app.Application] Ext.regApplication() is deprecated, please replace it with Ext.application()");var b=a.name,c=Ext.String.format;Ext.ns(b,c("{0}.controllers",b),c("{0}.models",b),c("{0}.views",b));Ext.application(a)};Ext.define("Ext.data.ProxyMgr",{singleton:!0,registerType:function(a,b){Ext.Logger.deprecate('Ext.data.ProxyMgr no longer exists - instead of calling Ext.data.ProxyMgr.registerType just update your custom Proxy class to set alias: "proxy.'+
a+'"');Ext.ClassManager.setAlias(b,"proxy."+a)}});Ext.reg=function(a,b){Ext.Logger.deprecate('Ext.reg is deprecated, please set xtype: "'+a+'" directly in your subclass instead');Ext.ClassManager.setAlias(b,a)};Ext.redirect=function(){var a=Ext.app.Application.appInstance;Ext.Logger.deprecate("[Ext.app.Application] Ext.redirect is deprecated, please use YourApp.redirectTo instead");a&&a.redirectTo.apply(a,arguments)};Ext.dispatch=function(){var a=Ext.app.Application.appInstance;Ext.Logger.deprecate("[Ext.app.Application] Ext.dispatch is deprecated, please use YourApp.dispatch instead");
a&&a.dispatch.apply(a,arguments)}});
Ext.define("Ext.form.FieldSet",{extend:"Ext.Container",alias:"widget.fieldset",requires:["Ext.Title"],config:{baseCls:Ext.baseCSSPrefix+"form-fieldset",title:null,instructions:null},applyTitle:function(a){typeof a=="string"&&(a={title:a});Ext.applyIf(a,{docked:"top",baseCls:this.getBaseCls()+"-title"});return Ext.factory(a,Ext.Title,this.getTitle())},updateTitle:function(a,b){a&&this.add(a);b&&this.remove(b)},applyInstructions:function(a){typeof a=="string"&&(a={title:a});Ext.applyIf(a,{docked:"bottom",
baseCls:this.getBaseCls()+"-instructions"});return Ext.factory(a,Ext.Title,this.getInstructions())},updateInstructions:function(a,b){a&&this.add(a);b&&this.remove(b)}});
Ext.define("Ext.data.Operation",{config:{synchronous:!0,action:null,filters:null,sorters:null,grouper:null,start:null,limit:null,batch:null,callback:null,scope:null,resultSet:null,records:null,request:null,response:null,withCredentials:null,params:null,url:null,page:null,node:null,model:void 0,addRecords:!1},started:!1,running:!1,complete:!1,success:void 0,exception:!1,error:void 0,constructor:function(a){this.initConfig(a)},applyModel:function(a){typeof a=="string"&&((a=Ext.data.ModelManager.getModel(a))||
Ext.Logger.error("Model with name "+a+" doesnt exist."));a&&!a.prototype.isModel&&Ext.isObject(a)&&(a=Ext.data.ModelManager.registerType(a.storeId||a.id||Ext.id(),a));return a},getRecords:function(){var a=this.getResultSet();return this._records||(a?a.getRecords():[])},setStarted:function(){this.running=this.started=!0},setCompleted:function(){this.complete=!0;this.running=!1},setSuccessful:function(){this.success=!0},setException:function(a){this.exception=!0;this.running=this.success=!1;this.error=
a},hasException:function(){return this.exception===!0},getError:function(){return this.error},isStarted:function(){return this.started===!0},isRunning:function(){return this.running===!0},isComplete:function(){return this.complete===!0},wasSuccessful:function(){return this.isComplete()&&this.success===!0},allowWrite:function(){return this.getAction()!="read"},process:function(a,b,c,d){if(b.getSuccess()!==!1)this.setResponse(d),this.setResultSet(b),this.setCompleted(),this.setSuccessful();else return!1;
return this["process"+Ext.String.capitalize(a)].call(this,b,c,d)},processRead:function(a){var a=a.getRecords(),b=[],c=this.getModel(),d=a.length,e,f;for(e=0;e<d;e++)f=a[e],b.push(new c(f.data,f.id,f.node));this.setRecords(b);return!0},processCreate:function(a){var a=a.getRecords(),b=this.getRecords(),c=a.length,d,e,f;for(d=0;d<c;d++)f=a[d],(e=f.clientId===null&&b.length==1&&a.length==1?b[d]:this.findCurrentRecord(f.clientId))&&this.updateRecord(e,f);return!0},processUpdate:function(a){var a=a.getRecords(),
b=this.getRecords(),c=a.length,d,e,f;for(d=0;d<c;d++)f=a[d],(e=b[d])&&this.updateRecord(e,f);return!0},processDestroy:function(a){var a=a.getRecords(),b=a.length,c,d;for(c=0;c<b;c++)if(d=a[c],d=this.findCurrentRecord(d.id))d.setIsErased(!0),d.notifyStores("afterErase",d)},findCurrentRecord:function(a){var b=this.getRecords(),c=b.length,d,e;for(d=0;d<c;d++)if(e=b[d],e.getId()===a)return e},updateRecord:function(a,b){var c=b.data,d=b.id;a.beginEdit();a.set(c);d!==null&&a.setId(d);a.endEdit(!0);a.commit()}},
function(){Ext.deprecateProperty(this,"group","grouper")});
Ext.define("Ext.util.Grouper",{extend:"Ext.util.Sorter",isGrouper:!0,config:{groupFn:null,sortProperty:null,sorterFn:function(a,b){var c=this.getSortProperty(),d,e;d=this.getGroupFn();e=d.call(this,a);d=d.call(this,b);return c?e!==d?this.defaultSortFn.call(this,a,b):0:e>d?1:e<d?-1:0}},defaultSortFn:function(a,b){var c=this._transform,d=this._root,e;e=this._sortProperty;d!==null&&(a=a[d],b=b[d]);d=a[e];e=b[e];c&&(d=c(d),e=c(e));return d>e?1:d<e?-1:0},updateProperty:function(){this.setGroupFn(this.standardGroupFn)},
standardGroupFn:function(a){var b=this.getRoot(),c=this.getProperty(),d=a;b&&(d=a[b]);return d[c]},getGroupString:function(a){a=this.getGroupFn().call(this,a);return typeof a!="undefined"?a.toString():""}});
Ext.define("Ext.dataview.IndexBar",{extend:"Ext.Component",alternateClassName:"Ext.IndexBar",config:{baseCls:Ext.baseCSSPrefix+"indexbar",direction:"vertical",letters:"A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z".split(","),ui:"alphabet",listPrefix:null},itemCls:Ext.baseCSSPrefix+"",updateDirection:function(a,b){var c=this.getBaseCls();this.element.replaceCls(c+"-"+b,c+"-"+a)},getElementConfig:function(){return{reference:"wrapper",classList:["x-centered","x-indexbar-wrapper"],children:[this.callParent()]}},
updateLetters:function(a){this.innerElement.setHtml("");if(a){var b=a.length,c;for(c=0;c<b;c++)this.innerElement.createChild({html:a[c]})}},updateListPrefix:function(a){a&&a.length&&this.innerElement.createChild({html:a},0)},initialize:function(){this.callParent();this.innerElement.on({touchstart:this.onTouchStart,touchend:this.onTouchEnd,touchmove:this.onTouchMove,scope:this})},onTouchStart:function(a){a.stopPropagation();this.innerElement.addCls(this.getBaseCls()+"-pressed");this.pageBox=this.innerElement.getPageBox();
this.onTouchMove(a)},onTouchEnd:function(){this.innerElement.removeCls(this.getBaseCls()+"-pressed")},onTouchMove:function(a){var a=Ext.util.Point.fromEvent(a),b=this.pageBox;if(!b)b=this.pageBox=this.el.getPageBox();if(this.getDirection()==="vertical"){if(a.y>b.bottom||a.y<b.top)return;a=Ext.Element.fromPoint(b.left+b.width/2,a.y)}else{if(a.x>b.right||a.x<b.left)return;a=Ext.Element.fromPoint(a.x,b.top+b.height/2)}a&&this.fireEvent("index",this,a.dom.innerHTML,a)},destroy:function(){for(var a=Array.prototype.slice.call(this.innerElement.dom.childNodes),
b=a.length,c=0;c<b;c++)Ext.removeNode(a[c]);this.callParent()}},function(){Ext.deprecateMethod(this,"isHorizontal",null,"Ext.dataview.IndexBar.isHorizontal() has been removed");Ext.deprecateMethod(this,"isVertical",null,"Ext.dataview.IndexBar.isVertical() has been removed");Ext.deprecateMethod(this,"refresh",null,"Ext.dataview.IndexBar.refresh() has been removed");Ext.deprecateProperty(this,"alphabet",null,"Ext.dataview.IndexBar.alphabet has been removed");Ext.deprecateProperty(this,"itemSelector",
null,"Ext.dataview.IndexBar.itemSelector has been removed");Ext.deprecateProperty(this,"store",null,"Ext.dataview.IndexBar.store has been removed")});Ext.define("Ext.dataview.ListItemHeader",{extend:"Ext.Component",xtype:"listitemheader",config:{baseCls:Ext.baseCSSPrefix+"list-header",docked:"top"}});
Ext.define("Ext.TitleBar",{extend:"Ext.Container",xtype:"titlebar",requires:["Ext.Button","Ext.Title","Ext.Spacer","Ext.util.SizeMonitor"],isToolbar:!0,config:{baseCls:Ext.baseCSSPrefix+"toolbar",cls:Ext.baseCSSPrefix+"navigation-bar",ui:"dark",title:null,defaultType:"button",layout:{type:"hbox"},items:[]},maxButtonWidth:"40%",constructor:function(){this.refreshTitlePosition=Ext.Function.createThrottled(this.refreshTitlePosition,50,this);this.callParent(arguments)},beforeInitialize:function(){this.applyItems=
this.applyInitialItems},initialize:function(){delete this.applyItems;this.doAdd=this.doBoxAdd;this.remove=this.doBoxRemove;this.doInsert=this.doBoxInsert;this.add(this.initialItems);delete this.initialItems;this.on({painted:"onPainted",erased:"onErased"})},applyInitialItems:function(a){var b=Ext.util.SizeMonitor,c=this.getDefaults()||{},d,e;this.initialItems=a;this.leftBox=a=this.add({xtype:"container",style:"position: relative",layout:{type:"hbox",align:"center"}});this.spacer=e=this.add({xtype:"component",
style:"position: relative",flex:1});this.rightBox=d=this.add({xtype:"container",style:"position: relative",layout:{type:"hbox",align:"center"}});this.titleComponent=this.add({xtype:"title",hidden:c.hidden,centered:!0});this.sizeMonitors={leftBox:new b({element:a.renderElement,callback:this.refreshTitlePosition,scope:this}),spacer:new b({element:e.renderElement,callback:this.refreshTitlePosition,scope:this}),rightBox:new b({element:d.renderElement,callback:this.refreshTitlePosition,scope:this})}},
doBoxAdd:function(a){a.config.align=="right"?this.rightBox.add(a):this.leftBox.add(a);this.painted&&this.refreshTitlePosition()},doBoxRemove:function(a){a.config.align=="right"?this.rightBox.remove(a):this.leftBox.remove(a);this.painted&&this.refreshTitlePosition()},doBoxInsert:function(a,b){b.config.align=="right"?this.rightBox.add(b):this.leftBox.add(b)},onPainted:function(){var a=this.sizeMonitors;this.painted=!0;this.refreshTitlePosition();a.leftBox.refresh();a.spacer.refresh();a.rightBox.refresh()},
onErased:function(){this.painted=!1},getMaxButtonWidth:function(){var a=this.maxButtonWidth;Ext.isString(this.maxButtonWidth)&&(a=parseInt(a.replace("%",""),10),a=Math.round(this.element.getWidth()/100*a));return a},refreshTitlePosition:function(){var a=this.titleComponent.renderElement;a.setWidth(null);a.setLeft(null);var b=this.leftBox,c=b.down("button"),d;c&&(c.getWidth()==null&&c.renderElement.setWidth("auto"),b=b.renderElement.getWidth(),d=this.getMaxButtonWidth(),b>d&&c.renderElement.setWidth(d));
c=this.spacer.renderElement.getPageBox();d=a.getPageBox();var e=d.width-c.width,b=d.left;d=d.right;e>0&&(a.setWidth(c.width),e/=2,b+=e,d-=e);b=c.left-b;c=d-c.right;b>0?a.setLeft(b):c>0&&a.setLeft(-c);a.repaint()},updateTitle:function(a){this.titleComponent.setTitle(a);this.titleBox=null;this.painted&&this.refreshTitlePosition()},destroy:function(){this.callParent();var a=this.sizeMonitors;a.leftBox.destroy();a.spacer.destroy();a.rightBox.destroy()}});
Ext.define("Ext.data.identifier.Simple",{alias:"data.identifier.simple",statics:{AUTO_ID:1},config:{prefix:"ext-record-"},constructor:function(a){this.initConfig(a)},generate:function(){return this._prefix+this.self.AUTO_ID++}});
Ext.define("Ext.mixin.Sortable",{extend:"Ext.mixin.Mixin",requires:["Ext.util.Sorter"],mixinConfig:{id:"sortable"},config:{sorters:null,defaultSortDirection:"ASC",sortRoot:null},dirtySortFn:!1,sortFn:null,sorted:!1,applySorters:function(a,b){b||(b=this.createSortersCollection());b.clear();this.sorted=!1;a&&this.addSorters(a);return b},createSortersCollection:function(){return this._sorters=Ext.create("Ext.util.Collection",function(a){return a.getId()})},addSorter:function(a,b){this.addSorters([a],
b)},addSorters:function(a,b){var c=this.getSorters();return this.insertSorters(c?c.length:0,a,b)},insertSorter:function(a,b,c){return this.insertSorters(a,[b],c)},insertSorters:function(a,b,c){Ext.isArray(b)||(b=[b]);var d=b.length,e=c||this.getDefaultSortDirection(),f=this.getSortRoot(),g=this.getSorters(),h=[],i,j,k,l;g||(g=this.createSortersCollection());for(j=0;j<d;j++){k=b[j];i={direction:e,root:f};if(typeof k==="string")if(l=g.get(k)){c?l.setDirection(c):l.toggle();continue}else i.property=
k;else if(Ext.isFunction(k))i.sorterFn=k;else if(Ext.isObject(k))if(k.isSorter){h.push(k);k.getRoot()||k.setRoot(f);continue}else{if(k.fn)k.sorterFn=k.fn,delete k.fn;i=Ext.apply(i,k)}k=Ext.create("Ext.util.Sorter",i);h.push(k)}for(j=0,d=h.length;j<d;j++)g.insert(a+j,h[j]);this.dirtySortFn=!0;if(g.length)this.sorted=!0;return g},removeSorter:function(a){return this.removeSorters([a])},removeSorters:function(a){Ext.isArray(a)||(a=[a]);var b=a.length,c=this.getSorters(),d,e;for(d=0;d<b;d++)e=a[d],typeof e===
"string"?c.removeAtKey(e):typeof e==="function"?c.each(function(a){a.getSorterFn()===e&&c.remove(a)}):e.isSorter&&c.remove(e);if(!c.length)this.sorted=!1},updateSortFn:function(){var a=this.getSorters().items;this.sortFn=function(b,c){var d=a.length,e,f;for(f=0;f<d;f++)if(e=a[f].sort.call(this,b,c),e!==0)break;return e};this.dirtySortFn=!1;return this.sortFn},getSortFn:function(){return this.dirtySortFn?this.updateSortFn():this.sortFn},sort:function(a){Ext.Array.sort(a,this.getSortFn());return a},
findInsertionIndex:function(a,b,c){for(var d=0,e=a.length-1,c=c||this.getSortFn(),f,g;d<=e;)f=d+e>>1,g=c(b,a[f]),g>=0?d=f+1:g<0&&(e=f-1);return d}});
Ext.define("Ext.mixin.Filterable",{extend:"Ext.mixin.Mixin",requires:["Ext.util.Filter"],mixinConfig:{id:"filterable"},config:{filters:null,filterRoot:null},dirtyFilterFn:!1,filterFn:null,filtered:!1,applyFilters:function(a,b){b||(b=this.createFiltersCollection());b.clear();this.filtered=!1;this.dirtyFilterFn=!0;a&&this.addFilters(a);return b},createFiltersCollection:function(){return this._filters=Ext.create("Ext.util.Collection",function(a){return a.getId()})},addFilter:function(a){this.addFilters([a])},
addFilters:function(a){var b=this.getFilters();return this.insertFilters(b?b.length:0,a)},insertFilter:function(a,b){return this.insertFilters(a,[b])},insertFilters:function(a,b){Ext.isArray(b)||(b=[b]);var c=b.length,d=this.getFilterRoot(),e=this.getFilters(),f=[],g,h,i;e||(e=this.createFiltersCollection());for(h=0;h<c;h++){i=b[h];g={root:d};if(Ext.isFunction(i))g.filterFn=i;else if(Ext.isObject(i))if(i.isFilter){f.push(i);i.getRoot()||i.setRoot(d);continue}else{if(i.fn)i.filterFn=i.fn,delete i.fn;
g=Ext.apply(g,i)}i=Ext.create("Ext.util.Filter",g);f.push(i)}for(h=0,c=f.length;h<c;h++)e.insert(a+h,f[h]);this.dirtyFilterFn=!0;if(e.length)this.filtered=!0;return e},removeFilters:function(a){Ext.isArray(a)||(a=[a]);var b=a.length,c=this.getFilters(),d,e;for(d=0;d<b;d++)e=a[d],typeof e==="string"?c.each(function(a){a.getProperty()===e&&c.remove(a)}):typeof e==="function"?c.each(function(a){a.getFilterFn()===e&&c.remove(a)}):e.isFilter?c.remove(e):e.property!==void 0&&e.value!==void 0&&c.each(function(a){a.getProperty()===
e.property&&a.getValue()===e.value&&c.remove(a)});if(!c.length)this.filtered=!1},updateFilterFn:function(){var a=this.getFilters().items;this.filterFn=function(b){var c=!0,d=a.length,e;for(e=0;e<d;e++)var f=a[e],g=f.getFilterFn(),f=f.getScope()||this,c=c&&g.call(f,b);return c};this.dirtyFilterFn=!1;return this.filterFn},filter:function(a){return this.getFilters().length?Ext.Array.filter(a,this.getFilterFn()):a},isFiltered:function(a){return this.getFilters().length?!this.getFilterFn()(a):!1},getFilterFn:function(){return this.dirtyFilterFn?
this.updateFilterFn():this.filterFn}});
Ext.define("Ext.mixin.Selectable",{extend:"Ext.mixin.Mixin",mixinConfig:{id:"selectable",hooks:{updateStore:"updateStore"}},config:{disableSelection:null,mode:"SINGLE",allowDeselect:!1,lastSelected:null,lastFocused:null,deselectOnContainerClick:!0},modes:{SINGLE:!0,SIMPLE:!0,MULTI:!0},selectableEventHooks:{addrecords:"onSelectionStoreAdd",removerecords:"onSelectionStoreRemove",updaterecord:"onSelectionStoreUpdate",load:"refreshSelection",refresh:"refreshSelection"},constructor:function(){this.selected=
new Ext.util.MixedCollection;this.callParent(arguments)},applyMode:function(a){a=a?a.toUpperCase():"SINGLE";return this.modes[a]?a:"SINGLE"},updateStore:function(a,b){var c=Ext.apply({},this.selectableEventHooks,{scope:this});b&&Ext.isObject(b)&&b.isStore&&(b.autoDestroy?b.destroy():b.un(c));a&&(a.on(c),this.refreshSelection())},selectAll:function(a){for(var b=this.getStore().getRange(),c=b.length,d=0;d<c;d++)this.select(b[d],!0,a)},deselectAll:function(a){this.deselect(this.getStore().getRange(),
a);this.selected.clear();this.setLastSelected(null);this.setLastFocused(null)},selectWithEvent:function(a){var b=this.isSelected(a);switch(this.getMode()){case "MULTI":case "SIMPLE":b?this.deselect(a):this.select(a,!0);break;case "SINGLE":this.getAllowDeselect()&&b?this.deselect(a):this.select(a,!1)}},selectRange:function(a,b,c,d){var c=this.getStore(),a=c.indexOf(a),b=c.indexOf(b),e=0,f;if(!this.getDisableSelection()){a>b&&(f=b,b=a,a=f);for(f=a;f<=b;f++)this.isSelected(c.getAt(f))&&e++;d=d?d=="up"?
a:b:-1;for(f=a;f<=b;f++)e==b-a+1?f!=d&&this.deselect(f,!0):this.select(f,!0)}},select:function(a,b,c){this.getDisableSelection()||(typeof a==="number"&&(a=[this.getStore().getAt(a)]),a&&(this.getMode()=="SINGLE"&&a?(a=a.length?a[0]:a,this.doSingleSelect(a,c)):this.doMultiSelect(a,b,c)))},doSingleSelect:function(a,b){var c=this.selected;!this.getDisableSelection()&&!this.isSelected(a)&&(c.getCount()>0&&this.deselect(this.getLastSelected(),b),c.add(a),this.setLastSelected(a),this.onItemSelect(a,b),
this.setLastFocused(a),this.fireSelectionChange(!b))},doMultiSelect:function(a,b,c){if(!(a===null||this.getDisableSelection())){var a=!Ext.isArray(a)?[a]:a,d=this.selected,e=a.length,f=!1,g=0,h;!b&&d.getCount()>0&&(f=!0,this.deselect(this.getSelection(),!0));for(;g<e;g++)if(h=a[g],!b||!this.isSelected(h))f=!0,this.setLastSelected(h),d.add(h),c||this.setLastFocused(h),this.onItemSelect(h,c);this.fireSelectionChange(f&&!c)}},deselect:function(a,b){if(!this.getDisableSelection()){for(var a=Ext.isArray(a)?
a:[a],c=this.selected,d=!1,e=0,f=this.getStore(),g=a.length,h;e<g;e++)if(h=a[e],typeof h==="number"&&(h=f.getAt(h)),c.remove(h)&&(this.getLastSelected()==h&&this.setLastSelected(c.last()),d=!0),h)this.onItemDeselect(h,b);this.fireSelectionChange(d&&!b)}},updateLastFocused:function(a,b){this.onLastFocusChanged(b,a)},fireSelectionChange:function(a){var b=this;a&&b.fireAction("beforeselectionchange",[b],function(){b.fireEvent("selectionchange",b,b.getSelection())})},getSelection:function(){return this.selected.getRange()},
isSelected:function(a){a=Ext.isNumber(a)?this.getStore().getAt(a):a;return this.selected.indexOf(a)!==-1},hasSelection:function(){return this.selected.getCount()>0},refreshSelection:function(){var a=this.getSelection();this.deselectAll(!0);a.length&&this.select(a,!1,!0)},onSelectionStoreClear:function(){var a=this.selected;a.getCount()>0&&(a.clear(),this.setLastSelected(null),this.setLastFocused(null),this.fireSelectionChange(!0))},onSelectionStoreRemove:function(a,b){var c=this.selected;!this.getDisableSelection()&&
c.remove(b)&&(this.getLastSelected()==b&&this.setLastSelected(null),this.getLastFocused()==b&&this.setLastFocused(null),this.fireSelectionChange(!0))},getSelectionCount:function(){return this.selected.getCount()},onSelectionStoreAdd:Ext.emptyFn,onSelectionStoreUpdate:Ext.emptyFn,onItemSelect:Ext.emptyFn,onItemDeselect:Ext.emptyFn,onLastFocusChanged:Ext.emptyFn,onEditorKey:Ext.emptyFn},function(){this.override({constructor:function(a){if(a&&a.hasOwnProperty("locked"))a.disableSelection=a.locked,delete a.locked;
this.callParent([a])}});Ext.deprecateClassMethod(this,{isLocked:"getDisableSelection",getSelectionMode:"getMode",doDeselect:"deselect",doSelect:"select",bind:"setStore",clearSelections:"deselectAll",getCount:"getSelectionCount"})});
Ext.define("Ext.dataview.element.Container",{extend:"Ext.Component",doInitialize:function(){this.element.on({touchstart:"onItemTouchStart",touchend:"onItemTouchEnd",tap:"onItemTap",taphold:"onItemTapHold",touchmove:"onItemTouchMove",singletap:"onItemSingleTap",doubletap:"onItemDoubleTap",swipe:"onItemSwipe",delegate:"> div",scope:this})},initialize:function(){this.callParent();this.doInitialize()},updateBaseCls:function(a,b){this.callParent([a+"-container",b])},onItemTouchStart:function(a){var b=
a.getTarget(),c=this.getViewItems().indexOf(b);Ext.get(b).on({touchmove:"onItemTouchMove",scope:this,single:!0});this.fireEvent("itemtouchstart",this,Ext.get(b),c,a)},onItemTouchEnd:function(a){var b=a.getTarget(),c=this.getViewItems().indexOf(b);Ext.get(b).un({touchmove:"onItemTouchMove",scope:this});this.fireEvent("itemtouchend",this,Ext.get(b),c,a)},onItemTouchMove:function(a){var b=a.getTarget(),c=this.getViewItems().indexOf(b);this.fireEvent("itemtouchmove",this,Ext.get(b),c,a)},onItemTap:function(a){var b=
a.getTarget(),c=this.getViewItems().indexOf(b);this.fireEvent("itemtap",this,Ext.get(b),c,a)},onItemTapHold:function(a){var b=a.getTarget(),c=this.getViewItems().indexOf(b);this.fireEvent("itemtaphold",this,Ext.get(b),c,a)},onItemDoubleTap:function(a){var b=a.getTarget(),c=this.getViewItems().indexOf(b);this.fireEvent("itemdoubletap",this,Ext.get(b),c,a)},onItemSingleTap:function(a){var b=a.getTarget(),c=this.getViewItems().indexOf(b);this.fireEvent("itemsingletap",this,Ext.get(b),c,a)},onItemSwipe:function(a){var b=
a.getTarget(),c=this.getViewItems().indexOf(b);this.fireEvent("itemswipe",this,Ext.get(b),c,a)},updateListItem:function(a,b){var c=this.dataview,c=c.prepareData(a.getData(!0),c.getStore().indexOf(a),a);b.innerHTML=this.dataview.getItemTpl().apply(c)},addListItem:function(a,b){var c=this.dataview,d=c.prepareData(b.getData(!0),c.getStore().indexOf(b),b),c=this.element,e=c.dom.childNodes,f=e.length,d=Ext.Element.create(this.getItemElementConfig(a,d));!f||a==f?d.appendTo(c):d.insertBefore(e[a])},getItemElementConfig:function(a,
b){var c=this.dataview,d=c.getItemCls(),e=c.getBaseCls()+"-item";d&&(e+=" "+d);return{cls:e,html:c.getItemTpl().apply(b)}},doRemoveItemCls:function(a){for(var b=this.getViewItems(),c=b.length,d=0;d<c;d++)Ext.fly(b[d]).removeCls(a)},doAddItemCls:function(a){for(var b=this.getViewItems(),c=b.length,d=0;d<c;d++)Ext.fly(b[d]).addCls(a)},moveItemsToCache:function(a,b){for(var c=this.getViewItems(),d=b-a,e;d>=0;d--)e=c[a+d],e.parentNode.removeChild(e);this.getViewItems().length==0&&this.dataview.showEmptyText()},
moveItemsFromCache:function(a){var b=this.dataview,c=b.getStore(),d=a.length;d&&b.hideEmptyText();for(b=0;b<d;b++)a[b]._tmpIndex=c.indexOf(a[b]);Ext.Array.sort(a,function(a,b){return a._tmpIndex>b._tmpIndex?1:-1});for(b=0;b<d;b++)c=a[b],this.addListItem(c._tmpIndex,c),delete c._tmpIndex},getViewItems:function(){return Array.prototype.slice.call(this.element.dom.childNodes)},destroy:function(){for(var a=this.getViewItems(),b=a.length,c=0;c<b;c++)Ext.removeNode(a[c]);this.callParent()}});
Ext.define("Ext.data.SortTypes",{singleton:!0,stripTagsRE:/<\/?[^>]+>/gi,none:function(a){return a},asText:function(a){return String(a).replace(this.stripTagsRE,"")},asUCText:function(a){return String(a).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(a){return String(a).toUpperCase()},asDate:function(a){return!a?0:Ext.isDate(a)?a.getTime():Date.parse(String(a))},asFloat:function(a){a=parseFloat(String(a).replace(/,/g,""));return isNaN(a)?0:a},asInt:function(a){a=parseInt(String(a).replace(/,/g,
""),10);return isNaN(a)?0:a}});
Ext.define("Ext.util.Inflector",{singleton:!0,plurals:[[/(quiz)$/i,"$1zes"],[/^(ox)$/i,"$1en"],[/([m|l])ouse$/i,"$1ice"],[/(matr|vert|ind)ix|ex$/i,"$1ices"],[/(x|ch|ss|sh)$/i,"$1es"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(hive)$/i,"$1s"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/sis$/i,"ses"],[/([ti])um$/i,"$1a"],[/(buffal|tomat|potat)o$/i,"$1oes"],[/(bu)s$/i,"$1ses"],[/(alias|status|sex)$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(ax|test)is$/i,"$1es"],[/^person$/,"people"],[/^man$/,"men"],[/^(child)$/,"$1ren"],
[/s$/i,"s"],[/$/,"s"]],singulars:[[/(quiz)zes$/i,"$1"],[/(matr)ices$/i,"$1ix"],[/(vert|ind)ices$/i,"$1ex"],[/^(ox)en/i,"$1"],[/(alias|status)es$/i,"$1"],[/(octop|vir)i$/i,"$1us"],[/(cris|ax|test)es$/i,"$1is"],[/(shoe)s$/i,"$1"],[/(o)es$/i,"$1"],[/(bus)es$/i,"$1"],[/([m|l])ice$/i,"$1ouse"],[/(x|ch|ss|sh)es$/i,"$1"],[/(m)ovies$/i,"$1ovie"],[/(s)eries$/i,"$1eries"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/([lr])ves$/i,"$1f"],[/(tive)s$/i,"$1"],[/(hive)s$/i,"$1"],[/([^f])ves$/i,"$1fe"],[/(^analy)ses$/i,"$1sis"],
[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis"],[/([ti])a$/i,"$1um"],[/(n)ews$/i,"$1ews"],[/people$/i,"person"],[/s$/i,""]],uncountable:"sheep,fish,series,species,money,rice,information,equipment,grass,mud,offspring,deer,means".split(","),singular:function(a,b){this.singulars.unshift([a,b])},plural:function(a,b){this.plurals.unshift([a,b])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(a){return Ext.Array.indexOf(this.uncountable,
a)!=-1},pluralize:function(a){if(this.isTransnumeral(a))return a;var b=this.plurals,c=b.length,d,e,f;for(f=0;f<c;f++)if(d=b[f],e=d[0],e==a||e.test&&e.test(a))return a.replace(e,d[1]);return a},singularize:function(a){if(this.isTransnumeral(a))return a;var b=this.singulars,c=b.length,d,e,f;for(f=0;f<c;f++)if(d=b[f],e=d[0],e==a||e.test&&e.test(a))return a.replace(e,d[1]);return a},classify:function(a){return Ext.String.capitalize(this.singularize(a))},ordinalize:function(a){var b=parseInt(a,10),c=b%
100;if(11<=c&&c<=13)return a+"th";else switch(b%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd";default:return a+"th"}}},function(){var a={alumnus:"alumni",cactus:"cacti",focus:"foci",nucleus:"nuclei",radius:"radii",stimulus:"stimuli",ellipsis:"ellipses",paralysis:"paralyses",oasis:"oases",appendix:"appendices",index:"indexes",beau:"beaux",bureau:"bureaux",tableau:"tableaux",woman:"women",child:"children",man:"men",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",
memorandum:"memoranda",phenomenon:"phenomena",foot:"feet",goose:"geese",tooth:"teeth",antenna:"antennae",formula:"formulae",nebula:"nebulae",vertebra:"vertebrae",vita:"vitae"},b;for(b in a)this.plural(b,a[b]),this.singular(a[b],b)});Ext.define("Ext.data.Error",{config:{field:null,message:""},constructor:function(a){this.initConfig(a)}});
Ext.define("Ext.dataview.component.DataItem",{extend:"Ext.Container",xtype:"dataitem",config:{baseCls:Ext.baseCSSPrefix+"data-item",defaultType:"component",record:null,itemCls:null,dataMap:{},items:[{xtype:"component"}]},updateBaseCls:function(a,b){this.callParent(arguments)},updateItemCls:function(a,b){b&&this.removeCls(b);a&&this.addCls(a)},updateRecord:function(a){if(a){this._record=a;var b=this.config.dataview,a=b.prepareData(a.getData(!0),b.getStore().indexOf(a),a),b=this.getItems().first(),
c=this.getDataMap(),d,e,f,g;if(b){for(d in c)if(f=c[d],e=this[d]())for(g in f)if(e[g])e[g](a[f[g]]);this.fireEvent("updatedata",this,a);b.updateData(a)}}}});
Ext.define("Ext.util.HashMap",{mixins:{observable:"Ext.mixin.Observable"},constructor:function(){this.callParent();this.mixins.observable.constructor.call(this);this.clear(!0)},getCount:function(){return this.length},getData:function(a,b){b===void 0&&(b=a,a=this.getKey(b));return[a,b]},getKey:function(a){return a.id},add:function(a,b){var c;if(this.containsKey(a))throw Error("This key already exists in the HashMap");c=this.getData(a,b);a=c[0];b=c[1];this.map[a]=b;++this.length;this.fireEvent("add",
this,a,b);return b},replace:function(a,b){var c=this.map,d;this.containsKey(a)||this.add(a,b);d=c[a];c[a]=b;this.fireEvent("replace",this,a,b,d);return b},remove:function(a){a=this.findKey(a);return a!==void 0?this.removeByKey(a):!1},removeByKey:function(a){var b;return this.containsKey(a)?(b=this.map[a],delete this.map[a],--this.length,this.fireEvent("remove",this,a,b),!0):!1},get:function(a){return this.map[a]},clear:function(a){this.map={};this.length=0;a!==!0&&this.fireEvent("clear",this);return this},
containsKey:function(a){return this.map[a]!==void 0},contains:function(a){return this.containsKey(this.findKey(a))},getKeys:function(){return this.getArray(!0)},getValues:function(){return this.getArray(!1)},getArray:function(a){var b=[],c,d=this.map;for(c in d)d.hasOwnProperty(c)&&b.push(a?c:d[c]);return b},each:function(a,b){var c=Ext.apply({},this.map),d,e=this.length,b=b||this;for(d in c)if(c.hasOwnProperty(d)&&a.call(b,d,c[d],e)===!1)break;return this},clone:function(){var a=new Ext.util.HashMap,
b=this.map,c;a.suspendEvents();for(c in b)b.hasOwnProperty(c)&&a.add(c,b[c]);a.resumeEvents();return a},findKey:function(a){var b,c=this.map;for(b in c)if(c.hasOwnProperty(b)&&c[b]===a)return b}});Ext.define("Ext.data.Request",{config:{action:null,params:null,method:"GET",url:null,operation:null,proxy:null,disableCaching:!1,headers:{},callbackKey:null,jsonP:null,jsonData:null,xmlData:null,withCredentials:null,callback:null,scope:null,timeout:3E4,records:null,directFn:null,args:null},constructor:function(a){this.initConfig(a)}});
Ext.define("Ext.data.Connection",{mixins:{observable:"Ext.mixin.Observable"},statics:{requestId:0},config:{url:null,async:!0,method:null,username:"",password:"",disableCaching:!0,disableCachingParam:"_dc",timeout:3E4,extraParams:null,defaultHeaders:null,useDefaultHeader:!0,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:!0,defaultXhrHeader:"XMLHttpRequest",autoAbort:!1},textAreaRe:/textarea/i,multiPartRe:/multipart\/form-data/i,lineBreakRe:/\r\n/g,constructor:function(a){this.initConfig(a);
this.requests={}},request:function(a){var a=a||{},b=this,c=a.scope||window,d=a.username||b.getUsername(),e=a.password||b.getPassword()||"",f,g,h;if(b.fireEvent("beforerequest",b,a)!==!1){f=b.setOptions(a,c);if(this.isFormUpload(a)===!0)return this.upload(a.form,f.url,f.data,a),null;(a.autoAbort===!0||b.getAutoAbort())&&b.abort();h=this.getXhrInstance();c=a.async!==!1?a.async||b.getAsync():!1;d?h.open(f.method,f.url,c,d,e):h.open(f.method,f.url,c);d=b.setupHeaders(h,a,f.data,f.params);g={id:++this.self.requestId,
xhr:h,headers:d,options:a,async:c,timeout:setTimeout(function(){g.timedout=!0;b.abort(g)},a.timeout||b.getTimeout())};b.requests[g.id]=g;if(c)h.onreadystatechange=Ext.Function.bind(b.onStateChange,b,[g]);h.send(f.data);return!c?this.onComplete(g):g}else return Ext.callback(a.callback,a.scope,[a,void 0,void 0]),null},upload:function(a,b,c,d){var a=Ext.getDom(a),d=d||{},e=Ext.id(),f=document.createElement("iframe"),g=[],h={target:a.target,method:a.method,encoding:a.encoding,enctype:a.enctype,action:a.action},
i=function(b,c){j=document.createElement("input");Ext.fly(j).set({type:"hidden",value:c,name:b});a.appendChild(j);g.push(j)},j;Ext.fly(f).set({id:e,name:e,cls:Ext.baseCSSPrefix+"hide-display",src:Ext.SSL_SECURE_URL});document.body.appendChild(f);if(document.frames)document.frames[e].name=e;Ext.fly(a).set({target:e,method:"POST",enctype:"multipart/form-data",encoding:"multipart/form-data",action:b||h.action});c&&Ext.iterate(Ext.Object.fromQueryString(c),function(a,b){Ext.isArray(b)?Ext.each(b,function(b){i(a,
b)}):i(a,b)});Ext.fly(f).on("load",Ext.Function.bind(this.onUploadComplete,this,[f,d]),null,{single:!0});a.submit();Ext.fly(a).set(h);Ext.each(g,function(a){Ext.removeNode(a)})},onUploadComplete:function(a,b){var c={responseText:"",responseXML:null},d,e;try{if(d=a.contentWindow.document||a.contentDocument||window.frames[id].document){if(d.body)c.responseText=this.textAreaRe.test((e=d.body.firstChild||{}).tagName)?e.value:d.body.innerHTML;c.responseXML=d.XMLDocument||d}}catch(f){}this.fireEvent("requestcomplete",
this,c,b);Ext.callback(b.success,b.scope,[c,b]);Ext.callback(b.callback,b.scope,[b,!0,c]);setTimeout(function(){Ext.removeNode(a)},100)},isFormUpload:function(a){var b=this.getForm(a);return b?a.isUpload||this.multiPartRe.test(b.getAttribute("enctype")):!1},getForm:function(a){return Ext.getDom(a.form)||null},setOptions:function(a,b){var c=a.params||{},d=this.getExtraParams(),e=a.urlParams,f=a.url||this.getUrl(),g=a.jsonData,h;Ext.isFunction(c)&&(c=c.call(b,a));Ext.isFunction(f)&&(f=f.call(b,a));
f=this.setupUrl(a,f);h=a.rawData||a.xmlData||g||null;g&&!Ext.isPrimitive(g)&&(h=Ext.encode(h));Ext.isObject(c)&&(c=Ext.Object.toQueryString(c));Ext.isObject(d)&&(d=Ext.Object.toQueryString(d));c+=d?(c?"&":"")+d:"";e=Ext.isObject(e)?Ext.Object.toQueryString(e):e;c=this.setupParams(a,c);d=(a.method||this.getMethod()||(c||h?"POST":"GET")).toUpperCase();this.setupMethod(a,d);g=a.disableCaching!==!1?a.disableCaching||this.getDisableCaching():!1;d==="GET"&&g&&(f=Ext.urlAppend(f,(a.disableCachingParam||
this.getDisableCachingParam())+"="+(new Date).getTime()));if((d=="GET"||h)&&c)f=Ext.urlAppend(f,c),c=null;e&&(f=Ext.urlAppend(f,e));return{url:f,method:d,data:h||c||null}},setupUrl:function(a,b){var c=this.getForm(a);c&&(b=b||c.action);return b},setupParams:function(a,b){var c=this.getForm(a);c&&!this.isFormUpload(a)&&(c=Ext.Element.serializeForm(c),b=b?b+"&"+c:c);return b},setupMethod:function(a,b){return this.isFormUpload(a)?"POST":b},setupHeaders:function(a,b,c,d){var e=Ext.apply({},b.headers||
{},this.getDefaultHeaders()||{}),f=this.getDefaultPostHeader(),g=b.jsonData,h=b.xmlData,i,j;if(!e["Content-Type"]&&(c||d))c&&(b.rawData?f="text/plain":h&&Ext.isDefined(h)?f="text/xml":g&&Ext.isDefined(g)&&(f="application/json")),e["Content-Type"]=f;this.getUseDefaultXhrHeader()&&!e["X-Requested-With"]&&(e["X-Requested-With"]=this.getDefaultXhrHeader());try{for(i in e)e.hasOwnProperty(i)&&(j=e[i],a.setRequestHeader(i,j))}catch(k){this.fireEvent("exception",i,j)}if(b.withCredentials)a.withCredentials=
b.withCredentials;return e},getXhrInstance:function(){for(var a=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],b=0,c=a.length,d;b<c;++b)try{d=a[b];d();break}catch(e){}return d}(),isLoading:function(a){if(!a||!a.xhr)return!1;a=a.xhr.readyState;return!(a===0||a==4)},abort:function(a){var b=this.requests,c;if(a&&this.isLoading(a)){a.xhr.onreadystatechange=
null;a.xhr.abort();this.clearTimeout(a);if(!a.timedout)a.aborted=!0;this.onComplete(a);this.cleanup(a)}else if(!a)for(c in b)b.hasOwnProperty(c)&&this.abort(b[c])},abortAll:function(){this.abort()},onStateChange:function(a){a.xhr.readyState==4&&(this.clearTimeout(a),this.onComplete(a),this.cleanup(a))},clearTimeout:function(a){clearTimeout(a.timeout);delete a.timeout},cleanup:function(a){a.xhr=null;delete a.xhr},onComplete:function(a){var b=a.options,c,d;try{if(c=this.parseStatus(a.xhr.status),a.timedout)c.success=
!1}catch(e){c={success:!1,isException:!1}}(d=c.success)?(c=this.createResponse(a),this.fireEvent("requestcomplete",this,c,b),Ext.callback(b.success,b.scope,[c,b])):(c=c.isException||a.aborted||a.timedout?this.createException(a):this.createResponse(a),this.fireEvent("requestexception",this,c,b),Ext.callback(b.failure,b.scope,[c,b]));Ext.callback(b.callback,b.scope,[b,d,c]);delete this.requests[a.id];return c},parseStatus:function(a){var a=a==1223?204:a,b=a>=200&&a<300||a==304||a==0,c=!1;if(!b)switch(a){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:c=
!0}return{success:b,isException:c}},createResponse:function(a){var b=a.xhr,c={},d,e,f,g,h;a.timedout||a.aborted?(a.success=!1,d=[]):d=b.getAllResponseHeaders().replace(this.lineBreakRe,"\n").split("\n");for(e=d.length;e--;)f=d[e],g=f.indexOf(":"),g>=0&&(h=f.substr(0,g).toLowerCase(),f.charAt(g+1)==" "&&++g,c[h]=f.substr(g+1));a.xhr=null;delete a.xhr;a={request:a,requestId:a.id,status:b.status,statusText:b.statusText,getResponseHeader:function(a){return c[a.toLowerCase()]},getAllResponseHeaders:function(){return c},
responseText:b.responseText,responseXML:b.responseXML};b=null;return a},createException:function(a){return{request:a,requestId:a.id,status:a.aborted?-1:0,statusText:a.aborted?"transaction aborted":"communication failure",aborted:a.aborted,timedout:a.timedout}}});
Ext.define("Ext.data.Batch",{mixins:{observable:"Ext.mixin.Observable"},config:{autoStart:!1,pauseOnException:!0,proxy:null},current:-1,total:0,isRunning:!1,isComplete:!1,hasException:!1,constructor:function(a){this.initConfig(a);this.operations=[]},add:function(a){this.total++;a.setBatch(this);this.operations.push(a)},start:function(){this.hasException=!1;this.isRunning=!0;this.runNextOperation()},runNextOperation:function(){this.runOperation(this.current+1)},pause:function(){this.isRunning=!1},
runOperation:function(a){var b=this,c=b.operations,d=c[a];d===void 0?(b.isRunning=!1,b.isComplete=!0,b.fireEvent("complete",b,c[c.length-1])):(b.current=a,a=function(a){var c=a.hasException();c?(b.hasException=!0,b.fireEvent("exception",b,a)):b.fireEvent("operationcomplete",b,a);c&&b.getPauseOnException()?b.pause():(a.setCompleted(),b.runNextOperation())},d.setStarted(),b.getProxy()[d.getAction()](d,a,b))}});
Ext.define("Ext.data.writer.Writer",{alias:"writer.base",alternateClassName:["Ext.data.DataWriter","Ext.data.Writer"],config:{writeAllFields:!0,nameProperty:"name"},constructor:function(a){this.initConfig(a)},write:function(a){for(var b=a.getOperation().getRecords()||[],c=b.length,d=0,e=[];d<c;d++)e.push(this.getRecordData(b[d]));return this.writeRecords(a,e)},writeDate:function(a,b){var c=a.dateFormat||"timestamp";switch(c){case "timestamp":return b.getTime()/1E3;case "time":return b.getTime();default:return Ext.Date.format(b,
c)}},getRecordData:function(a){var b=a.phantom===!0,c=this.getWriteAllFields()||b,d=this.getNameProperty(),e=a.getFields(),f={},g,h,i,j,k;if(c)e.each(function(b){k=b.config;k.persist&&(g=k[d]||k.name,j=a.get(k.name),k.type.type=="date"&&(j=this.writeDate(k,j)),f[g]=j)},this);else{c=a.getChanges();for(i in c)if(c.hasOwnProperty(i))h=e.get(i),k=h.config,k.persist&&(g=k[d]||h.name,j=c[i],k.type.type=="date"&&(j=this.writeDate(k,j)),f[g]=j);b||(f[a.getIdProperty()]=a.getId())}return f},onClassExtended:function(a,
b){var c=this.prototype.config,d=b.config||{},e;for(e in c)e in b&&(d[e]=b[e],delete b[e]);b.config=d}});Ext.define("Ext.data.ResultSet",{config:{loaded:!0,count:null,total:null,success:!1,records:null,message:null},constructor:function(a){this.initConfig(a)},applyCount:function(a){return!a&&a!==0?this.getRecords().length:a},updateRecords:function(a){this.setCount(a.length)}});
Ext.define("Ext.navigation.Bar",{extend:"Ext.Container",requires:["Ext.Button","Ext.TitleBar","Ext.Spacer"],isToolbar:!0,config:{baseCls:Ext.baseCSSPrefix+"toolbar",cls:Ext.baseCSSPrefix+"navigation-bar",ui:"dark",title:null,defaultType:"button",layout:{type:"hbox"},defaultBackButtonText:"Back",animation:{duration:300},useTitleForBackButtonText:null,view:null,backButton:{align:"left",ui:"back",hidden:!0}},minBackButtonWidth:80,constructor:function(a){a=a||{};if(!a.items)a.items=[];this.backButtonStack=
[];this.callParent([a])},initialize:function(){this.on({painted:"refreshProxy",resize:"refreshProxy"})},updateView:function(a){var b=this.getBackButton(),c;this.getItems();if(a){a=a.getInnerItems();for(c=0;c<a.length;c++)this.backButtonStack.push(a[c].config.title||"&nbsp;");this.titleComponent.setTitle(this.getTitleText());if(a=this.getBackButtonText())b.setText(a),b.show()}},onViewAdd:function(a,b){var c=a.getLayout().getAnimation(),d=this.backButtonStack,e=[],f,g;this.endAnimation();d.push(b.config.title||
"&nbsp;");f=this.getTitleText();g=this.getBackButtonText();d=d.length>1;this.refreshNavigationBarProxy();c&&c.isAnimation&&a.isPainted()?(d&&(e=e.concat(this.pushBackButtonAnimated(g))),this.activeAnimations=e=e.concat(this.pushTitleAnimated(f))):(d&&this.pushBackButton(g),this.pushTitle(f))},onViewRemove:function(a){var b=a.getLayout().getAnimation(),c=[],d,e;this.endAnimation();this.backButtonStack.pop();d=this.getTitleText();e=this.getBackButtonText();this.refreshNavigationBarProxy();b&&b.isAnimation&&
a.isPainted()?(c=c.concat(this.popBackButtonAnimated(e)),this.activeAnimations=c=c.concat(this.popTitleAnimated(d))):(this.popBackButton(e),this.popTitle(d))},endAnimation:function(){var a=this.activeAnimations,b,c,d;if(a){d=a.length;for(c=0;c<d;c++)b=a[c],b.isAnimating?b.stopAnimation():b.destroy();delete this.activeAnimations}},applyBackButton:function(a){return Ext.factory(a,Ext.Button,this.getBackButton())},updateBackButton:function(a,b){b&&this.remove(b);a&&(this.add(a),a.on({scope:this,tap:this.onBackButtonTap}))},
onBackButtonTap:function(){this.fireEvent("back",this)},updateUseTitleForBackButtonText:function(){var a=this.getBackButton();a&&a.setText(this.getBackButtonText());this.refreshProxy()},applyItems:function(a){if(!this.initialized){var b=this.getDefaults()||{};this.leftBox=this.add({xtype:"container",style:"position: relative",layout:{type:"hbox",align:"center"}});this.spacer=this.add({xtype:"component",style:"position: relative",flex:1});this.rightBox=this.add({xtype:"container",style:"position: relative",
layout:{type:"hbox",align:"center"}});this.titleComponent=this.add({xtype:"title",hidden:b.hidden,centered:!0});this.doAdd=this.doBoxAdd;this.doInsert=this.doBoxInsert}this.callParent(arguments)},doBoxAdd:function(a){a.config.align=="right"?this.rightBox.add(a):this.leftBox.add(a)},doBoxInsert:function(a,b){b.config.align=="right"?this.rightBox.add(b):this.leftBox.add(b)},refreshProxy:function(){if(this.rendered){var a=this.getBackButton(),b=this.titleComponent;a&&a.rendered&&a.setWidth(null);this.refreshNavigationBarProxy();
var c=this.getNavigationBarProxyProperties();a&&a.rendered&&a.setWidth(c.backButton.width);b.setStyle("-webkit-transform",null);b.setWidth(c.title.width);b.element.setLeft(c.title.left)}},getBackButtonAnimationProperties:function(a){var b=this.element,c=this.getBackButton().element,d=this.titleComponent.element,e=Math.min(b.getWidth()/3,200),f=this.getNavigationBarProxyProperties().backButton.width,b=b.getX(),d=d.getX(),g=c.getX(),c=c.getWidth();a?(a=b-g-c,c=Math.min(d-c,e)):(c=b-g-c,a=Math.min(d-
b,e));return{element:{from:{left:a,width:f,opacity:0},to:{left:0,width:f,opacity:1}},ghost:{from:null,to:{left:c,opacity:0}}}},getTitleAnimationProperties:function(a){var b=this.element,c=this.titleComponent.element,d=this.getNavigationBarProxyProperties(),e=c.getLeft(),f=b.getX(),g=b.getWidth(),b=c.getX(),h=c.getWidth(),i=d.backButton.left,j=d.backButton.width,k=d.title.width;a?(c.setLeft(0),a=f-b+j,c=f+g,i+h>b&&(a=f-b-h)):(a=g-b,c=f-b+j,i+h>b&&(c=f-b-h));return{element:{from:{left:a,width:k,opacity:0},
to:{left:d.title.left,width:k,opacity:1}},ghost:{from:e,to:{left:c,opacity:0}}}},animate:function(a,b,c,d,e){var f=this,g={element:b,easing:"ease-in-out",duration:this.getAnimation().duration,replacePrevious:!0,preserveEndState:!0};b.setLeft(0);if(Ext.os.is.Android){if(c&&(g.from={left:c.left,opacity:c.opacity},c.width))g.from.width=c.width;if(d&&(g.to={left:d.left,opacity:d.opacity},d.width))g.to.width=d.width}else{if(c&&(g.from={transform:{translateX:c.left},opacity:c.opacity},c.width))g.from.width=
c.width;if(d&&(g.to={transform:{translateX:d.left},opacity:d.opacity},d.width))g.to.width=d.width}b=new Ext.fx.Animation(g);b.on("animationend",function(){e&&e.call(f);a&&Ext.isNumber(d.width)&&a.setWidth(d.width)},this);Ext.Animator.run(b);return b},getBackButtonText:function(){var a=this.backButtonStack[this.backButtonStack.length-2];this.getUseTitleForBackButtonText()||a&&(a=this.getDefaultBackButtonText());return a},getTitleText:function(){return this.backButtonStack[this.backButtonStack.length-
1]},pushBackButton:function(a){var b=this.getBackButton();b.setText(a);b.show();a=this.getBackButtonAnimationProperties().element.to;a.left&&b.setLeft(a.left);a.width&&b.setWidth(a.width)},pushBackButtonAnimated:function(){var a=this.getBackButton(),b=a.getText(),c=a.element,d=this.getBackButtonAnimationProperties(),e=[],f;b&&(f=this.createProxy(a));a.setText(this.getBackButtonText());a.show();e.push(this.animate(a,c,d.element.from,d.element.to));f&&e.push(this.animate(null,f,d.ghost.from,d.ghost.to,
function(){f.destroy()}));return e},popBackButton:function(a){var b=this.getBackButton();b.setText(null);a?b.setText(this.getBackButtonText()):b.hide();a=this.getBackButtonAnimationProperties(!0).element.to;a.left&&b.setLeft(a.left);a.width&&b.setWidth(a.width)},popBackButtonAnimated:function(a){var b=this.getBackButton(),c=b.getText(),d=b.element,e=this.getBackButtonAnimationProperties(!0),f=[],g;c&&(g=this.createProxy(b));a&&this.backButtonStack.length?(b.setText(this.getBackButtonText()),b.show(),
f.push(this.animate(b,d,e.element.from,e.element.to))):b.hide();g&&f.push(this.animate(null,g,e.ghost.from,e.ghost.to,function(){g.destroy();a||b.setText(null)}));return f},pushTitle:function(a){var b=this.titleComponent,c=b.element,d=this.getTitleAnimationProperties().element.to;b.setTitle(a);d.left&&c.setLeft(d.left);d.width&&b.setWidth(d.width)},pushTitleAnimated:function(a){var b=this.getBackButton(),c=b?b.getText():null,b=this.titleComponent,d=b.element,e=[],f;c&&(f=this.createProxy(b,!0));b.setTitle(a);
a=this.getTitleAnimationProperties();e.push(this.animate(b,d,a.element.from,a.element.to));f&&e.push(this.animate(null,f,a.ghost.from,a.ghost.to,function(){f.destroy()}));return e},popTitle:function(a){var b=this.titleComponent,c=b.element,d=this.getTitleAnimationProperties(!0).element.to;b.setTitle(a);d.left&&c.setLeft(d.left);d.width&&b.setWidth(d.width)},popTitleAnimated:function(a){var b=this.titleComponent.getTitle(),c=this.titleComponent,d=c.element,e=this.getTitleAnimationProperties(!0),f=
[],g;b&&(g=this.createProxy(c,!0));c.setTitle(a||"");f.push(this.animate(c,d,e.element.from,e.element.to));g&&f.push(this.animate(null,g,e.ghost.from,e.ghost.to,function(){g.destroy()}));return f},createNavigationBarProxy:function(){var a=this.proxy;if(!a)this.proxy=a=Ext.create("Ext.TitleBar",{items:[{xtype:"button",ui:"back",text:""}],style:{position:"absolute",visibility:"hidden",left:0,top:"-1000px"},title:this.backButtonStack[0]}),a.backButton=a.down("button[ui=back]"),this.element.appendChild(a.element)},
getNavigationBarProxyProperties:function(){var a=this.proxy,b=a.titleComponent.element,a=a.backButton.element;return{title:{left:b.getLeft(),width:b.getWidth()},backButton:{left:a.getLeft(),width:a.getWidth()}}},refreshNavigationBarProxy:function(){var a=this.proxy,b=this.element,c=this.backButtonStack,c=c[c.length-1],d=this.getBackButtonText(),e;if(!a)this.createNavigationBarProxy(),a=this.proxy;e=a.backButton;a.setWidth(b.getWidth());a.setHeight(b.getHeight());a.setTitle(c);d?(e.setText(d),e.show()):
e.hide();a.refreshTitlePosition()},beforePop:function(a){a--;for(var b=0;b<a;b++)this.backButtonStack.pop()},doSetHidden:function(a){a?this.element.setStyle({position:"absolute",top:"-1000px",left:"-1000px",width:this.element.getWidth()+"px"}):this.element.setStyle({position:"relative",top:"auto",left:"auto",width:"auto"})},createProxy:function(a,b){var c=b?a.element.getParent():a.element,d=Ext.get(c.id+"-proxy");if(!d)d=c.dom.cloneNode(!0),d.id=c.id+"-proxy",c.getParent().dom.appendChild(d),d=Ext.get(d),
d.setStyle("position","absolute"),d.setY(c.getY()),d.setX(c.getX());return d},destroy:function(){Ext.destroy(this.proxy);delete this.proxy}});
Ext.define("Ext.navigation.View",{extend:"Ext.Container",alternateClassName:"Ext.NavigationView",xtype:"navigationview",requires:["Ext.navigation.Bar"],config:{baseCls:Ext.baseCSSPrefix+"navigationview",navigationBar:{docked:"top"},defaultBackButtonText:"Back",useTitleForBackButtonText:!1,layout:{type:"card",animation:{duration:300,easing:"ease-out",type:"slide",direction:"left"}}},initialize:function(){this.getNavigationBar().on({back:this.onBackButtonTap,scope:this});this.relayEvents(this,{add:"push",
remove:"pop"})},applyLayout:function(a){a=a||{};if(Ext.os.is.Android)a.animation=!1;return a},onBackButtonTap:function(){this.pop();this.fireEvent("back",this)},push:function(a){return this.add(a)},pop:function(a){if(this.beforePop(a))return this.doPop()},beforePop:function(a){var b=this.getInnerItems(),c=b.length;if(!Ext.isNumber(a)||a<1)a=1;if(a=Math.min(a,c-1)){this.getNavigationBar().beforePop(a);a=b.splice(-a,a-1);for(b=0;b<a.length;b++)this.remove(a[b]);return!0}return!1},doPop:function(){var a=
this.getInnerItems();this.remove(a[a.length-1]);return this.getActiveItem()},getPreviousItem:function(){var a=this.getInnerItems();return a[a.length-2]},updateUseTitleForBackButtonText:function(a){var b=this.getNavigationBar();b&&b.setUseTitleForBackButtonText(a)},updateDefaultBackButtonText:function(a){var b=this.getNavigationBar();b&&b.setDefaultBackButtonText(a)},applyNavigationBar:function(a){a||(a={hidden:!0,docked:"top"});a.title&&delete a.title;a.view=this;return Ext.factory(a,Ext.navigation.Bar,
this.getNavigationBar())},updateNavigationBar:function(a,b){b&&this.remove(b,!0);if(a){var c=this.getLayout();(c=c&&c.isLayout?c.getAnimation():!1)&&c.isAnimation&&a.setAnimation(c.config);this.add(a)}},applyActiveItem:function(a,b){var c=this.getInnerItems();this.getItems();this.initialized||(a=c.length-1);return this.callParent([a,b])},doResetActiveItem:function(a){var b=this.getInnerItems(),c=this.getLayout().getAnimation();a>0&&(c&&c.isAnimation&&c.setReverse(!0),this.setActiveItem(a-1),this.getNavigationBar().onViewRemove(this,
b[a],a))},doRemove:function(){var a=this.getLayout().getAnimation();a&&a.isAnimation&&a.setReverse(!1);this.callParent(arguments)},onItemAdd:function(a,b){this.doItemLayoutAdd(a,b);!this.isItemsInitializing&&a.isInnerItem()&&(this.setActiveItem(a),this.getNavigationBar().onViewAdd(this,a,b));this.initialized&&this.fireEvent("add",this,a,b)},reset:function(){return this.pop(this.getInnerItems().length)}});
Ext.define("Mayfest.view.Viewport",{extend:"Ext.navigation.View",xtype:"navui",alias:"widget.ui",config:{autoDestroy:!1,fullscreen:!0,masked:{xtype:"loadmask",message:"Loading..."},items:[{xtype:"mainui"}]},initialize:function(){this.fireEvent("render");this.callParent()}});
Ext.define("Ext.util.Collection",{config:{autoFilter:!0,autoSort:!0},mixins:{sortable:"Ext.mixin.Sortable",filterable:"Ext.mixin.Filterable"},constructor:function(a,b){this.all=[];this.items=[];this.keys=[];this.indices={};this.map={};this.length=0;if(a)this.getKey=a;this.initConfig(b)},updateAutoSort:function(a,b){b===!1&&a&&this.items.length&&this.sort()},updateAutoFilter:function(a,b){b===!1&&a&&this.all.length&&this.runFilters()},insertSorters:function(){this.mixins.sortable.insertSorters.apply(this,
arguments);this.getAutoSort()&&this.items.length&&this.sort();return this},removeSorters:function(a){this.mixins.sortable.removeSorters.call(this,a);this.sorted&&this.getAutoSort()&&this.items.length&&this.sort();return this},applyFilters:function(a){var b=this.mixins.filterable.applyFilters.call(this,a);!a&&this.all.length&&this.getAutoFilter()&&this.filter();return b},addFilters:function(a){this.mixins.filterable.addFilters.call(this,a);this.items.length&&this.getAutoFilter()&&this.runFilters();
return this},removeFilters:function(a){this.mixins.filterable.removeFilters.call(this,a);this.filtered&&this.all.length&&this.getAutoFilter()&&this.filter();return this},filter:function(a,b,c,d){if(a)return Ext.isString(a)?this.addFilters({property:a,value:b,anyMatch:c,caseSensitive:d}):this.addFilters(a),this.items;this.items=this.mixins.filterable.filter.call(this,this.all.slice());this.updateAfterFilter();this.sorted&&this.getAutoSort()&&this.sort()},runFilters:function(){this.items=this.mixins.filterable.filter.call(this,
this.items);this.updateAfterFilter()},updateAfterFilter:function(){var a=this.items,b=this.keys,c=this.indices={},d=a.length,e,f;for(e=b.length=0;e<d;e++)f=a[e],f=this.getKey(f),c[f]=e,b[e]=f;this.length=a.length;this.dirtyIndices=!1},sort:function(a,b){var c=this.items,d=this.keys,e=this.indices,f=c.length,g,h,i;if(a)return this.addSorters(a,b),this.items;for(g=0;g<f;g++)c[g]._current_key=d[g];this.handleSort(c);for(g=0;g<f;g++)h=c[g],i=h._current_key,d[g]=i,e[i]=g,delete h._current_key;this.dirtyIndices=
!0},handleSort:function(a){this.mixins.sortable.sort.call(this,a)},add:function(a,b){var c=this.filtered,d=this.sorted,e=this.all,f=this.items,g=this.keys,h=this.indices,i=this.mixins.filterable,j=f.length,k=j;arguments.length==1&&(b=a,a=this.getKey(b));if(typeof a!="undefined"&&a!==null){if(typeof this.map[a]!="undefined")return this.replace(a,b);this.map[a]=b}e.push(b);if(c&&this.getAutoFilter()&&i.isFiltered.call(this,b))return null;this.length++;d&&this.getAutoSort()&&(k=this.findInsertionIndex(f,
b));k!==j?(this.dirtyIndices=!0,Ext.Array.splice(g,k,0,a),Ext.Array.splice(f,k,0,b)):(h[a]=j,g.push(a),f.push(b));return b},getKey:function(a){return a.id},replace:function(a,b){var c=this.sorted,d=this.filtered,e=this.mixins.filterable,f=this.items,g=this.keys,h=this.all,i=this.map,j=null,k=f.length,l;arguments.length==1?(b=a,a=l=this.getKey(b)):l=this.getKey(b);i=i[a];if(typeof a=="undefined"||a===null||typeof i=="undefined")return this.add(l,b);this.map[l]=b;l!==a&&delete this.map[a];if(c&&this.getAutoSort()){Ext.Array.remove(f,
i);Ext.Array.remove(g,a);Ext.Array.remove(h,i);h.push(b);this.dirtyIndices=!0;if(d&&this.getAutoFilter())if(e.isFiltered.call(this,b))return k!==f.length&&this.length--,null;else k===f.length&&(this.length++,j=b);c=this.findInsertionIndex(f,b);Ext.Array.splice(g,c,0,l);Ext.Array.splice(f,c,0,b)}else{if(d)if(this.getAutoFilter()&&e.isFiltered.call(this,b)){if(f.indexOf(i)!==-1)Ext.Array.remove(f,i),Ext.Array.remove(g,a),this.length--,this.dirtyIndices=!0;return null}else if(f.indexOf(i)===-1)return f.push(b),
g.push(l),this.indices[l]=this.length,this.length++,b;c=this.items.indexOf(i);g[c]=l;f[c]=b;this.dirtyIndices=!0}return j},addAll:function(a){var b=this.filtered,c=this.sorted,d=this.all,e=this.items,f=this.keys,g=this.map,h=this.getAutoFilter(),i=this.getAutoSort(),j=[],k=[],l=this.mixins.filterable,m=[],q,o,p;if(Ext.isObject(a))for(o in a)a.hasOwnProperty(o)&&(k.push(e[o]),j.push(o));else{k=a;q=a.length;for(p=0;p<q;p++)j.push(this.getKey(a[p]))}for(p=0;p<q;p++){o=j[p];a=k[p];if(typeof o!="undefined"&&
o!==null){if(typeof g[o]!="undefined"){this.replace(o,a);continue}g[o]=a}d.push(a);if(!b||!h||!l.isFiltered.call(this,a))this.length++,f.push(o),e.push(a),m.push(a)}return m.length?(this.dirtyIndices=!0,c&&i&&this.sort(),m):null},each:function(a,b){for(var c=this.items.slice(),d=0,e=c.length,f;d<e;d++)if(f=c[d],a.call(b||f,f,d,e)===!1)break},eachKey:function(a,b){var c=this.keys,d=this.items,e=c.length,f;for(f=0;f<e;f++)a.call(b||window,c[f],d[f],f,e)},findBy:function(a,b){for(var c=this.keys,d=this.items,
e=0,f=d.length;e<f;e++)if(a.call(b||window,d[e],c[e]))return d[e];return null},filterBy:function(a,b){var c=new this.self,d=this.keys,e=this.all,f=e.length,g;c.getKey=this.getKey;for(g=0;g<f;g++)a.call(b||this,e[g],d[g])&&c.add(d[g],e[g]);return c},insert:function(a,b,c){var d=this.sorted,e=this.filtered;arguments.length==2&&(c=b,b=this.getKey(c));this.containsKey(b)&&this.removeAtKey(b);if(a>=this.length||d&&this.getAutoSort())return this.add(b,c);this.all.push(c);typeof b!="undefined"&&b!==null&&
(this.map[b]=c);if(e&&this.getAutoFilter()&&this.mixins.filterable.isFiltered.call(this,c))return null;this.length++;Ext.Array.splice(this.items,a,0,c);Ext.Array.splice(this.keys,a,0,b);this.dirtyIndices=!0;return c},insertAll:function(a,b){if(a>=this.items.length||this.sorted&&this.getAutoSort())return this.addAll(b);var c=this.filtered,d=this.sorted,e=this.all,f=this.items,g=this.keys,h=this.map,i=this.getAutoFilter(),j=this.getAutoSort(),k=[],l=[],m=[],q=this.mixins.filterable,o=!1,p,r,t,s;d&&
this.getAutoSort();if(Ext.isObject(b))for(r in b)b.hasOwnProperty(r)&&(l.push(f[r]),k.push(r));else{l=b;p=b.length;for(t=0;t<p;t++)k.push(this.getKey(b[t]))}for(t=0;t<p;t++)if(r=k[t],s=l[t],typeof r!="undefined"&&r!==null&&(this.containsKey(r)&&this.removeAtKey(r),h[r]=s),e.push(s),!c||!i||!q.isFiltered.call(this,s))this.length++,Ext.Array.splice(f,a+t,0,s),Ext.Array.splice(g,a+t,0,r),o=!0,m.push(s);return o?(this.dirtyIndices=!0,d&&j&&this.sort(),m):null},remove:function(a){return this.items.indexOf(a)===
-1?(Ext.Array.remove(this.all,a),a):this.removeAt(this.items.indexOf(a))},removeAll:function(a){if(a){var b=a.length,c;for(c=0;c<b;c++)this.remove(a[c])}return this},removeAt:function(a){var b=this.items,c=this.keys,d=this.all,e,f;return a<this.length&&a>=0?(e=b[a],f=c[a],typeof f!="undefined"&&delete this.map[f],Ext.Array.erase(b,a,1),Ext.Array.erase(c,a,1),Ext.Array.remove(d,e),this.length--,this.dirtyIndices=!0,e):!1},removeAtKey:function(a){return this.removeAt(this.indexOfKey(a))},getCount:function(){return this.length},
indexOf:function(a){this.dirtyIndices&&this.updateIndices();a=this.indices[this.getKey(a)];return a===void 0?-1:a},indexOfKey:function(a){this.dirtyIndices&&this.updateIndices();a=this.indices[a];return a===void 0?-1:a},updateIndices:function(){var a=this.items,b=a.length,c=this.indices={},d,e;for(d=0;d<b;d++)e=a[d],e=this.getKey(e),c[e]=d;this.dirtyIndices=!1},get:function(a){var b=this.map[a],c;b!==void 0?c=b:typeof a=="number"&&(c=this.items[a]);return typeof c!="function"||this.getAllowFunctions()?
c:null},getAt:function(a){return this.items[a]},getByKey:function(a){return this.map[a]},contains:function(a){var b=this.getKey(a);return b?this.containsKey(b):Ext.Array.contains(this.items,a)},containsKey:function(a){return typeof this.map[a]!="undefined"},clear:function(){this.length=0;this.items.length=0;this.keys.length=0;this.all.length=0;this.map={}},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},getRange:function(a,b){var c=this.items,d=[],e;if(c.length<
1)return d;a=a||0;b=Math.min(typeof b=="undefined"?this.length-1:b,this.length-1);if(a<=b)for(e=a;e<=b;e++)d[d.length]=c[e];else for(e=a;e>=b;e--)d[d.length]=c[e];return d},findIndexBy:function(a,b,c){for(var d=this.keys,e=this.items,c=c||0,f=e.length;c<f;c++)if(a.call(b||this,e[c],d[c]))return c;return-1},clone:function(){for(var a=new this.self,b=this.keys,c=this.items,d=0,e=c.length;d<e;d++)a.add(b[d],c[d]);a.getKey=this.getKey;return a}});
Ext.define("Ext.data.StoreManager",{extend:"Ext.util.Collection",alternateClassName:["Ext.StoreMgr","Ext.data.StoreMgr","Ext.StoreManager"],singleton:!0,uses:["Ext.data.ArrayStore"],register:function(){for(var a=0,b;b=arguments[a];a++)this.add(b)},unregister:function(){for(var a=0,b;b=arguments[a];a++)this.remove(this.lookup(b))},lookup:function(a){if(Ext.isArray(a)){var b=["field1"],c=!Ext.isArray(a[0]),d=a,e,f;if(c){d=[];for(e=0,f=a.length;e<f;++e)d.push([a[e]])}else for(e=2,f=a[0].length;e<=f;++e)b.push("field"+
e);return Ext.create("Ext.data.ArrayStore",{data:d,fields:b,autoDestroy:!0,autoCreated:!0,expanded:c})}return Ext.isString(a)?this.get(a):a instanceof Ext.data.Store?a:Ext.factory(a,Ext.data.Store,null,"store")},getKey:function(a){return a.getStoreId()}},function(){Ext.regStore=function(a,b){var c;Ext.isObject(a)?b=a:b instanceof Ext.data.Store?b.setStoreId(a):b.storeId=a;c=b instanceof Ext.data.Store?b:Ext.create("Ext.data.Store",b);return Ext.data.StoreManager.register(c)};Ext.getStore=function(a){return Ext.data.StoreManager.lookup(a)}});
Ext.define("Ext.dataview.element.List",{extend:"Ext.dataview.element.Container",updateBaseCls:function(a){this.itemClsShortCache=a+"-item";this.headerClsShortCache=a+"-header";this.headerClsCache="."+this.headerClsShortCache;this.headerItemClsShortCache=a+"-header-item";this.footerClsShortCache=a+"-footer-item";this.footerClsCache="."+this.footerClsShortCache;this.labelClsShortCache=a+"-item-label";this.labelClsCache="."+this.labelClsShortCache;this.disclosureClsShortCache=a+"-disclosure";this.disclosureClsCache=
"."+this.disclosureClsShortCache;this.iconClsShortCache=a+"-icon";this.iconClsCache="."+this.iconClsShortCache;this.callParent(arguments)},hiddenDisplayCache:Ext.baseCSSPrefix+"hidden-display",getItemElementConfig:function(a,b){var c=this.dataview,d=c.getItemCls(),e=this.itemClsShortCache;d&&(e+=" "+d);d={cls:e,children:[{cls:this.labelClsShortCache,html:c.getItemTpl().apply(b)}]};if(c.getIcon())e=b.iconSrc,d.children.push({cls:this.iconClsShortCache,style:"background-image: "+e?'url("'+newSrc+'")':
""});c.getOnItemDisclosure()&&d.children.push({cls:this.disclosureClsShortCache+(b[c.getDisclosureProperty()]===!1?this.hiddenDisplayCache:"")});return d},updateListItem:function(a,b){var c=this.dataview,d=Ext.fly(b),e=d.down(this.labelClsCache,!0),f=a.data,g=c.getDisclosureProperty(),h=f&&f.hasOwnProperty(g),i=f&&f.hasOwnProperty("iconSrc");e.innerHTML=c.getItemTpl().apply(f);h&&f[g]===!1&&(e=d.down(this.disclosureClsCache),e[h?"removeCls":"addCls"](this.hiddenDisplayCache));if(c.getIcon())c=d.down(this.iconClsCache,
!0),c.style.backgroundImage=i?'url("'+i+'")':""},doRemoveHeaders:function(){for(var a=this.headerItemClsShortCache,b=this.element.query(this.headerClsCache),c=b.length,d=0,e;d<c;d++)e=b[d],Ext.fly(e.parentNode).removeCls(a),Ext.removeNode(e)},doRemoveFooterCls:function(){for(var a=this.footerClsShortCache,b=this.element.query(this.footerClsCache),c=b.length,d=0;d<c;d++)Ext.fly(b[d]).removeCls(a)},doAddHeader:function(a,b){a=Ext.fly(a);b&&a.insertFirst(Ext.Element.create({cls:this.headerClsShortCache,
html:b}));a.addCls(this.headerItemClsShortCache)},destroy:function(){this.doRemoveHeaders();this.callParent()}});
Ext.define("Ext.data.Errors",{extend:"Ext.util.Collection",requires:"Ext.data.Error",isValid:function(){return this.length===0},getByField:function(a){var b=[],c,d;for(d=0;d<this.length;d++)c=this.items[d],c.getField()==a&&b.push(c);return b},add:function(){var a=arguments.length==1?arguments[0]:arguments[1];a instanceof Ext.data.Error||(a=Ext.create("Ext.data.Error",{field:a.field||a.name,message:a.error||a.message}));return this.callParent([a])}});
Ext.define("Ext.dataview.component.Container",{extend:"Ext.Container",requires:["Ext.dataview.component.DataItem"],constructor:function(){this.itemCache=[];this.callParent(arguments)},doInitialize:function(){this.innerElement.on({touchstart:"onItemTouchStart",touchend:"onItemTouchEnd",tap:"onItemTap",touchmove:"onItemTouchMove",singletap:"onItemSingleTap",doubletap:"onItemDoubleTap",swipe:"onItemSwipe",delegate:"> ."+Ext.baseCSSPrefix+"data-item",scope:this})},initialize:function(){this.callParent();
this.doInitialize()},onItemTouchStart:function(a){var b=a.getTarget(),b=Ext.getCmp(b.id);b.on({touchmove:"onItemTouchMove",scope:this,single:!0});this.fireEvent("itemtouchstart",this,b,this.indexOf(b),a)},onItemTouchMove:function(a){var b=a.getTarget(),b=Ext.getCmp(b.id);this.fireEvent("itemtouchmove",this,b,this.indexOf(b),a)},onItemTouchEnd:function(a){var b=a.getTarget(),b=Ext.getCmp(b.id);b.un({touchmove:"onItemTouchMove",scope:this});this.fireEvent("itemtouchend",this,b,this.indexOf(b),a)},onItemTap:function(a){var b=
a.getTarget(),b=Ext.getCmp(b.id);this.fireEvent("itemtap",this,b,this.indexOf(b),a)},onItemTapHold:function(a){var b=a.getTarget(),b=Ext.getCmp(b.id);this.fireEvent("itemtaphold",this,b,this.indexOf(b),a)},onItemSingleTap:function(a){var b=a.getTarget(),b=Ext.getCmp(b.id);this.fireEvent("itemsingletap",this,b,this.indexOf(b),a)},onItemDoubleTap:function(a){var b=a.getTarget(),b=Ext.getCmp(b.id);this.fireEvent("itemdoubletap",this,b,this.indexOf(b),a)},onItemSwipe:function(a){var b=a.getTarget(),b=
Ext.getCmp(b.id);this.fireEvent("itemswipe",this,b,this.indexOf(b),a)},moveItemsToCache:function(a,b){for(var c=this.dataview,d=c.getMaxItemCache(),e=this.getViewItems(),f=this.itemCache,g=f.length,h=c.getPressedCls(),c=c.getSelectedCls(),i=b-a,j;i>=0;i--)j=e[a+i],g!==d?(this.remove(j,!1),j.removeCls([h,c]),f.push(j),g++):j.destroy();this.getViewItems().length==0&&this.dataview.showEmptyText()},moveItemsFromCache:function(a){var b=this.dataview,c=b.getStore(),d=a.length,e=b.getDefaultType(),f=b.getItemConfig(),
g=this.itemCache,h=g.length,i;d&&b.hideEmptyText();for(b=0;b<d;b++)a[b]._tmpIndex=c.indexOf(a[b]);Ext.Array.sort(a,function(a,b){return a._tmpIndex>b._tmpIndex?1:-1});for(b=0;b<d;b++)i=a[b],h?(h--,c=g.pop(),this.updateListItem(i,c)):c=this.getDataItemConfig(e,i,f),this.insert(i._tmpIndex,c),delete i._tmpIndex;return[]},getViewItems:function(){return this.getInnerItems()},updateListItem:function(a,b){b.updateRecord&&b.updateRecord(a)},getDataItemConfig:function(a,b,c){var d=this.dataview,a={xtype:a,
record:b,dataview:d,itemCls:d.getItemCls(),defaults:c};return Ext.merge(a,c)},doRemoveItemCls:function(a){for(var b=this.getViewItems(),c=b.length,d=0;d<c;d++)b[d].removeCls(a)},doAddItemCls:function(a){for(var b=this.getViewItems(),c=b.length,d=0;d<c;d++)b[d].addCls(a)},destroy:function(){for(var a=this.itemCache,b=a.length,c=0;c<b;c++)a[c].destroy();this.callParent()}});
Ext.define("Ext.dataview.DataView",{extend:"Ext.Container",alternateClassName:"Ext.DataView",mixins:["Ext.mixin.Selectable"],xtype:"dataview",requires:["Ext.LoadMask","Ext.data.StoreManager","Ext.dataview.component.Container","Ext.dataview.element.Container"],config:{store:null,baseCls:Ext.baseCSSPrefix+"dataview",emptyText:null,deferEmptyText:!0,itemTpl:"<div>{text}</div>",pressedCls:"x-item-pressed",itemCls:null,selectedCls:"x-item-selected",triggerEvent:"itemtap",triggerCtEvent:"tap",deselectOnContainerClick:!0,
scrollable:!0,inline:null,pressedDelay:100,loadingText:"Loading...",useComponents:null,itemConfig:{},maxItemCache:20,defaultType:"dataitem",scrollToTopOnRefresh:!0},constructor:function(a){this.hasLoadedStore=!1;this.mixins.selectable.constructor.apply(this,arguments);this.callParent(arguments)},updateItemCls:function(a,b){var c=this.container;c&&(b&&c.doRemoveItemCls(b),a&&c.doAddItemCls(a))},storeEventHooks:{beforeload:"onBeforeLoad",load:"onLoad",refresh:"refresh",addrecords:"onStoreAdd",removerecords:"onStoreRemove",
updaterecord:"onStoreUpdate"},initialize:function(){this.callParent();var a;this.on(this.getTriggerCtEvent(),this.onContainerTrigger,this);a=this.container=this.add(new (Ext.dataview[this.getUseComponents()?"component":"element"].Container)({baseCls:this.getBaseCls()}));a.dataview=this;this.on(this.getTriggerEvent(),this.onItemTrigger,this);a.on({itemtouchstart:"onItemTouchStart",itemtouchend:"onItemTouchEnd",itemtap:"onItemTap",itemtaphold:"onItemTapHold",itemtouchmove:"onItemTouchMove",itemsingletap:"onItemSingleTap",
itemdoubletap:"onItemDoubleTap",itemswipe:"onItemSwipe",scope:this});this.getStore()&&this.refresh()},applyInline:function(a){Ext.isObject(a)&&(a=Ext.apply({},a));return a},updateInline:function(a,b){var c=this.getBaseCls();b&&this.removeCls([c+"-inlineblock",c+"-nowrap"]);a&&(this.addCls(c+"-inlineblock"),Ext.isObject(a)&&a.wrap===!1?this.addCls(c+"-nowrap"):this.removeCls(c+"-nowrap"))},prepareData:function(a){return a},onContainerTrigger:function(a){a.target==this.element.dom&&this.getDeselectOnContainerClick()&&
this.getStore()&&this.deselectAll()},onItemTrigger:function(a,b){this.selectWithEvent(this.getStore().getAt(b))},doAddPressedCls:function(a){a=this.container.getViewItems()[this.getStore().indexOf(a)];Ext.isElement(a)&&(a=Ext.get(a));a&&a.addCls(this.getPressedCls())},onItemTouchStart:function(a,b,c,d){a=(a=this.getStore())&&a.getAt(c);this.fireAction("itemtouchstart",[this,c,b,a,d],"doItemTouchStart")},doItemTouchStart:function(a,b,c,d){b=a.getPressedDelay();if(d)b>0?a.pressedTimeout=Ext.defer(a.doAddPressedCls,
b,a,[d]):a.doAddPressedCls(d)},onItemTouchEnd:function(a,b,c,d){a=(a=this.getStore())&&a.getAt(c);this.hasOwnProperty("pressedTimeout")&&(clearTimeout(this.pressedTimeout),delete this.pressedTimeout);a&&b&&b.removeCls(this.getPressedCls());this.fireEvent("itemtouchend",this,c,b,a,d)},onItemTouchMove:function(a,b,c,d){a=(a=this.getStore())&&a.getAt(c);this.hasOwnProperty("pressedTimeout")&&(clearTimeout(this.pressedTimeout),delete this.pressedTimeout);a&&b&&b.removeCls(this.getPressedCls());this.fireEvent("itemtouchmove",
this,c,b,a,d)},onItemTap:function(a,b,c,d){a=(a=this.getStore())&&a.getAt(c);this.fireEvent("itemtap",this,c,b,a,d)},onItemTapHold:function(a,b,c,d){a=(a=this.getStore())&&a.getAt(c);this.fireEvent("itemtaphold",this,c,b,a,d)},onItemSingleTap:function(a,b,c,d){a=(a=this.getStore())&&a.getAt(c);this.fireEvent("itemsingletap",this,c,b,a,d)},onItemDoubleTap:function(a,b,c,d){a=(a=this.getStore())&&a.getAt(c);this.fireEvent("itemdoubletap",this,c,b,a,d)},onItemSwipe:function(a,b,c,d){a=(a=this.getStore())&&
a.getAt(c);this.fireEvent("itemswipe",this,c,b,a,d)},onItemSelect:function(a,b){b?this.doItemSelect(this,a):this.fireAction("select",[this,a],"doItemSelect")},doItemSelect:function(a,b){if(a.container){var c=a.container.getViewItems()[a.getStore().indexOf(b)];Ext.isElement(c)&&(c=Ext.get(c));c&&(c.removeCls(a.getPressedCls()),c.addCls(a.getSelectedCls()))}},onItemDeselect:function(a,b){this.container&&(b?this.doItemDeselect(this,a):this.fireAction("deselect",[this,a,b],"doItemDeselect"))},doItemDeselect:function(a,
b){var c=a.container.getViewItems()[a.getStore().indexOf(b)];Ext.isElement(c)&&(c=Ext.get(c));c&&c.removeCls([a.getPressedCls(),a.getSelectedCls()])},updateData:function(a){var b=this.getStore();b?b.add(a):this.setStore(Ext.create("Ext.data.Store",{data:a}))},applyStore:function(a){var b=Ext.apply({},this.storeEventHooks,{scope:this});if(a&&(a=Ext.data.StoreManager.lookup(a))&&Ext.isObject(a)&&a.isStore)if(a.on(b),b=a.getProxy())if(b=b.getReader())b.on("exception","handleException",this);return a},
handleException:function(){this.setMasked(!1)},updateStore:function(a,b){var c=Ext.apply({},this.storeEventHooks,{scope:this});if(b&&Ext.isObject(b)&&b.isStore)if(b.autoDestroy)b.destroy();else if(b.un(c),c=b.getProxy())(c=c.getReader())&&c.un("exception","handleException",this);if(a){if(a.isLoaded())this.hasLoadedStore=!0;if(a.isLoading())this.onBeforeLoad();this.container&&this.refresh()}},onBeforeLoad:function(){var a=this.getScrollable();a&&a.getScroller().stopAnimation();var b=this.getLoadingText();
b&&(this.setMasked({xtype:"loadmask",message:b}),a&&a.getScroller().setDisabled(!0));this.hideEmptyText()},updateEmptyText:function(a,b){var c;b&&this.emptyTextCmp&&(this.remove(this.emptyTextCmp,!0),delete this.emptyTextCmp);if(a)this.emptyTextCmp=this.add({xtype:"component",cls:this.getBaseCls()+"-emptytext",html:a,hidden:!0}),(c=this.getStore())&&this.hasLoadedStore&&!c.getCount()&&this.showEmptyText()},onLoad:function(a){var b=this.getScrollable();this.hasLoadedStore=!0;this.setMasked(!1);b&&
b.getScroller().setDisabled(!1);a.getCount()||this.showEmptyText()},refresh:function(){var a=this.container;this.getStore()?a&&this.fireAction("refresh",[this],"doRefresh"):!this.hasLoadedStore&&!this.getDeferEmptyText()&&this.showEmptyText()},applyItemTpl:function(a){return Ext.isObject(a)&&a.isTemplate?a:new Ext.XTemplate(a)},onAfterRender:function(){this.callParent(arguments);this.updateStore(this.getStore())},getViewItems:function(){return this.container.getViewItems()},doRefresh:function(a){var b=
a.container,c=a.getStore(),d=c.getRange(),e=b.getViewItems(),f=d.length,g=e.length,h=f-g,i=a.getScrollable();this.getScrollToTopOnRefresh()&&i&&i.getScroller().scrollToTop();if(f<1)a.onStoreClear();else{h<0?(b.moveItemsToCache(g+h,g-1),e=b.getViewItems(),g=e.length):h>0&&b.moveItemsFromCache(c.getRange(g));for(a=0;a<g;a++)c=e[a],b.updateListItem(d[a],c)}},showEmptyText:function(){this.getEmptyText()&&(this.hasLoadedStore||!this.getDeferEmptyText())&&this.emptyTextCmp.show()},hideEmptyText:function(){this.getEmptyText()&&
this.emptyTextCmp.hide()},onStoreClear:function(){var a=this.container,b=a.getViewItems();a.moveItemsToCache(0,b.length-1);this.showEmptyText()},onStoreAdd:function(a,b){b&&this.container.moveItemsFromCache(b)},onStoreRemove:function(a,b,c){var a=this.container,b=b.length,d;for(d=0;d<b;d++)a.moveItemsToCache(c[d],c[d])},onStoreUpdate:function(a,b,c,d){a=this.container;d=typeof d==="undefined"?c:d;d!==c?(a.moveItemsToCache(d,d),a.moveItemsFromCache([b])):a.updateListItem(b,a.getViewItems()[c])}},function(){Ext.deprecateMethod(this,
"collectData",null,"Ext.dataview.DataView.collectData() has been removed");Ext.deprecateMethod(this,"findItemByChild",null,"Ext.dataview.DataView.findItemByChild() has been removed");Ext.deprecateMethod(this,"findTargetByEvent",null,"Ext.dataview.DataView.findTargetByEvent() has been removed");Ext.deprecateMethod(this,"getNode",null,"Ext.dataview.DataView.getNode() has been removed");Ext.deprecateMethod(this,"getNodes",null,"Ext.dataview.DataView.getNodes() has been removed");Ext.deprecateMethod(this,
"getRecords",null,"Ext.dataview.DataView.getRecords() has been removed");Ext.deprecateMethod(this,"getSelectedNodes",null,"Ext.dataview.DataView.getSelectedNodes() has been removed");Ext.deprecateMethod(this,"getSelectedRecords",null,"Ext.dataview.DataView.getSelectedRecords() has been removed");Ext.deprecateMethod(this,"indexOf",null,"Ext.dataview.DataView.indexOf() has been removed");Ext.deprecateMethod(this,"refreshNode",null,"Ext.dataview.DataView.refreshNode() has been removed");Ext.deprecateClassMethod(this,
"bindStore","setStore");Ext.deprecateProperty(this,"blockRefresh",null,"Ext.dataview.DataView.blockRefresh has been removed");Ext.deprecateProperty(this,"itemSelector",null,"Ext.dataview.DataView.itemSelector has been removed");Ext.deprecateProperty(this,"multiSelect",null,"Ext.dataview.DataView.multiSelect has been removed");Ext.deprecateProperty(this,"overItemCls",null,"Ext.dataview.DataView.overItemCls has been removed");Ext.deprecateProperty(this,"selectedItemCls",null,"Ext.dataview.DataView.selectedItemCls has been removed");
Ext.deprecateProperty(this,"simpleSelect",null,"Ext.dataview.DataView.simpleSelect has been removed");Ext.deprecateProperty(this,"singleSelect",null,"Ext.dataview.DataView.singleSelect has been removed");Ext.deprecateProperty(this,"trackOver",null,"Ext.dataview.DataView.trackOver has been removed")});
Ext.define("Ext.dataview.List",{alternateClassName:"Ext.List",extend:"Ext.dataview.DataView",xtype:"list",requires:["Ext.dataview.element.List","Ext.dataview.IndexBar","Ext.dataview.ListItemHeader"],config:{indexBar:!1,icon:null,preventSelectionOnDisclose:!0,baseCls:Ext.baseCSSPrefix+"list",pinHeaders:!0,grouped:!1,onItemDisclosure:null,disclosureProperty:"disclosure",ui:"normal"},constructor:function(){this.translateHeader=Ext.os.is.Android2?this.translateHeaderCssPosition:this.translateHeaderTransform;
this.callParent(arguments)},onItemTrigger:function(a,b,c,d,e){(!this.getPreventSelectionOnDisclose()||!Ext.fly(e.target).hasCls(this.getBaseCls()+"-disclosure"))&&this.callParent(arguments)},initialize:function(){var a;this.on(this.getTriggerCtEvent(),this.onContainerTrigger,this);a=this.container=this.add(new Ext.dataview.element.List({baseCls:this.getBaseCls()}));a.dataview=this;this.on(this.getTriggerEvent(),this.onItemTrigger,this);a.element.on({delegate:"."+this.getBaseCls()+"-disclosure",tap:"handleItemDisclosure",
scope:this});a.on({itemtouchstart:"onItemTouchStart",itemtouchend:"onItemTouchEnd",itemtap:"onItemTap",itemtaphold:"onItemTapHold",itemtouchmove:"onItemTouchMove",itemsingletap:"onItemSingleTap",itemdoubletap:"onItemDoubleTap",itemswipe:"onItemSwipe",scope:this});this.getStore()&&this.refresh()},updateInline:function(a){this.callParent(arguments);a&&(this.setOnItemDisclosure(!1),this.setIndexBar(!1),this.setGrouped(!1))},applyIndexBar:function(a){return Ext.factory(a,Ext.dataview.IndexBar,this.getIndexBar())},
updateIndexBar:function(a){if(a&&this.getScrollable())this.indexBarElement=this.getScrollableBehavior().getScrollView().getElement().appendChild(a.renderElement),a.on({index:"onIndex",scope:this}),this.element.addCls(this.getBaseCls()+"-indexed")},updateGrouped:function(a){var b=this.getBaseCls(),c=b+"-grouped";b+="-ungrouped";a?(this.addCls(c),this.removeCls(b),this.doRefreshHeaders(),this.updatePinHeaders(this.getPinHeaders())):(this.addCls(b),this.removeCls(c),this.container&&this.container.doRemoveHeaders(),
this.updatePinHeaders(null))},updatePinHeaders:function(a){var b=this.getScrollable(),c;b&&(c=b.getScroller());b&&(a&&this.getGrouped()?(c.on({refresh:"doRefreshHeaders",scroll:"onScroll",scope:this}),(!this.header||!this.header.renderElement.dom)&&this.createHeader()):(c.un({refresh:"doRefreshHeaders",scroll:"onScroll",scope:this}),this.header&&this.header.destroy()))},createHeader:function(){var a,b=this.getScrollable(),c;if(b)b=b.getScroller(),a=this.getScrollableBehavior().getScrollView(),c=a.getElement(),
this.header=a=Ext.create("Ext.dataview.ListItemHeader",{html:" ",cls:"x-list-header-swap"}),c.dom.insertBefore(a.element.dom,b.getContainer().dom.nextSibling),this.translateHeader(1E3)},refresh:function(){this.callParent();this.doRefreshHeaders()},onStoreAdd:function(){this.callParent(arguments);this.doRefreshHeaders()},onStoreRemove:function(){this.callParent(arguments);this.doRefreshHeaders()},onStoreUpdate:function(){this.callParent(arguments);this.doRefreshHeaders()},onStoreClear:function(){this.callParent();
this.header&&this.header.destroy();this.doRefreshHeaders()},getClosestGroups:function(){var a=this.pinHeaderInfo.offsets,b=this.getScrollable(),c=a.length,d=0,e,f,g;if(b)b=b.getScroller().position;else return{current:0,next:0};for(;d<c;d++){e=a[d];if(e.offset>b.y){g=e;break}f=e}return{current:f,next:g}},doRefreshHeaders:function(){if(!this.getGrouped()||!this.container)return!1;var a=this.findGroupHeaderIndices(),b=a.length,c=this.container.getViewItems(),d=this.pinHeaderInfo={offsets:[]},e=d.offsets,
f=this.getScrollable(),g,h,i;if(b){for(g=0;g<b;g++)if(h=c[a[g]])i=this.getItemHeader(h),e.push({header:i,offset:h.offsetTop});d.closest=this.getClosestGroups();this.setActiveGroup(d.closest.current);if(i)d.headerHeight=Ext.fly(i).getHeight();if(f)a=f.getScroller(),b=a.position,this.onScroll(a,b.x,b.y)}},getItemHeader:function(a){return(a=Ext.fly(a).down(this.container.headerClsCache))?a.dom:null},onScroll:function(a,b,c){var a=this.pinHeaderInfo,b=a.closest,d=this.activeGroup,e=a.headerHeight,f,g;
if(b)if(f=b.next,g=b.current,(!this.header||!this.header.renderElement.dom)&&this.createHeader(),c<=0){if(d)this.setActiveGroup(!1),b.next=g;this.translateHeader(1E3)}else{if(f&&c>f.offset||g&&c<g.offset)b=a.closest=this.getClosestGroups(),f=b.next,g=b.current,this.setActiveGroup(g);f&&c>0&&f.offset-c<=e?this.translateHeader(e-(f.offset-c)):this.translateHeader(null)}},translateHeaderTransform:function(a){this.header.renderElement.dom.style.webkitTransform=a===null?null:"translate3d(0px, -"+a+"px, 0px)"},
translateHeaderCssPosition:function(a){this.header.renderElement.dom.style.top=a===null?null:"-"+Math.round(a)+"px"},setActiveGroup:function(a){var b=this.header;if(b)if(a&&a.header){if(!this.activeGroup||this.activeGroup.header!=a.header)b.show(),b.element&&b.setHtml(a.header.innerHTML)}else b&&b.element&&b.hide();this.activeGroup=a},onIndex:function(a,b){var c=b.toLowerCase(),d=this.getStore(),e=d.getGroups(),f=e.length,g=this.getScrollable(),h,i,j,k;if(g){h=this.getScrollable().getScroller();for(j=
0;j<f;j++)if(i=e[j],k=i.name.toLowerCase(),k==c||k>c)break;if(g&&i)c=this.container.getViewItems()[d.indexOf(i.children[0])],h.stopAnimation(),d=h.getContainerSize().y,d=h.getSize().y-d,h.scrollTo(0,c.offsetTop>d?d:c.offsetTop)}},applyOnItemDisclosure:function(a){return Ext.isFunction(a)?{scope:this,handler:a}:a},handleItemDisclosure:function(a){var b=a.getTarget().parentNode,c=this.container.getViewItems().indexOf(b);this.fireAction("disclose",[this,this.getStore().getAt(c),b,c,a],"doDisclose")},
doDisclose:function(a,b,c,d,e){var f=a.getOnItemDisclosure();f&&f.handler&&f.handler.call(a,b,c,d,e)},findGroupHeaderIndices:function(){if(!this.getGrouped())return[];var a=this.getStore();if(!a)return[];var b=this.container,c=a.getGroups(),d=c.length,e=b.getViewItems(),f=[],g=b.footerClsShortCache,h,i,j,k;b.doRemoveHeaders();b.doRemoveFooterCls();if(e.length){for(h=0;h<d;h++)i=c[h].children[0],j=a.indexOf(i),k=e[j],b.doAddHeader(k,a.getGroupString(i)),h&&Ext.fly(k.previousSibling).addCls(g),f.push(j);
b=c[--h].children;Ext.fly(e[a.indexOf(b[b.length-1])]).addCls(g)}return f},destroy:function(){Ext.destroy(this.getIndexBar(),this.indexBarElement,this.header);this.callParent()}});
Ext.define("Ext.data.Types",{singleton:!0,requires:["Ext.data.SortTypes"],stripRe:/[\$,%]/g,dashesRe:/-/g,iso8601TestRe:/\d\dT\d\d/,iso8601SplitRe:/[- :T\.Z\+]/},function(){var a=this,b=Ext.data.SortTypes;Ext.apply(a,{AUTO:{convert:function(a){return a},sortType:b.none,type:"auto"},STRING:{convert:function(a){return a===void 0||a===null?this.getAllowNull()?null:"":String(a)},sortType:b.asUCString,type:"string"},INT:{convert:function(b){return b!==void 0&&b!==null&&b!==""?typeof b==="number"?parseInt(b,
10):parseInt(String(b).replace(a.stripRe,""),10):this.getAllowNull()?null:0},sortType:b.none,type:"int"},FLOAT:{convert:function(b){return b!==void 0&&b!==null&&b!==""?typeof b==="number"?b:parseFloat(String(b).replace(a.stripRe,""),10):this.getAllowNull()?null:0},sortType:b.none,type:"float"},BOOL:{convert:function(a){return(a===void 0||a===null||a==="")&&this.getAllowNull()?null:a===!0||a==="true"||a==1},sortType:b.none,type:"bool"},DATE:{convert:function(b){var d=this.getDateFormat();if(!b)return null;
if(Ext.isDate(b))return b;if(d)return d=="timestamp"?new Date(b*1E3):d=="time"?new Date(parseInt(b,10)):Ext.Date.parse(b,d);d=new Date(Date.parse(b));isNaN(d)&&(a.iso8601TestRe.test(b)&&(d=b.split(a.iso8601SplitRe),d=new Date(d[0],d[1]-1,d[2],d[3],d[4],d[5])),isNaN(d)&&(d=new Date(Date.parse(b.replace(this.dashesRe,"/")))));return isNaN(d)?null:d},sortType:b.asDate,type:"date"}});Ext.apply(a,{BOOLEAN:this.BOOL,INTEGER:this.INT,NUMBER:this.FLOAT})});
Ext.define("Ext.data.Field",{requires:["Ext.data.Types","Ext.data.SortTypes"],alias:"data.field",isField:!0,config:{name:null,type:"auto",convert:void 0,dateFormat:null,allowNull:!0,defaultValue:void 0,mapping:null,sortType:void 0,sortDir:"ASC",allowBlank:!0,persist:!0,encode:null,decode:null},constructor:function(a){Ext.isString(a)&&(a={name:a});this.initConfig(a)},applyType:function(a){var b=Ext.data.Types,c=b.AUTO;return a?Ext.isString(a)?b[a.toUpperCase()]||c:a:c},updateType:function(a,b){var c=
this.getConvert();b&&c===b.convert&&this.setConvert(a.convert)},applySortType:function(a){var b=Ext.data.SortTypes,c=this.getType().sortType;return a?Ext.isString(a)?b[a]||c:a:c},applyConvert:function(a){var b=this.getType().convert;return a&&a!==b?(this._hasCustomConvert=!0,a):(this._hasCustomConvert=!1,b)},hasCustomConvert:function(){return this._hasCustomConvert}},function(){Ext.deprecateProperty(this,"useNull","allowNull")});
Ext.define("Ext.AbstractManager",{requires:["Ext.util.HashMap"],typeName:"type",constructor:function(a){Ext.apply(this,a||{});this.all=Ext.create("Ext.util.HashMap");this.types={}},get:function(a){return this.all.get(a)},register:function(a){this.all.add(a)},unregister:function(a){this.all.remove(a)},registerType:function(a,b){this.types[a]=b;b[this.typeName]=a},isRegistered:function(a){return this.types[a]!==void 0},create:function(a,b){return new this.types[a[this.typeName]||a.type||b](a)},onAvailable:function(a,
b,c){var d=this.all,e;if(d.containsKey(a))e=d.get(a),b.call(c||e,e);else d.on("add",function(e,g,h){g==a&&(b.call(c||h,h),d.un("add",b,c))})},each:function(a,b){this.all.each(a,b||this)},getCount:function(){return this.all.getCount()}});
Ext.define("Ext.data.ModelManager",{extend:"Ext.AbstractManager",alternateClassName:["Ext.ModelMgr","Ext.ModelManager"],singleton:!0,modelNamespace:null,registerType:function(a,b){var c=b.prototype;c&&c.isModel?c=b:(b={extend:b.extend||"Ext.data.Model",config:b},c=Ext.define(a,b));return this.types[a]=c},onModelDefined:Ext.emptyFn,getModel:function(a){typeof a=="string"&&(a=this.types[a],!a&&this.modelNamespace&&(a=this.types[this.modelNamespace+"."+a]));return a},create:function(a,b,c){return new (typeof b==
"function"?b:this.types[b||a.name])(a,c)}},function(){Ext.regModel=function(){return this.ModelManager.registerType.apply(this.ModelManager,arguments)}});Ext.define("Ext.Ajax",{extend:"Ext.data.Connection",singleton:!0,autoAbort:!1});
Ext.define("Ext.data.association.Association",{alternateClassName:"Ext.data.Association",requires:["Ext.data.ModelManager"],config:{ownerModel:null,ownerName:void 0,associatedModel:null,associatedName:void 0,associationKey:void 0,primaryKey:"id",reader:null,type:null,name:void 0},statics:{create:function(a){return!a.isAssociation?(Ext.isString(a)&&(a={type:a}),a.type=a.type.toLowerCase(),Ext.factory(a,Ext.data.association.Association,null,"association")):a}},constructor:function(a){this.initConfig(a)},
applyName:function(a){a||(a=this.getAssociatedName());return a},applyOwnerModel:function(a){var b=Ext.data.ModelManager.getModel(a);b===void 0&&Ext.Logger.error("The configured ownerModel was not valid (you tried "+a+")");return b},applyOwnerName:function(a){if(!a)a=this.getOwnerModel().modelName;return a=a.slice(a.lastIndexOf(".")+1)},updateOwnerModel:function(a,b){b&&this.setOwnerName(a.modelName)},applyAssociatedModel:function(a){var b=Ext.data.ModelManager.types[a];b===void 0&&Ext.Logger.error("The configured associatedModel was not valid (you tried "+
a+")");return b},applyAssociatedName:function(a){if(!a)a=this.getAssociatedModel().modelName;return a=a.slice(a.lastIndexOf(".")+1)},updateAssociatedModel:function(a,b){b&&this.setAssociatedName(a.modelName)},applyReader:function(a){a&&(Ext.isString(a)&&(a={type:a}),a.isReader||Ext.applyIf(a,{type:"json"}));return Ext.factory(a,Ext.data.Reader,this.getReader(),"reader")},updateReader:function(a){a.setModel(this.getAssociatedModel())},onClassExtended:function(a,b){var c=this.prototype.config,d=b.config||
{},e;for(e in c)e in b&&(d[e]=b[e],delete b[e]);b.config=d}});
Ext.define("Ext.data.association.HasMany",{extend:"Ext.data.association.Association",alternateClassName:"Ext.data.HasManyAssociation",requires:["Ext.util.Inflector"],alias:"association.hasmany",config:{foreignKey:void 0,store:void 0,storeName:void 0,filterProperty:null,autoLoad:!1},constructor:function(a){a=a||{};if(a.storeConfig)a.store=a.storeConfig,delete a.storeConfig;this.callParent([a])},applyName:function(a){a||(a=Ext.util.Inflector.pluralize(this.getAssociatedName().toLowerCase()));return a},
applyStoreName:function(a){a||(a=this.getName()+"Store");return a},applyForeignKey:function(a){a||(a=(a=this.getInverseAssociation())?a.getForeignKey():this.getOwnerName().toLowerCase()+"_id");return a},applyAssociationKey:function(a){a||(a=this.getAssociatedName(),a=Ext.util.Inflector.pluralize(a[0].toLowerCase()+a.slice(1)));return a},updateForeignKey:function(a,b){var c=this.getAssociatedModel().getFields(),d=c.get(a);if(!d)d=new Ext.data.Field({name:a}),c.add(d),c.isDirty=!0;if(b&&(d=c.get(b)))c.remove(d),
c.isDirty=!0},applyStore:function(a){var b=this,c=this.getAssociatedModel(),d=this.getStoreName(),e=this.getForeignKey(),f=this.getPrimaryKey(),g=this.getFilterProperty(),h=this.getAutoLoad();return function(){var i=this,j,k={};i[d]===void 0&&(j=g?{property:g,value:i.get(g),exactMatch:!0}:{property:e,value:i.get(f),exactMatch:!0},k[e]=i.get(f),j=Ext.apply({},a,{model:c,filters:[j],remoteFilter:!0,modelDefaults:k}),i[d]=Ext.create("Ext.data.Store",j),h&&i[d].load(function(){b.updateInverseInstances(i)}));
return i[d]}},updateStore:function(a){this.getOwnerModel().prototype[this.getName()]=a},read:function(a,b,c){var d=a[this.getName()](),b=b.read(c).getRecords();d.add(b);this.updateInverseInstances(a)},updateInverseInstances:function(a){var b=a[this.getName()](),c=this.getInverseAssociation();c&&b.each(function(b){b[c.getInstanceName()]=a})},getInverseAssociation:function(){var a=this.getOwnerModel().modelName;return this.getAssociatedModel().associations.findBy(function(b){return b.getType().toLowerCase()===
"belongsto"&&b.getAssociatedModel().modelName===a})}},function(){Ext.deprecateProperty(this,"storeConfig","store")});
Ext.define("Ext.data.association.BelongsTo",{extend:"Ext.data.association.Association",alternateClassName:"Ext.data.BelongsToAssociation",alias:"association.belongsto",config:{foreignKey:void 0,getterName:void 0,setterName:void 0,instanceName:void 0},applyForeignKey:function(a){a||(a=this.getAssociatedName().toLowerCase()+"_id");return a},updateForeignKey:function(a,b){var c=this.getOwnerModel().getFields(),d=c.get(a);if(!d)d=new Ext.data.Field({name:a}),c.add(d),c.isDirty=!0;if(b&&(d=c.get(b)))c.isDirty=
!0,c.remove(d)},applyInstanceName:function(a){a||(a=this.getAssociatedName()+"BelongsToInstance");return a},applyAssociationKey:function(a){a||(a=this.getAssociatedName(),a=a[0].toLowerCase()+a.slice(1));return a},applyGetterName:function(a){a||(a=this.getAssociatedName(),a="get"+a[0].toUpperCase()+a.slice(1));return a},applySetterName:function(a){a||(a=this.getAssociatedName(),a="set"+a[0].toUpperCase()+a.slice(1));return a},updateGetterName:function(a,b){var c=this.getOwnerModel().prototype;b&&
delete c[b];a&&(c[a]=this.createGetter())},updateSetterName:function(a,b){var c=this.getOwnerModel().prototype;b&&delete c[b];a&&(c[a]=this.createSetter())},createSetter:function(){var a=this,b=a.getForeignKey();return function(c,d,e){var f=a.getInverseAssociation();c&&c.isModel&&(c=c.getId());this.set(b,c);Ext.isFunction(d)&&(d={callback:d,scope:e||this});f&&(c=Ext.data.Model.cache.get(Ext.data.Model.generateCacheId(f.getOwnerModel().modelName,c)))&&(f.getType().toLowerCase()==="hasmany"?c[f.getName()]().add(this):
c[f.getInstanceName()]=this);if(Ext.isObject(d))return this.save(d)}},createGetter:function(){var a=this.getAssociatedModel(),b=this.getForeignKey(),c=this.getInstanceName();return function(d,e){var d=d||{},f=this,g=f.get(b),h,i;i=f[c];i||(i=Ext.data.Model.cache.get(Ext.data.Model.generateCacheId(a.modelName,g)))&&(f[c]=i);if(d.reload===!0||i===void 0)typeof d=="function"&&(d={callback:d,scope:e||f}),h=d.success,d.success=function(a){f[c]=a;h&&h.call(this,arguments)},a.load(g,d);else return g=[i],
e=e||f,Ext.callback(d,e,g),Ext.callback(d.success,e,g),Ext.callback(d.failure,e,g),Ext.callback(d.callback,e,g),i}},read:function(a,b,c){a[this.getInstanceName()]=b.read([c]).getRecords()[0]},getInverseAssociation:function(){var a=this.getOwnerModel().modelName,b=this.getForeignKey();return this.getAssociatedModel().associations.findBy(function(c){var d=c.getType().toLowerCase();return(d==="hasmany"||d==="hasone")&&c.getAssociatedModel().modelName===a&&c.getForeignKey()===b})}});
Ext.define("Ext.data.association.HasOne",{extend:"Ext.data.association.Association",alternateClassName:"Ext.data.HasOneAssociation",alias:"association.hasone",config:{foreignKey:void 0,getterName:void 0,setterName:void 0,instanceName:void 0},applyForeignKey:function(a){a||(a=(a=this.getInverseAssociation())?a.getForeignKey():this.getOwnerName().toLowerCase()+"_id");return a},updateForeignKey:function(a,b){var c=this.getAssociatedModel().getFields(),d=c.get(a);if(!d)d=new Ext.data.Field({name:a}),
c.add(d),c.isDirty=!0;if(b&&(d=c.get(b)))c.remove(d),c.isDirty=!0},applyInstanceName:function(a){a||(a=this.getAssociatedName()+"BelongsToInstance");return a},applyAssociationKey:function(a){a||(a=this.getAssociatedName(),a=a[0].toLowerCase()+a.slice(1));return a},applyGetterName:function(a){a||(a=this.getAssociatedName(),a="get"+a[0].toUpperCase()+a.slice(1));return a},applySetterName:function(a){a||(a=this.getAssociatedName(),a="set"+a[0].toUpperCase()+a.slice(1));return a},updateGetterName:function(a,
b){var c=this.getOwnerModel().prototype;b&&delete c[b];a&&(c[a]=this.createGetter())},updateSetterName:function(a,b){var c=this.getOwnerModel().prototype;b&&delete c[b];a&&(c[a]=this.createSetter())},createSetter:function(){var a=this.getForeignKey(),b=this.getInstanceName(),c=this.getAssociatedModel();return function(d,e,f){var g=Ext.data.Model;d&&d.isModel&&(d=d.getId());this.set(a,d);(d=g.cache.get(g.generateCacheId(c.modelName,d)))&&(this[b]=d);Ext.isFunction(e)&&(e={callback:e,scope:f||this});
if(Ext.isObject(e))return this.save(e)}},createGetter:function(){var a=this.getAssociatedModel(),b=this.getForeignKey(),c=this.getInstanceName();return function(d,e){var d=d||{},f=this,g=f.get(b),h,i;if(d.reload===!0||f[c]===void 0)typeof d=="function"&&(d={callback:d,scope:e||f}),h=d.success,d.success=function(a){f[c]=a;h&&h.call(this,arguments)},a.load(g,d);else return g=f[c],i=[g],e=e||f,Ext.callback(d,e,i),Ext.callback(d.success,e,i),Ext.callback(d.failure,e,i),Ext.callback(d.callback,e,i),g}},
read:function(a,b,c){var d=this.getInverseAssociation(),b=b.read([c]).getRecords()[0];a[this.getInstanceName()]=b;d&&(b[d.getInstanceName()]=a)},getInverseAssociation:function(){var a=this.getOwnerModel().modelName;return this.getAssociatedModel().associations.findBy(function(b){return b.getType().toLowerCase()==="belongsto"&&b.getAssociatedModel().modelName===a})}});
Ext.define("Ext.data.writer.Json",{extend:"Ext.data.writer.Writer",alternateClassName:"Ext.data.JsonWriter",alias:"writer.json",config:{root:void 0,encode:!1,allowSingle:!0,encodeRequest:!1},applyRoot:function(a){if(!a&&(this.getEncode()||this.getEncodeRequest()))a="data";return a},writeRecords:function(a,b){var c=this.getRoot(),d=a.getParams(),e=this.getAllowSingle(),f;this.getAllowSingle()&&b&&b.length==1&&(b=b[0]);if(this.getEncodeRequest()){f=a.getJsonData()||{};if(b&&(b.length||e&&Ext.isObject(b)))f[c]=
b;a.setJsonData(Ext.apply(f,d||{}));a.setParams(null);a.setMethod("POST");return a}if(!b||!(b.length||e&&Ext.isObject(b)))return a;this.getEncode()?c&&(d[c]=Ext.encode(b)):(f=a.getJsonData()||{},c?f[c]=b:f=b,a.setJsonData(f));return a}});
Ext.define("Ext.data.reader.Reader",{requires:["Ext.data.ResultSet"],alternateClassName:["Ext.data.Reader","Ext.data.DataReader"],mixins:["Ext.mixin.Observable"],isReader:!0,config:{idProperty:void 0,clientIdProperty:"clientId",totalProperty:"total",successProperty:"success",messageProperty:null,rootProperty:"",implicitIncludes:!0,model:void 0},constructor:function(a){this.initConfig(a)},fieldCount:0,applyModel:function(a){typeof a=="string"&&((a=Ext.data.ModelManager.getModel(a))||Ext.Logger.error("Model with name "+
a+" doesnt exist."));a&&!a.prototype.isModel&&Ext.isObject(a)&&(a=Ext.data.ModelManager.registerType(a.storeId||a.id||Ext.id(),a));return a},applyIdProperty:function(a){!a&&this.getModel()&&(a=this.getModel().getIdProperty());return a},updateModel:function(a){a&&(this.getIdProperty()||this.setIdProperty(a.getIdProperty()),this.buildExtractors())},createAccessor:Ext.emptyFn,createFieldAccessExpression:function(){return"undefined"},buildExtractors:function(){if(this.getModel()){var a=this.getTotalProperty(),
b=this.getSuccessProperty(),c=this.getMessageProperty();if(a)this.getTotal=this.createAccessor(a);if(b)this.getSuccess=this.createAccessor(b);if(c)this.getMessage=this.createAccessor(c);this.extractRecordData=this.buildRecordDataExtractor()}},buildRecordDataExtractor:function(){var a=this.getModel(),b=a.getFields(),c=b.length,d=[],e=this.getModel().getClientIdProperty(),f='var me = this,\n;    fields = me.getModel().getFields(),\n;    idProperty = me.getIdProperty(),\n;    idPropertyIsFn = (typeof idProperty == "function"),;    value,\n;    internalId'.split(";"),
g,h,i,j,b=b.items;for(g=0;g<c;g++)h=b[g],j=h.getName(),d[g]=j===a.getIdProperty()?"idField":"__field"+g,f.push(",\n    ",d[g],' = fields.get("',h.getName(),'")');f.push(";\n\n    return function(source) {\n        var dest = {};\n");f.push("        if (idPropertyIsFn) {\n");f.push("            idField.setMapping(idProperty);\n");f.push("        }\n");for(g=0;g<c;g++)h=b[g],i=d[g],j=h.getName(),j===a.getIdProperty()&&h.getMapping()===null&&a.getIdProperty()!==this.getIdProperty()&&h.setMapping(this.getIdProperty()),
f.push("        try {\n"),f.push("            value = ",this.createFieldAccessExpression(h,i,"source"),";\n"),f.push("            if (value !== undefined) {\n"),f.push('                dest["'+h.getName()+'"] = value;\n'),f.push("            }\n"),f.push("        } catch(e){}\n");e&&(f.push("        internalId = "+this.createFieldAccessExpression(Ext.create("Ext.data.Field",{name:e}),null,"source")+";\n"),f.push("        if (internalId !== undefined) {\n"),f.push('            dest["_clientId"] = internalId;\n        }\n'));
f.push("        return dest;\n");f.push("    };");return Ext.functionFactory(f.join("")).call(this)},getFields:function(){return this.getModel().getFields().items},getData:function(a){return a},getResponseData:function(a){return a},getRoot:function(a){return a},read:function(a){var b=a,c=this.getModel(),d,e,f;a&&(b=this.getResponseData(a));if(b){a=this.readRecords(b);b=a.getRecords();for(d=0,e=b.length;d<e;d++)f=b[d],b[d]=new c(f.data,f.id,f.node);return a}else return this.nullResultSet},process:function(a){var b=
a;a&&(b=this.getResponseData(a));return b?this.readRecords(b):this.nullResultSet},readRecords:function(a){this.rawData=a;a=this.getData(a);if(a.metaData)this.onMetaChange(a.metaData);var b=Ext.isArray(a)?a:this.getRoot(a),c=!0,d=0,e,f;this.getTotalProperty()&&(d=parseInt(this.getTotal(a),10),isNaN(d)||(e=d));if(this.getSuccessProperty()&&(d=this.getSuccess(a),d===!1||d==="false"))c=!1;this.getMessageProperty()&&(f=this.getMessage(a));b?(a=this.extractData(b),d=a.length):(d=0,a=[]);return new Ext.data.ResultSet({total:e,
count:d,records:a,success:c,message:f})},extractData:function(a){var b=[],c=a.length,d=this.getModel(),e=d.getIdProperty(),d=d.getFields(),f,g,h,i;d.isDirty&&(this.buildExtractors(!0),delete d.isDirty);!a.length&&Ext.isObject(a)&&(a=[a],c=1);for(f=0;f<c;f++){h=i=null;d=a[f];g=d.isModel?d.data:this.extractRecordData(d);if(g._clientId!==void 0)i=g._clientId,delete g._clientId;g[e]!==void 0&&(h=g[e]);this.getImplicitIncludes()&&this.readAssociated(g,d);b.push({clientId:i,id:h,data:g,node:d})}return b},
readAssociated:function(a,b){for(var c=this.getModel().associations.items,d=0,e=c.length,f,g;d<e;d++)f=c[d],g=f.getAssociationKey(),(f=this.getAssociatedDataRoot(b,g))&&(a[g]=f)},getAssociatedDataRoot:function(a,b){return a[b]},onMetaChange:function(a){var b=a.fields;this.metaData=a;a.rootProperty!==void 0?this.setRootProperty(a.rootProperty):a.root!==void 0&&this.setRootProperty(a.root);a.idProperty!==void 0&&this.setIdProperty(a.idProperty);a.totalProperty!==void 0&&this.setTotalProperty(a.totalProperty);
a.successProperty!==void 0&&this.setSuccessProperty(a.successProperty);a.messageProperty!==void 0&&this.setMessageProperty(a.messageProperty);if(b)if(this.getModel())this.getModel().setFields(b),this.buildExtractors();else{a=this.getIdProperty();b={fields:b};if(a)b.idProperty=a;b=Ext.define("Ext.data.reader.MetaModel"+Ext.id(),{extend:"Ext.data.Model",config:b});this.setModel(b)}else this.buildExtractors()},onClassExtended:function(a,b){var c=this.prototype.config,d=b.config||{},e;for(e in c)e in
b&&(d[e]=b[e],delete b[e]);b.config=d}},function(){Ext.apply(this.prototype,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:!1})});this.override({constructor:function(a){a=a||{};if(a.root)a.rootProperty=a.root,delete a.root;this.callOverridden([a])}})});
Ext.define("Ext.data.reader.Json",{extend:"Ext.data.reader.Reader",alternateClassName:"Ext.data.JsonReader",alias:"reader.json",config:{record:null,useSimpleAccessors:!1},objectRe:/[\[\.]/,getResponseData:function(a){var b=a;if(a&&a.responseText)b=a.responseText;if(typeof b!=="string")return b;var c;try{c=Ext.decode(b)}catch(d){this.fireEvent("exception",this,a,"Unable to parse the JSON returned by the server: "+d.toString()),Ext.Logger.warn("Unable to parse the JSON returned by the server: "+d.toString())}return c},
buildExtractors:function(){var a=this.getRootProperty();this.callParent(arguments);a?this.rootAccessor=this.createAccessor(a):delete this.rootAccessor},getRoot:function(a){var b=this.getModel().getFields();b.isDirty&&(this.buildExtractors(!0),delete b.isDirty);return this.rootAccessor?this.rootAccessor.call(this,a):a},extractData:function(a){var b=this.getRecord(),c=[],d,e;if(b){d=a.length;!d&&Ext.isObject(a)&&(d=1,a=[a]);for(e=0;e<d;e++)c[e]=a[e][b]}else c=a;return this.callParent([c])},createAccessor:function(){var a=
/[\[\.]/;return function(b){if(Ext.isEmpty(b))return Ext.emptyFn;if(Ext.isFunction(b))return b;if(this.getUseSimpleAccessors()!==!0){var c=String(b).search(a);if(c>=0)return Ext.functionFactory("obj","var value; try {value = obj"+(c>0?".":"")+b+"} catch(e) {}; return value;")}return function(a){return a[b]}}}(),createFieldAccessExpression:function(a,b,c){var d=this.objectRe,e=a.getMapping()!==null,a=e?a.getMapping():a.getName(),f;if(typeof a==="function")b=b+".getMapping()("+c+", this)";else if(this.getUseSimpleAccessors()===
!0||(f=String(a).search(d))<0){if(!e||isNaN(a))a='"'+a+'"';b=c+"["+a+"]"}else b=c+(f>0?".":"")+a;return b}});
Ext.define("Ext.data.proxy.Proxy",{extend:"Ext.Evented",alias:"proxy.proxy",alternateClassName:["Ext.data.DataProxy","Ext.data.Proxy"],requires:["Ext.data.reader.Json","Ext.data.writer.Json","Ext.data.Batch","Ext.data.Operation"],config:{batchOrder:"create,update,destroy",batchActions:!0,model:null,reader:{type:"json"},writer:{type:"json"}},isProxy:!0,applyModel:function(a){typeof a=="string"&&((a=Ext.data.ModelManager.getModel(a))||Ext.Logger.error("Model with name "+a+" doesnt exist."));a&&!a.prototype.isModel&&
Ext.isObject(a)&&(a=Ext.data.ModelManager.registerType(a.storeId||a.id||Ext.id(),a));return a},updateModel:function(a){if(a){var b=this.getReader();b&&!b.getModel()&&b.setModel(a)}},applyReader:function(a,b){return Ext.factory(a,Ext.data.Reader,b,"reader")},updateReader:function(a){if(a){var b=this.getModel();b?a.setModel(b):(b=a.getModel())&&this.setModel(b);if(a.onMetaChange)a.onMetaChange=Ext.Function.createSequence(a.onMetaChange,this.onMetaChange,this)}},onMetaChange:function(a){var b=this.getReader().getModel();
!this.getModel()&&b&&this.setModel(b);this.fireEvent("metachange",this,a)},applyWriter:function(a,b){return Ext.factory(a,Ext.data.Writer,b,"writer")},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,destroy:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.getReader(),this.getWriter())},batch:function(a,b){var c=this.getBatchActions(),d=this.getModel(),e,f;a.operations===void 0&&(a={operations:a,batch:{listeners:b}});a.batch?a.batch.isBatch?a.batch.setProxy(this):a.batch.proxy=this:a.batch=
{proxy:this,listeners:a.listeners||{}};e||(e=new Ext.data.Batch(a.batch));e.on("complete",Ext.bind(this.onBatchComplete,this,[a],0));Ext.each(this.getBatchOrder().split(","),function(b){(f=a.operations[b])&&(c?e.add(new Ext.data.Operation({action:b,records:f,model:d})):Ext.each(f,function(a){e.add(new Ext.data.Operation({action:b,records:[a],model:d}))}))},this);e.start();return e},onBatchComplete:function(a,b){var c=a.scope||this;b.hasException?Ext.isFunction(a.failure)&&Ext.callback(a.failure,c,
[b,a]):Ext.isFunction(a.success)&&Ext.callback(a.success,c,[b,a]);Ext.isFunction(a.callback)&&Ext.callback(a.callback,c,[b,a])},onClassExtended:function(a,b){var c=this.prototype.config,d=b.config||{},e;for(e in c)e!="control"&&e in b&&(d[e]=b[e],delete b[e]);b.config=d}},function(){});Ext.define("Ext.data.proxy.Client",{extend:"Ext.data.proxy.Proxy",alternateClassName:"Ext.proxy.ClientProxy",clear:function(){}});
Ext.define("Ext.data.proxy.Memory",{extend:"Ext.data.proxy.Client",alias:"proxy.memory",alternateClassName:"Ext.data.MemoryProxy",isMemoryProxy:!0,config:{data:[]},finishOperation:function(a,b,c){if(a){for(var d=0,e=a.getRecords(),f=e.length;d<f;d++)e[d].commit();a.setSuccessful();Ext.callback(b,c||this,[a])}},create:function(){this.finishOperation.apply(this,arguments)},update:function(){this.finishOperation.apply(this,arguments)},destroy:function(){this.finishOperation.apply(this,arguments)},read:function(a,
b,c){var d=this.getReader();a.process("read",d.process(this.getData()))===!1&&this.fireEvent("exception",this,null,a);Ext.callback(b,c||this,[a])},clear:Ext.emptyFn});
Ext.define("Ext.data.proxy.Server",{extend:"Ext.data.proxy.Proxy",alias:"proxy.server",alternateClassName:"Ext.data.ServerProxy",requires:["Ext.data.Request"],config:{url:null,pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",sortParam:"sort",filterParam:"filter",directionParam:"dir",enablePagingParams:!0,simpleSortMode:!1,noCache:!0,cacheString:"_dc",timeout:3E4,api:{create:void 0,read:void 0,update:void 0,destroy:void 0},extraParams:{}},constructor:function(a){a=a||{};if(a.nocache!==
void 0)a.noCache=a.nocache;this.callParent([a])},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},destroy:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(a,b){this.getExtraParams()[a]=b},buildRequest:function(a){var b=Ext.applyIf(a.getParams()||{},this.getExtraParams()||{}),b=Ext.applyIf(b,this.getParams(a)),b=Ext.create("Ext.data.Request",
{params:b,action:a.getAction(),records:a.getRecords(),url:a.getUrl(),operation:a,proxy:this});b.setUrl(this.buildUrl(b));a.setRequest(b);return b},processResponse:function(a,b,c,d,e,f){var g=b.getAction(),h,i;if(a===!0){h=this.getReader();try{i=h.process(d)}catch(j){b.setException(j.message);this.fireEvent("exception",this,d,b);return}b.getModel()||b.setModel(this.getModel());b.process(g,i,c,d)===!1&&this.fireEvent("exception",this,d,b)}else this.setException(b,d),this.fireEvent("exception",this,
d,b);typeof e=="function"&&e.call(f||this,b);this.afterRequest(c,a)},setException:function(a,b){a.setException({status:b.status,statusText:b.statusText})},applyEncoding:function(a){return Ext.encode(a)},encodeSorters:function(a){for(var b=[],c=a.length,d=0;d<c;d++)b[d]={property:a[d].getProperty(),direction:a[d].getDirection()};return this.applyEncoding(b)},encodeFilters:function(a){for(var b=[],c=a.length,d=0;d<c;d++)b[d]={property:a[d].getProperty(),value:a[d].getValue()};return this.applyEncoding(b)},
getParams:function(a){var b={},c=a.getGrouper(),d=a.getSorters(),e=a.getFilters(),f=a.getPage(),g=a.getStart(),a=a.getLimit(),h=this.getSimpleSortMode(),i=this.getPageParam(),j=this.getStartParam(),k=this.getLimitParam(),l=this.getGroupParam(),m=this.getSortParam(),q=this.getFilterParam(),o=this.getDirectionParam();this.getEnablePagingParams()&&(i&&f!==null&&(b[i]=f),j&&g!==null&&(b[j]=g),k&&a!==null&&(b[k]=a));l&&c&&(b[l]=this.encodeSorters([c]));m&&d&&d.length>0&&(h?(b[m]=d[0].getProperty(),b[o]=
d[0].getDirection()):b[m]=this.encodeSorters(d));q&&e&&e.length>0&&(b[q]=this.encodeFilters(e));return b},buildUrl:function(a){a=this.getUrl(a);this.getNoCache()&&(a=Ext.urlAppend(a,Ext.String.format("{0}={1}",this.getCacheString(),Ext.Date.now())));return a},getUrl:function(a){return a?a.getUrl()||this.getApi()[a.getAction()]||this._url:this._url},doRequest:function(){},afterRequest:Ext.emptyFn});
Ext.define("Ext.data.proxy.Ajax",{extend:"Ext.data.proxy.Server",requires:["Ext.util.MixedCollection","Ext.Ajax"],alias:"proxy.ajax",alternateClassName:["Ext.data.HttpProxy","Ext.data.AjaxProxy"],config:{actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},headers:{},withCredentials:!1},doRequest:function(a,b,c){var d=this.getWriter(),e=this.buildRequest(a);e.setConfig({headers:this.getHeaders(),timeout:this.getTimeout(),method:this.getMethod(e),callback:this.createRequestCallback(e,
a,b,c),scope:this});(a.getWithCredentials()||this.getWithCredentials())&&e.setWithCredentials(!0);e=d.write(e);Ext.Ajax.request(e.getCurrentConfig());return e},getMethod:function(a){return this.getActionMethods()[a.getAction()]},createRequestCallback:function(a,b,c,d){var e=this;return function(f,g,h){e.processResponse(g,b,a,h,c,d)}}});
Ext.define("Ext.data.Model",{alternateClassName:"Ext.data.Record",mixins:{observable:"Ext.mixin.Observable"},isModel:!0,requires:"Ext.util.Collection,Ext.data.Field,Ext.data.identifier.Simple,Ext.data.ModelManager,Ext.data.proxy.Ajax,Ext.data.association.HasMany,Ext.data.association.BelongsTo,Ext.data.association.HasOne,Ext.data.Errors".split(","),config:{idProperty:"id",data:null,fields:void 0,validations:null,associations:null,hasMany:null,hasOne:null,belongsTo:null,proxy:null,identifier:{type:"simple"},
clientIdProperty:"clientId",isErased:!1},staticConfigs:"idProperty,fields,validations,associations,hasMany,hasOne,belongsTo,clientIdProperty,identifier,proxy".split(","),statics:{EDIT:"edit",REJECT:"reject",COMMIT:"commit",generateProxyMethod:function(a){return function(){var b=this.prototype;return b[a].apply(b,arguments)}},generateCacheId:function(a,b){var c;a&&a.isModel?(c=a.modelName,b===void 0&&(b=a.getId())):c=a;return c.replace(/\./g,"-").toLowerCase()+"-"+b}},inheritableStatics:{load:function(a,
b,c){var d=this.getProxy(),e=this.getIdProperty(),f=null,g={},c=c||b&&b.scope||this;Ext.isFunction(b)&&(b={callback:b,scope:c});g[e]=a;b=Ext.apply({},b);b=Ext.applyIf(b,{action:"read",params:g,model:this});a=Ext.create("Ext.data.Operation",b);d||Ext.Logger.error("You are trying to load a model that doesn't have a Proxy specified");d.read(a,function(a){a.wasSuccessful()?(f=a.getRecords()[0],Ext.callback(b.success,c,[f,a])):Ext.callback(b.failure,c,[f,a]);Ext.callback(b.callback,c,[f,a])},this)}},editing:!1,
dirty:!1,phantom:!1,constructor:function(a,b,c,d){var e=null,f=this.getIdProperty();this.modified={};this.raw=c||a||{};this.stores=[];a=a||d||{};if(b||b===0)a[f]=this.internalId=b;if((b=this.data[f])||b===0)if(e=Ext.data.Model.cache.get(Ext.data.Model.generateCacheId(this,b)))return e.mergeData(d||a||{});d?this.setConvertedData(a):this.setData(a);b=this.data[f];!b&&b!==0?(this.data[f]=this.internalId=this.id=this.getIdentifier().generate(this),this.phantom=!0,this.associations.length&&this.handleInlineAssociationData(a)):
this.id=this.getIdentifier().generate(this);Ext.data.Model.cache.add(this);this.init&&typeof this.init=="function"&&this.init()},mergeData:function(a){var b=this.getFields().items,c=b.length,d=this.data,e,f,g,h,i;for(e=0;e<c;e++)f=b[e],g=f.getName(),i=f.getConvert(),h=a[g],h!==void 0&&!this.isModified(g)&&(i&&(h=i.call(f,h,this)),d[g]=h);return this},setData:function(a){var b=this.fields.items,c=b.length,d=Ext.isArray(a),e=this._data=this.data={},f,g,h,i,j;if(!a)return this;for(f=0;f<c;f++)g=b[f],
h=g.getName(),j=g.getConvert(),d?i=a[f]:(i=a[h],typeof i=="undefined"&&(i=g.getDefaultValue())),j&&(i=j.call(g,i,this)),e[h]=i;b=this.getId();this.associations.length&&(b||b===0)&&this.handleInlineAssociationData(a);return this},handleInlineAssociationData:function(a){var b=this.associations.items,c=b.length,d,e,f,g;for(d=0;d<c;d++)if(e=b[d],f=e.getAssociationKey(),f=a[f])g=e.getReader(),g||(g=(g=e.getAssociatedModel().getProxy())?g.getReader():new Ext.data.JsonReader({model:e.getAssociatedModel()})),
e.read(this,g,f)},setId:function(a){var b=this.getId();this.set(this.getIdProperty(),a);this.internalId=a;Ext.data.Model.cache.replace(b,this)},getId:function(){return this.get(this.getIdProperty())},setConvertedData:function(a){this._data=this.data=a;return this},get:function(a){return this.data[a]},set:function(a,b){var c=this.fields.map,d=this.modified,e=!this.editing,f=0,g=[],h,i;if(arguments.length==1){for(i in a)a.hasOwnProperty(i)&&((h=c[i])&&h.hasCustomConvert()?g.push(i):(!f&&e&&this.beginEdit(),
++f,this.set(i,a[i])));if(i=g.length){!f&&e&&this.beginEdit();f+=i;for(d=0;d<i;d++)h=g[d],this.set(h,a[h])}e&&f&&this.endEdit(!1,g)}else{(f=(h=c[a])&&h.getConvert())&&(b=f.call(h,b,this));f=this.data[a];this.data[a]=b;if(h&&!this.isEqual(f,b))if(d.hasOwnProperty(a)){if(this.isEqual(d[a],b))for(i in delete d[a],this.dirty=!1,d)if(d.hasOwnProperty(i)){this.dirty=!0;break}}else this.dirty=!0,d[a]=f;e&&this.afterEdit([a],d)}},isEqual:function(a,b){return Ext.isDate(a)&&Ext.isDate(b)?a.getTime()===b.getTime():
a===b},beginEdit:function(){if(!this.editing)this.editing=!0,this.dirtySave=this.dirty,this.dataSave=Ext.apply({},this.data),this.modifiedSave=Ext.apply({},this.modified)},cancelEdit:function(){if(this.editing)this.editing=!1,this.modified=this.modifiedSave,this.data=this.dataSave,this.dirty=this.dirtySave,delete this.modifiedSave,delete this.dataSave,delete this.dirtySave},endEdit:function(a,b){if(this.editing)this.editing=!1,a!==!0&&this.changedWhileEditing()&&this.afterEdit(b||Ext.Object.getKeys(this.modified),
this.modified),delete this.modifiedSave,delete this.dataSave,delete this.dirtySave},changedWhileEditing:function(){var a=this.dataSave,b=this.data,c;for(c in b)if(b.hasOwnProperty(c)&&!this.isEqual(b[c],a[c]))return!0;return!1},getChanges:function(){var a=this.modified,b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=this.get(c));return b},isModified:function(a){return this.modified.hasOwnProperty(a)},save:function(a,b){var c=this,d=c.phantom?"create":"update",e=c.getProxy(),f;e||Ext.Logger.error("You are trying to save a model instance that doesn't have a Proxy specified");
a=a||{};b=b||c;Ext.isFunction(a)&&(a={callback:a,scope:b});Ext.applyIf(a,{records:[c],action:d,model:c.self});f=Ext.create("Ext.data.Operation",a);e[d](f,function(d){d.wasSuccessful()?Ext.callback(a.success,b,[c,d]):Ext.callback(a.failure,b,[c,d]);Ext.callback(a.callback,b,[c,d])},c);return c},erase:function(a,b){var c=this,d=this.getProxy(),e;d||Ext.Logger.error("You are trying to erase a model instance that doesn't have a Proxy specified");a=a||{};b=b||c;Ext.isFunction(a)&&(a={callback:a,scope:b});
Ext.applyIf(a,{records:[c],action:"destroy",model:this.self});e=Ext.create("Ext.data.Operation",a);d.destroy(e,function(d){d.wasSuccessful()?Ext.callback(a.success,b,[c,d]):Ext.callback(a.failure,b,[c,d]);Ext.callback(a.callback,b,[c,d])},c);return c},reject:function(a){var b=this.modified,c;for(c in b)b.hasOwnProperty(c)&&typeof b[c]!="function"&&(this.data[c]=b[c]);this.editing=this.dirty=!1;this.modified={};a!==!0&&this.afterReject()},commit:function(a){var b=this.modified;this.phantom=this.dirty=
this.editing=!1;this.modified={};a!==!0&&this.afterCommit(b)},afterEdit:function(a,b){this.notifyStores("afterEdit",a,b)},afterReject:function(){this.notifyStores("afterReject")},afterCommit:function(a){this.notifyStores("afterCommit",Ext.Object.getKeys(a||{}),a)},notifyStores:function(a){var b=Ext.Array.clone(arguments),c=this.stores,d=c.length,e,f;b[0]=this;for(e=0;e<d;++e)f=c[e],f!==void 0&&typeof f[a]=="function"&&f[a].apply(f,b)},copy:function(a){var b=this.getIdProperty(),c=Ext.apply({},this.raw),
d=Ext.apply({},this.data);delete c[b];delete d[b];return new this.self(null,a,c,d)},getData:function(a){var b=this.data;a===!0&&Ext.apply(b,this.getAssociatedData());return b},getAssociatedData:function(){return this.prepareAssociatedData(this,[],null)},prepareAssociatedData:function(a,b,c){var d=a.associations.items,e=d.length,f={},g,h,i,j,k,l,m;for(l=0;l<e;l++)if(g=d[l],h=g.getName(),i=g.getType(),j=!0,c&&(j=i==c),j&&i.toLowerCase()=="hasmany"){if(g=a[g.getStoreName()],f[h]=[],g&&g.getCount()>0){g=
g.data.items;j=g.length;for(m=0;m<j;m++)i=g[m],k=i.id,Ext.Array.indexOf(b,k)==-1&&(b.push(k),f[h][m]=i.getData(),Ext.apply(f[h][m],this.prepareAssociatedData(i,b,c)))}}else if(j&&(i.toLowerCase()=="belongsto"||i.toLowerCase()=="hasone"))if(i=a[g.getInstanceName()],i!==void 0)k=i.id,Ext.Array.indexOf(b,k)===-1&&(b.push(k),f[h]=i.getData(),Ext.apply(f[h],this.prepareAssociatedData(i,b,c)));return f},join:function(a){Ext.Array.include(this.stores,a)},unjoin:function(a){Ext.Array.remove(this.stores,a)},
setDirty:function(){var a=this,b;a.dirty=!0;a.fields.each(function(c){c.getPersist()&&(b=c.getName(),a.modified[b]=a.get(b))})},validate:function(){var a=Ext.create("Ext.data.Errors"),b=this.getValidations().items,c=Ext.data.Validations,d,e,f,g,h,i;if(b){d=b.length;for(i=0;i<d;i++)e=b[i],f=e.field||e.name,h=e.type,(g=c[h](e,this.get(f)))||a.add(Ext.create("Ext.data.Error",{field:f,message:e.message||c.getMessage(h)}))}return a},isValid:function(){return this.validate().isValid()},toUrl:function(){var a=
this.$className.split(".");return a[a.length-1].toLowerCase()+"/"+this.getId()},destroy:function(){this.notifyStores("afterErase",this);Ext.data.Model.cache.remove(this);this.raw=this.stores=this.modified=null;this.callParent(arguments)},applyProxy:function(a,b){return Ext.factory(a,Ext.data.Proxy,b,"proxy")},updateProxy:function(a){a&&a.setModel(this.self)},applyAssociations:function(a){a&&this.addAssociations(a,"hasMany")},applyBelongsTo:function(a){a&&this.addAssociations(a,"belongsTo")},applyHasMany:function(a){a&&
this.addAssociations(a,"hasMany")},applyHasOne:function(a){a&&this.addAssociations(a,"hasOne")},addAssociations:function(a,b){var c,d,e,f=this.self.modelName,g=this.self.associations,h,a=Ext.Array.from(a);for(d=0,c=a.length;d<c;d++)e=a[d],Ext.isObject(e)||(e={model:e}),Ext.applyIf(e,{type:b,ownerModel:f,associatedModel:e.model}),delete e.model,h=Ext.Function.bind(function(){g.add(Ext.data.association.Association.create(this))},e),Ext.ClassManager.onCreated(h,this,typeof e.associatedModel==="string"?
e.associatedModel:Ext.getClassName(e.associatedModel))},applyValidations:function(a){a&&(Ext.isArray(a)||(a=[a]),this.addValidations(a))},addValidations:function(a){this.self.validations.addAll(a)},applyFields:function(a){var b=this.superclass.fields;b&&(a=b.items.concat(a||[]));return a||[]},updateFields:function(a){var b=a.length,c=this.self.prototype,d=this.getIdProperty(),e,f,g;e=this._fields=this.fields=new Ext.util.Collection(c.getFieldName);for(g=0;g<b;g++)f=a[g],f.isField||(f=new Ext.data.Field(a[g])),
e.add(f);(a=e.get(d))?a.setType("auto"):e.add(new Ext.data.Field(d));e.addSorter(c.sortConvertFields)},applyIdentifier:function(a){typeof a==="string"&&(a={type:a});return Ext.factory(a,Ext.data.identifier.Simple,this.getIdentifier(),"data.identifier")},getFieldName:function(a){return a.getName()},sortConvertFields:function(a,b){var c=a.hasCustomConvert(),d=b.hasCustomConvert();return c&&!d?1:!c&&d?-1:0},onClassExtended:function(a,b,c){var d=c.onBeforeCreated,e=this,a=e.prototype,f=Ext.Class.configNameCache,
g=a.staticConfigs.concat(b.staticConfigs||[]),a=a.config,h=b.config||{},i;if(b.idgen||h.idgen)h.identifier=b.idgen||h.idgen;for(i in a)i in b&&(h[i]=b[i],delete b[i]);b.config=h;c.onBeforeCreated=function(a,b){var h=[],i=a.prototype,q={},o=i.config,p=g.length,r=["set","get"],t=r.length,s=o.associations||[],v=Ext.getClassName(a),x,w,u,y;for(u=0;u<p;u++){x=g[u];for(y=0;y<t;y++)w=f[x][r[y]],w in i&&(q[w]=e.generateProxyMethod(w))}a.addStatics(q);a.modelName=v;i.modelName=v;o.belongsTo&&h.push("association.belongsto");
o.hasMany&&h.push("association.hasmany");o.hasOne&&h.push("association.hasone");for(u=0,i=s.length;u<i;++u)h.push("association."+s[u].type.toLowerCase());o.proxy&&(typeof o.proxy==="string"?h.push("proxy."+o.proxy):typeof o.proxy.type==="string"&&h.push("proxy."+o.proxy.type));o.validations&&h.push("Ext.data.Validations");Ext.require(h,function(){Ext.Function.interceptBefore(c,"onCreated",function(){Ext.data.ModelManager.registerType(v,a);var b=a.prototype.superclass;a.prototype.associations=a.associations=
a.prototype._associations=b&&b.associations?b.associations.clone():new Ext.util.Collection(function(a){return a.getName()});a.prototype.validations=a.validations=a.prototype._validations=b&&b.validations?b.validations.clone():new Ext.util.Collection(function(a){return a.field||a.name});a.prototype=Ext.Object.chain(a.prototype);a.prototype.initConfig.call(a.prototype,o);delete a.prototype.initConfig});d.call(e,a,b,c)})}}},function(){this.cache=new Ext.util.Collection(this.generateCacheId)});
Ext.define("Ext.data.Store",{alias:"store.store",extend:"Ext.Evented",requires:"Ext.util.Collection,Ext.data.Operation,Ext.data.proxy.Memory,Ext.data.Model,Ext.data.StoreManager,Ext.util.Grouper".split(","),statics:{create:function(a){if(!a.isStore){if(!a.type)a.type="store";a=Ext.createByAlias("store."+a.type,a)}return a}},isStore:!0,config:{storeId:void 0,data:null,autoLoad:null,autoSync:!1,model:void 0,proxy:void 0,fields:null,remoteSort:!1,remoteFilter:!1,remoteGroup:!1,filters:null,sorters:null,
grouper:null,groupField:null,groupDir:null,getGroupString:null,pageSize:25,totalCount:null,clearOnPageLoad:!0,modelDefaults:{},autoDestroy:!1,syncRemovedRecords:!0},currentPage:1,constructor:function(a){a=a||{};this.data=this._data=this.createDataCollection();this.data.setSortRoot("data");this.data.setFilterRoot("data");this.removed=[];if(a.id&&!a.storeId)a.storeId=a.id,delete a.id;this.initConfig(a)},createDataCollection:function(){return new Ext.util.Collection(function(a){return a.getId()})},applyStoreId:function(a){if(a===
void 0||a===null)a=this.getUniqueId();return a},updateStoreId:function(a,b){b&&Ext.data.StoreManager.unregister(this);a&&Ext.data.StoreManager.register(this)},applyModel:function(a){if(typeof a=="string"){var b=Ext.data.ModelManager.getModel(a);b||Ext.Logger.error('Model with name "'+a+'" does not exist.');a=b}a&&!a.prototype.isModel&&Ext.isObject(a)&&(a=Ext.data.ModelManager.registerType(a.storeId||a.id||Ext.id(),a));if(!a){var b=this.getFields(),c=this.config.data;!b&&c&&c.length&&(b=Ext.Object.getKeys(c[0]));
if(b)a=Ext.define("Ext.data.Store.ImplicitModel-"+(this.getStoreId()||Ext.id()),{extend:"Ext.data.Model",config:{fields:b,proxy:this.getProxy()}}),this.implicitModel=!0}!a&&this.getProxy()&&(a=this.getProxy().getModel());return a},updateModel:function(a){var b=this.getProxy();b&&!b.getModel()&&b.setModel(a)},applyProxy:function(a,b){a=Ext.factory(a,Ext.data.Proxy,b,"proxy");!a&&this.getModel()&&((a=this.getModel().getProxy())||(a=new Ext.data.proxy.Memory({model:this.getModel()})));return a},updateProxy:function(a){a&&
(a.getModel()||a.setModel(this.getModel()),a.on("metachange",this.onMetaChange,this))},applyData:function(a){var b;a?(b=this.getProxy(),b instanceof Ext.data.proxy.Memory?(b.setData(a),this.load()):(this.removeAll(!0),this.fireEvent("clear",this),this.suspendEvents(),this.add(a),this.resumeEvents(),this.dataLoaded=!0)):(this.removeAll(!0),this.fireEvent("clear",this));this.fireEvent("refresh",this,this.data)},clearData:function(){this.setData(null)},addData:function(a){this.add(this.getProxy().getReader().read(a).getRecords())},
updateAutoLoad:function(a){var b=this.getProxy();a&&b&&!b.isMemoryProxy&&this.load(Ext.isObject(a)?a:null)},isAutoLoading:function(){var a=this.getProxy();return this.getAutoLoad()||a&&a.isMemoryProxy||this.dataLoaded},updateGroupField:function(a){var b=this.getGrouper();a?b?b.setProperty(a):this.setGrouper({property:a,direction:this.getGroupDir()||"ASC"}):b&&this.setGrouper(null)},updateGroupDir:function(a){var b=this.getGrouper();b&&b.setDirection(a)},applyGetGroupString:function(a){var b=this.getGrouper();
a?b?b.setGroupFn(a):this.setGrouper({groupFn:a}):b&&this.setGrouper(null)},applyGrouper:function(a){typeof a=="string"?a={property:a}:typeof a=="function"&&(a={groupFn:a});return a=Ext.factory(a,Ext.util.Grouper,this.getGrouper())},updateGrouper:function(a,b){var c=this.data;b&&(c.removeSorter(b),a||c.getSorters().removeSorter("isGrouper"));a&&(c.insertSorter(0,a),b||c.getSorters().addSorter({direction:"DESC",property:"isGrouper",transform:function(a){return a===!0?1:-1}}))},isGrouped:function(){return!!this.getGrouped()},
updateSorters:function(a){var b=this.getGrouper(),c=this.data,d=c.getAutoSort();c.setAutoSort(!1);c.setSorters(a);b&&c.insertSorter(0,b);this.updateSortTypes();c.setAutoSort(d)},updateSortTypes:function(){var a=this.getModel(),b=a&&a.getFields(),a=this.data;b&&a.getSorters().each(function(a){var d=a.getProperty();!a.isGrouper&&d&&!a.getTransform()&&(d=b.get(d))&&a.setTransform(d.getSortType())})},updateFilters:function(a){this.data.setFilters(a)},add:function(a){Ext.isArray(a)||(a=Array.prototype.slice.apply(arguments));
return this.insert(this.data.length,a)},insert:function(a,b){Ext.isArray(b)||(b=Array.prototype.slice.call(arguments,1));var c=!1,d=b.length,e=this.getModel(),f=this.getModelDefaults(),g,h;g=!1;b=b.slice();for(g=0;g<d;g++)h=b[g],h.isModel?this.removed.indexOf(h)!=-1&&Ext.Array.remove(this.removed,h):h=new e(h),h.set(f),b[g]=h,h.join(this),c=c||h.phantom===!0;d===1?(g=this.data.insert(a,b[0]))&&(g=[g]):g=this.data.insertAll(a,b);g&&this.fireEvent("addrecords",this,g);this.getAutoSync()&&c&&this.sync();
return b},remove:function(a){a.isModel&&(a=[a]);for(var b=!1,c=0,d=this.getAutoSync(),e=a.length,f=[],g=[],h,i=this.data.items,j,k;c<e;c++)j=a[c],this.data.contains(j)&&(h=j.phantom===!0,k=i.indexOf(j),k!==-1&&(g.push(j),f.push(k)),!h&&this.getSyncRemovedRecords()&&this.removed.push(j),j.unjoin(this),this.data.remove(j),b=b||!h);this.fireEvent("removerecords",this,g,f);d&&b&&this.sync()},removeAt:function(a){(a=this.getAt(a))&&this.remove(a)},removeAll:function(a){a!==!0?this.fireAction("clear",[this],
"doRemoveAll"):this.doRemoveAll.call(this,!0)},doRemoveAll:function(a){var b=this;b.data.each(function(a){a.unjoin(b)});if(b.getSyncRemovedRecords())b.removed=b.removed.concat(b.data.items);b.data.clear();a!==!0&&b.fireEvent("refresh",b,b.data);b.getAutoSync()&&this.sync()},each:function(a,b){this.data.each(a,b)},getCount:function(){return this.data.length||0},getAt:function(a){return this.data.getAt(a)},getRange:function(a,b){return this.data.getRange(a,b)},getById:function(a){return this.data.findBy(function(b){return b.getId()==
a})},indexOf:function(a){return this.data.indexOf(a)},indexOfId:function(a){return this.data.indexOfKey(a)},afterEdit:function(a,b,c){var d=this.data,e=c[a.getIdProperty()]||a.getId(),f=d.keys.indexOf(e);f===-1&&d.map[e]===void 0||(this.getAutoSync()&&this.sync(),e!==a.getId()?d.replace(e,a):d.replace(a),d=d.indexOf(a),f===-1&&d!==-1?this.fireEvent("addrecords",this,[a]):f!==-1&&d===-1?this.fireEvent("removerecords",this,[a],[f]):d!==-1&&this.fireEvent("updaterecord",this,a,d,f,b,c))},afterReject:function(a){var b=
this.data.indexOf(a);this.fireEvent("updaterecord",this,a,b,b,[],{})},afterCommit:function(a,b,c){var d=this.data,e=c[a.getIdProperty()]||a.getId(),f=d.keys.indexOf(e);f===-1&&d.map[e]===void 0||(e!==a.getId()?d.replace(e,a):d.replace(a),d=d.indexOf(a),f===-1&&d!==-1?this.fireEvent("addrecords",this,[a]):f!==-1&&d===-1?this.fireEvent("removerecords",this,[a],[f]):d!==-1&&this.fireEvent("updaterecord",this,a,d,f,b,c))},afterErase:function(a){var b=this.data,c=b.indexOf(a);c!==-1&&(b.remove(a),this.fireEvent("removerecords",
this,[a],[c]))},updateRemoteFilter:function(a){this.data.setAutoFilter(!a)},updateRemoteSort:function(a){this.data.setAutoSort(!a)},sort:function(a,b,c){var d=this.data,e=this.getGrouper(),f=d.getAutoSort();a&&(d.setAutoSort(!1),typeof c==="string"?c=="prepend"?d.insertSorters(e?1:0,a,b):d.addSorters(a,b):(d.setSorters(null),e&&d.addSorters(e),d.addSorters(a,b)),this.updateSortTypes(),d.setAutoSort(f));this.getRemoteSort()||(a||this.data.sort(),this.fireEvent("sort",this,this.data,this.data.getSorters()),
d.length&&this.fireEvent("refresh",this,this.data))},filter:function(a,b,c,d){var e=this.data,f=e.length;this.getRemoteFilter()?a&&(Ext.isString(a)?e.addFilters({property:a,value:b,anyMatch:c,caseSensitive:d}):(Ext.isArray(a)||a.isFilter)&&e.addFilters(a)):(e.filter(a,b,c,d),this.fireEvent("filter",this,e,e.getFilters()),e.length!==f&&this.fireEvent("refresh",this,e))},filterBy:function(a,b){var c=this.data,d=c.length;c.filter({filterFn:a,scope:b});this.fireEvent("filter",this,c,c.getFilters());c.length!==
d&&this.fireEvent("refresh",this,c)},queryBy:function(a,b){return this.data.filterBy(a,b||this)},clearFilter:function(a){var b=this.data.length;a&&this.suspendEvents();this.data.setFilters(null);a?this.resumeEvents():b!==this.data.length&&this.fireEvent("refresh",this,this.data)},isFiltered:function(){return this.data.filtered},getSorters:function(){var a=this.data.getSorters();return a?a.items:[]},getFilters:function(){var a=this.data.getFilters();return a?a.items:[]},getGroups:function(a){var b=
this.data.items,c=b.length,d=this.getGrouper(),e=[],f={},g,h,i,j;for(j=0;j<c;j++)g=b[j],h=d.getGroupString(g),i=f[h],i===void 0&&(i={name:h,children:[]},e.push(i),f[h]=i),i.children.push(g);return a?f[a]:e},getGroupString:function(a){var b=this.getGrouper();return b?b.getGroupString(a):null},find:function(a,b,c,d,e,f){return this.data.findIndexBy(Ext.create("Ext.util.Filter",{property:a,value:b,anyMatch:d,caseSensitive:e,exactMatch:f,root:"data"}).getFilterFn(),null,c)},findRecord:function(){var a=
this.find.apply(this,arguments);return a!==-1?this.getAt(a):null},findExact:function(a,b,c){return this.data.findIndexBy(function(c){return c.get(a)===b},this,c)},findBy:function(a,b,c){return this.data.findIndexBy(a,b,c)},load:function(a,b){var c;c=this.currentPage;var d=this.getPageSize(),a=a||{};Ext.isFunction(a)&&(a={callback:a,scope:b||this});if(this.getRemoteSort())a.sorters=a.sorters||this.getSorters();if(this.getRemoteFilter())a.filters=a.filters||this.getFilters();if(this.getRemoteGroup())a.grouper=
a.grouper||this.getGrouper();Ext.applyIf(a,{page:c,start:(c-1)*d,limit:d,addRecords:!1,action:"read",model:this.getModel()});c=Ext.create("Ext.data.Operation",a);if(this.fireEvent("beforeload",this,c)!==!1)this.loading=!0,this.getProxy().read(c,this.onProxyLoad,this);return this},isLoading:function(){return Boolean(this.loading)},isLoaded:function(){return Boolean(this.loaded)},sync:function(){var a={},b=this.getNewRecords(),c=this.getUpdatedRecords(),d=this.getRemovedRecords(),e=!1;if(b.length>0)a.create=
b,e=!0;if(c.length>0)a.update=c,e=!0;if(d.length>0)a.destroy=d,e=!0;e&&this.fireEvent("beforesync",this,a)!==!1&&this.getProxy().batch({operations:a,listeners:this.getBatchListeners()});return{added:b,updated:c,removed:d}},first:function(){return this.data.first()},last:function(){return this.data.last()},sum:function(a){for(var b=0,c=0,d=this.data.items,e=d.length;c<e;++c)b+=d[c].get(a);return b},min:function(a){var b=1,c=this.data.items,d=c.length,e,f;for(d>0&&(f=c[0].get(a));b<d;++b)e=c[b].get(a),
e<f&&(f=e);return f},max:function(a){var b=1,c=this.data.items,d=c.length,e,f;for(d>0&&(f=c[0].get(a));b<d;++b)e=c[b].get(a),e>f&&(f=e);return f},average:function(a){var b=0,c=this.data.items,d=c.length,e=0;if(c.length>0){for(;b<d;++b)e+=c[b].get(a);return e/d}return 0},getBatchListeners:function(){return{scope:this,exception:this.onBatchException,complete:this.onBatchComplete}},onBatchComplete:function(a){var a=a.operations,b=a.length,c;for(c=0;c<b;c++)this.onProxyWrite(a[c])},onBatchException:function(){},
onProxyLoad:function(a){var b=a.getRecords(),c=a.getResultSet(),d=a.wasSuccessful();c&&this.setTotalCount(c.getTotal());d&&this.fireAction("datarefresh",[this,this.data,a],"doDataRefresh");this.loaded=!0;this.loading=!1;this.fireEvent("load",this,b,d,a);Ext.callback(a.getCallback(),a.getScope()||this,[b,a,d])},doDataRefresh:function(a,b,c){var a=c.getRecords(),d=this;c.getAddRecords()!==!0&&(b.each(function(a){a.unjoin(d)}),b.clear(),d.fireEvent("clear",this));a&&a.length&&(d.suspendEvents(),d.add(a),
d.resumeEvents());this.fireEvent("refresh",this,this.data)},onProxyWrite:function(a){var b=a.wasSuccessful(),c=a.getRecords();switch(a.getAction()){case "create":this.onCreateRecords(c,a,b);break;case "update":this.onUpdateRecords(c,a,b);break;case "destroy":this.onDestroyRecords(c,a,b)}b&&this.fireEvent("write",this,a);Ext.callback(a.getCallback(),a.getScope()||this,[c,a,b])},onCreateRecords:function(){},onUpdateRecords:function(){},onDestroyRecords:function(){this.removed=[]},onMetaChange:function(a){var b=
this.getProxy().getModel();!this.getModel()&&b&&this.setModel(b);this.fireEvent("metachange",this,a)},getNewRecords:function(){return this.data.filterBy(function(a){return a.phantom===!0&&a.isValid()}).items},getUpdatedRecords:function(){return this.data.filterBy(function(a){return a.dirty===!0&&a.phantom!==!0&&a.isValid()}).items},getRemovedRecords:function(){return this.removed},loadPage:function(a,b,c){typeof b==="function"&&(b={callback:b,scope:c||this});var c=this.getPageSize(),d=this.getClearOnPageLoad(),
b=Ext.apply({},b);this.currentPage=a;this.load(Ext.applyIf(b,{page:a,start:(a-1)*c,limit:c,addRecords:!d}))},nextPage:function(a){this.loadPage(this.currentPage+1,a)},previousPage:function(a){this.loadPage(this.currentPage-1,a)},onClassExtended:function(a,b){var c=this.prototype.config,d=b.config||{},e;for(e in c)e!="control"&&e in b&&(d[e]=b[e],delete b[e]);b.config=d}},function(){this.override({loadData:function(a,b){Ext.Logger.deprecate("loadData is deprecated, please use either add or setData");
b?this.add(a):this.setData(a)},doAddListener:function(a,b,c,d,e){return this.callParent(arguments)}});Ext.deprecateMethod(this,"loadRecords","add","Ext.data.Store#loadRecords has been deprecated. Please use the add method.")});
Ext.define("Ext.picker.Slot",{extend:"Ext.DataView",xtype:"pickerslot",alternateClassName:"Ext.Picker.Slot",requires:["Ext.XTemplate","Ext.data.Store","Ext.Component","Ext.data.StoreManager"],isSlot:!0,config:{title:null,showTitle:!0,cls:Ext.baseCSSPrefix+"picker-slot",name:null,value:null,flex:1,align:"left",displayField:"text",valueField:"value",scrollable:{direction:"vertical",indicators:!1,momentumEasing:{minVelocity:2},slotSnapEasing:{duration:100}}},constructor:function(){this.selectedIndex=
0;this.callParent(arguments)},applyTitle:function(a){a&&(a=Ext.create("Ext.Component",{cls:Ext.baseCSSPrefix+"picker-slot-title",docked:"top",html:a}));return a},updateTitle:function(a,b){a&&(this.add(a),this.setupBar());b&&this.remove(b)},updateShowTitle:function(a){var b=this.getTitle();b&&(b[a?"show":"hide"](),this.setupBar())},updateDisplayField:function(a){this.setItemTpl('<div class="'+Ext.baseCSSPrefix+'picker-item {cls} <tpl if="extra">'+Ext.baseCSSPrefix+'picker-invalid</tpl>">{'+a+"}</div>")},
updateAlign:function(a,b){var c=this.element;c.addCls(Ext.baseCSSPrefix+"picker-"+a);c.removeCls(Ext.baseCSSPrefix+"picker-"+b)},applyData:function(a){var b=[],c=a&&a.length,d,e,f;if(a&&Ext.isArray(a)&&c)for(d=0;d<c;d++)e=a[d],f={},Ext.isArray(e)?(f[this.valueField]=e[0],f[this.displayField]=e[1]):Ext.isString(e)?(f[this.valueField]=e,f[this.displayField]=e):Ext.isObject(e)&&(f=e),b.push(f);return a},updateData:function(a){this.setStore(Ext.create("Ext.data.Store",{model:"x-textvalue",data:a}))},
initialize:function(){this.callParent();var a=this.getScrollable().getScroller();this.on({scope:this,painted:"onPainted",itemtap:"doItemTap"});a.on({scope:this,scrollend:"onScrollEnd"})},onPainted:function(){this.setupBar()},getPicker:function(){if(!this.picker)this.picker=this.getParent();return this.picker},setupBar:function(){if(this.rendered){var a=this.element,b=this.innerElement,c=this.getPicker().bar,d=this.getValue(),e=this.getShowTitle(),f=this.getTitle(),g=this.getScrollable().getScroller(),
h=0;c.getY();a.getY();e&&f&&f.element.getHeight();c=c.getHeight();e&&f&&(h=f.element.getHeight());this.slotPadding=a=Math.ceil((a.getHeight()-h-c)/2);b.setStyle({padding:a+"px 0 "+a+"px"});g.refresh();g.setSlotSnapSize(c);this.setValue(d)}},doItemTap:function(a,b,c){this.selectedIndex=b;this.selectedNode=c;this.scrollToItem(c,!0);this.fireEvent("slotpick",this,this.getValue(),this.selectedNode)},scrollToItem:function(a,b){var c=a.getY(),d=a.parent().getY();this.getScrollable().getScroller().scrollTo(0,
c-d,b)},onScrollEnd:function(a,b,c){a=Math.round(c/this.picker.bar.getHeight());if(b=this.getViewItems()[a])this.selectedIndex=a,this.selectedNode=b,this.fireEvent("slotpick",this,this.getValue(),this.selectedNode)},getValue:function(){var b;var a=this.getStore();if(a){if(!this.rendered)return this._value;return this._value===!1?null:this._value=(b=(a=a.getAt(this.selectedIndex))?a.get(this.getValueField()):null,a=b)}},setValue:function(a){if(Ext.isDefined(a))if(!this.rendered||!a)this._value=a;else{var b=
this.getStore(),c=this.getViewItems(),d=this.getValueField(),b=b.find(d,a);if(b!=-1)c=Ext.get(c[b]),this.selectedIndex=b,this.scrollToItem(c),this._value=a}},setValueAnimated:function(a){if(a)if(this.rendered){var b=this.getStore(),c=this.getViewItems(),d=this.getValueField(),b=b.find(d,a);if(b!=-1)c=Ext.get(c[b]),this.selectedIndex=b,this.scrollToItem(c,{duration:100}),this._value=a}else this._value=a}});
Ext.define("Ext.picker.Picker",{extend:"Ext.Sheet",alias:"widget.picker",alternateClassName:"Ext.Picker",requires:["Ext.picker.Slot","Ext.Toolbar","Ext.data.Model"],isPicker:!0,config:{cls:Ext.baseCSSPrefix+"picker",doneButton:!0,cancelButton:!0,useTitles:!1,slots:null,value:null,height:220,layout:{type:"hbox",align:"stretch"},centered:!1,left:0,right:0,bottom:0,defaultType:"pickerslot",toolbar:!0},initElement:function(){this.callParent(arguments);var a=Ext.baseCSSPrefix;this.mask=this.innerElement.createChild({cls:a+
"picker-mask"});this.bar=this.mask.createChild({cls:a+"picker-bar"});this.on({scope:this,delegate:"pickerslot",slotpick:"onSlotPick"});this.on({scope:this,show:"onShow"})},applyToolbar:function(a){a===!0&&(a={});Ext.applyIf(a,{docked:"top"});return Ext.factory(a,"Ext.TitleBar",this.getToolbar())},updateToolbar:function(a,b){a&&this.add(a);b&&this.remove(b)},applyDoneButton:function(a){a&&(Ext.isBoolean(a)&&(a={}),typeof a=="string"&&(a={text:a}),Ext.applyIf(a,{ui:"action",align:"right",text:"Done"}));
return Ext.factory(a,"Ext.Button",this.getDoneButton())},updateDoneButton:function(a,b){var c=this.getToolbar();a?(c.add(a),a.on("tap",this.onDoneButtonTap,this)):b&&c.remove(b)},applyCancelButton:function(a){a&&(Ext.isBoolean(a)&&(a={}),typeof a=="string"&&(a={text:a}),Ext.applyIf(a,{align:"left",text:"Cancel"}));return Ext.factory(a,"Ext.Button",this.getCancelButton())},updateCancelButton:function(a,b){var c=this.getToolbar();a?(c.add(a),a.on("tap",this.onCancelButtonTap,this)):b&&c.remove(b)},
updateUseTitles:function(a){var b=this.getInnerItems(),c=b.length,d=Ext.baseCSSPrefix+"use-titles",e;a?this.addCls(d):this.removeCls(d);for(d=0;d<c;d++)e=b[d],e.isSlot&&e.setShowTitle(a)},applySlots:function(a){if(a){var b=a.length,c;for(c=0;c<b;c++)a[c].picker=this}return a},updateSlots:function(a){var b=Ext.baseCSSPrefix;this.removeAll();a&&this.add(a);a=this.getInnerItems();a.length>0&&(a[0].addCls(b+"first"),a[a.length-1].addCls(b+"last"));this.updateUseTitles(this.getUseTitles())},onDoneButtonTap:function(){var a=
this._value,b=this.getValue();b!=a&&this.fireEvent("change",this,b);this.hide()},onCancelButtonTap:function(){this.fireEvent("cancel",this);this.hide()},onSlotPick:function(a){this.fireEvent("pick",this,this.getValue(),a)},onShow:function(){this.isHidden()||this.setValue(this._value)},setValue:function(a,b){var c=this.getInnerItems(),d=c.length,e,f,g;if(!a){a={};for(g=0;g<d;g++)a[c[g].config.name]=!1}for(e in a){value=a[e];for(g=0;g<c.length;g++)if(d=c[g],d.config.name==e){f=d;break}f&&(b?f.setValueAnimated(value):
f.setValue(value))}this._values=this._value=this.getValue();return this},setValueAnimated:function(a){this.setValue(a,!0)},getValue:function(){var a={},b=this.getItems().items,c=b.length,d,e;for(e=0;e<c;e++)(d=b[e])&&d.isSlot&&(a[d.getName()]=d.getValue());return this._values=a},getValues:function(){return this.getValue()},destroy:function(){this.callParent();Ext.destroy(this.mask,this.bar)}},function(){Ext.deprecateProperty(this,"activeCls",null,"Ext.picker.Picker.activeCls has been removed");Ext.deprecateClassMethod(this,
"getCard","getActiveItem");Ext.deprecateClassMethod(this,"setCard","setActiveItem");Ext.define("x-textvalue",{extend:"Ext.data.Model",config:{fields:["text","value"]}})});
Ext.define("Ext.field.Select",{extend:"Ext.field.Text",xtype:"selectfield",alternateClassName:"Ext.form.Select",requires:["Ext.Panel","Ext.picker.Picker","Ext.data.Store","Ext.data.StoreManager","Ext.List"],config:{ui:"select",valueField:"value",displayField:"text",store:null,options:null,hiddenName:null,component:{useMask:!0},clearIcon:!1,usePicker:"auto",defaultPhonePickerConfig:null,defaultTabletPickerConfig:null,name:"picker"},constructor:function(a){a=a||{};if(!a.store)a.store=!0;this.callParent([a])},
initialize:function(){var a=this.getComponent();this.callParent();a.on({scope:this,masktap:"onMaskTap"});a.input.dom.disabled=!0},updateDefaultPhonePickerConfig:function(a){var b=this.picker;b&&b.setConfig(a)},updateDefaultTabletPickerConfig:function(a){var b=this.listPanel;b&&b.setConfig(a)},applyUsePicker:function(a){a=="auto"&&(a=Ext.os.deviceType=="Phone");return Boolean(a)},syncEmptyCls:Ext.emptyFn,applyValue:function(a){var b=a;this.getOptions();a instanceof Ext.data.Model||(b=this.getStore().find(this.getValueField(),
a,null,null,null,!0),b==-1&&(b=this.getStore().find(this.getDisplayField(),a,null,null,null,!0)),b=this.getStore().getAt(b));return b},updateValue:function(a,b){this.previousRecord=b;this.record=a;this.callParent([a?a.get(this.getDisplayField()):""]);b!==a&&this.initialized&&this.fireEvent("change",this,a,b)},getValue:function(){var a=this.record;return a?a.get(this.getValueField()):null},getRecord:function(){return this.record},getPhonePicker:function(){var a=this.getDefaultPhonePickerConfig();if(!this.picker)this.picker=
Ext.create("Ext.picker.Picker",Ext.apply({slots:[{align:"center",name:this.getName(),valueField:this.getValueField(),displayField:this.getDisplayField(),value:this.getValue(),store:this.getStore()}],listeners:{change:this.onPickerChange,scope:this}},a));return this.picker},getTabletPicker:function(){var a=this.getDefaultTabletPickerConfig();if(!this.listPanel)this.listPanel=Ext.create("Ext.Panel",Ext.apply({centered:!0,modal:!0,cls:Ext.baseCSSPrefix+"select-overlay",layout:"fit",hideOnMaskTap:!0,
items:{xtype:"list",store:this.getStore(),itemTpl:'<span class="x-list-label">{'+this.getDisplayField()+"}</span>",listeners:{select:this.onListSelect,itemtap:this.onListTap,scope:this}}},a));return this.listPanel},onMaskTap:function(){if(this.getDisabled())return!1;this.showPicker();return!1},showPicker:function(){if(this.getStore().getCount()!==0&&!this.getReadOnly())if(this.isFocused=!0,this.getUsePicker()){var a=this.getPhonePicker(),b=this.getName(),c={};c[b]=this.record.get(this.getValueField());
a.setValue(c);a.getParent()||Ext.Viewport.add(a);a.show()}else{var a=this.getTabletPicker(),b=a.down("list"),c=b.getStore(),d=c.find(this.getValueField(),this.getValue(),null,null,null,!0),c=c.getAt(d==-1?0:d);a.getParent()||Ext.Viewport.add(a);a.showBy(this.getComponent());b.select(c,null,!0)}},onListSelect:function(a,b){b&&this.setValue(b)},onListTap:function(){this.listPanel.hide({type:"fade",out:!0,scope:this})},onPickerChange:function(a,b){var c=b[this.getName()],d=this.getStore(),c=d.find(this.getValueField(),
c,null,null,null,!0);this.setValue(d.getAt(c))},updateOptions:function(a){var b=this.getStore();a?(b.setData(a),this.onStoreDataChanged(b)):b.clearData()},applyStore:function(a){a===!0&&(a=Ext.create("Ext.data.Store",{fields:[this.getValueField(),this.getDisplayField()]}));a&&(a=Ext.data.StoreManager.lookup(a),a.on({scope:this,addrecords:this.onStoreDataChanged,removerecords:this.onStoreDataChanged,updaterecord:this.onStoreDataChanged,refresh:this.onStoreDataChanged}));return a},updateStore:function(a){if(a)this.onStoreDataChanged(a)},
onStoreDataChanged:function(a){var b=this.getInitialConfig(),c=this.getValue();Ext.isDefined(c)&&this.updateValue(this.applyValue(c));this.getValue()===null&&(b.hasOwnProperty("value")&&this.setValue(b.value),this.getValue()===null&&a.getCount()>0&&this.setValue(a.getAt(0)))},doSetDisabled:function(a){Ext.Component.prototype.doSetDisabled.apply(this,arguments)},setDisabled:function(){Ext.Component.prototype.setDisabled.apply(this,arguments)},reset:function(){var a=this.getStore(),b=this.originalValue?
this.originalValue:a.getAt(0);a&&b&&this.setValue(b);return this},onFocus:function(a){this.fireEvent("focus",this,a);this.isFocused=!0;this.showPicker()},destroy:function(){this.callParent(arguments);Ext.destroy(this.listPanel,this.picker,this.hiddenField)}});
Ext.define("Mayfest.model.Location",{extend:"Ext.data.Model",config:{fields:[{name:"id",type:"int"},{name:"content",type:"string"},{name:"title",type:"string"},{name:"mayfest_ml_id",type:"string"},{name:"mayfest_ml_type",type:"string"},{name:"mayfest_ml_desc",type:"string"},{name:"mayfest_ml_x",type:"int"},{name:"mayfest_ml_y",type:"int"},{name:"raw_id",type:"int"}]}});
Ext.define("Mayfest.model.Attraction",{extend:"Ext.data.Model",config:{fields:[{name:"id",type:"int"},{name:"content",type:"string"},{name:"title",type:"string"},{name:"mayfest_att_first_name",type:"string"},{name:"mayfest_att_last_name",type:"string"},{name:"mayfest_att_first_name_partner",type:"string"},{name:"mayfest_att_last_name_partner",type:"string"},{name:"mayfest_att_city",type:"string"},{name:"mayfest_att_state",type:"string"},{name:"mayfest_ml_uid",type:"int"},{name:"attraction_category",
type:"auto"},{name:"genre",type:"auto"},{name:"thumbnail",type:"auto"},{name:"raw_id",type:"int"}]}});
Ext.define("Mayfest.model.Event",{extend:"Ext.data.Model",config:{fields:[{name:"id",type:"int"},{name:"content",type:"string"},{name:"title",type:"string"},{name:"mayfest_event_day",type:"string"},{name:"mayfest_event_time",type:"string"},{name:"mayfest_attraction_uid",type:"int"},{name:"date",type:"date",dateFormat:"m-d-Y g:iA",convert:function(a,b){if(b.data.mayfest_event_day&&b.data.mayfest_event_day!==""){var c=b.data.mayfest_event_day;!b.data.mayfest_event_time||b.data.mayfest_event_time===
""?c+=" 12:01AM":c+=" "+b.data.mayfest_event_time;return Ext.Date.parse(c,this._dateFormat)}else return null}},{name:"event_category",type:"auto"},{name:"genre",type:"auto"},{name:"thumbnail",type:"auto"},{name:"raw_id",type:"int"}]}});
Ext.define("Mayfest.model.Category",{extend:"Ext.data.Model",config:{fields:[{name:"term_id",type:"int"},{name:"term_group",type:"int"},{name:"name",type:"string"},{name:"parent",type:"int"},{name:"slug",type:"string"},{name:"taxonomy",type:"string"},{name:"term_taxonomy_id",type:"int"},{name:"id",type:"int",convert:function(a,b){return b.data.term_id}},{name:"raw_id",type:"int"}]}});
Ext.define("Mayfest.view.Home",{extend:"Ext.Panel",xtype:"homepanel",config:{title:"Home",iconCls:"mayfest-logo",cls:"home",html:"<h1>Hey, welcome home</h1><p>This is some real html</p>"}});Ext.define("Mayfest.view.Attractions",{extend:"Ext.List",id:"attractionsList",xtype:"attractionslist",alias:"widget.attractionslist",config:{title:"Attraction",store:"CategoryAttractions",itemTpl:'<tpl if="mayfest_ml_uid"><div class="has_location"></div></tpl>{title}',grouped:!0,onItemDisclosure:!0}});
Ext.define("Mayfest.view.Categories",{extend:"Ext.Panel",xtype:"categoriespage",id:"categoriesPage",alias:"widget.categoriespage",config:{autoDestroy:!1,fullscreen:!0,layout:"card",title:"Directory",iconCls:"list",items:[{xtype:"catnav"},{xtype:"categorieslist"}]},initialize:function(){this.fireEvent("render");this.callParent()}});
Ext.define("Mayfest.view.CategoriesNav",{extend:"Ext.Toolbar",xtype:"catnav",id:"catNav",alias:"widget.catnav",config:{title:"cat nav",docked:"top",items:[{xtype:"button",id:"catNavBack",text:"Back",ui:"back",hideAnimation:Ext.os.is.Android?!1:{type:"fadeOut",duration:200},showAnimation:Ext.os.is.Android?!1:{type:"fadeIn",duration:200}}]},initialize:function(){this.fireEvent("render");this.callParent()}});
Ext.define("Mayfest.view.CategoriesList",{extend:"Ext.List",xtype:"categorieslist",id:"categoriesList",alias:"widget.categorieslist",config:{title:"Directory",iconCls:"list",fullscreen:!0,detailCard:{xtype:"attractionslist"},itemTpl:'<span class="title">{name}</span>',store:"OfflineCategories"},initialize:function(){this.fireEvent("render");this.callParent()}});
Ext.define("Mayfest.view.EventCategories",{extend:"Ext.Panel",xtype:"eventcategorieslist",alias:"widget.eventcategorieslist",config:{fullscreen:!0,layout:"card",cls:"catListPanel"},initialize:function(){this.fireEvent("render");this.callParent()}});
Ext.define("Mayfest.view.Events",{extend:"Ext.List",id:"eventsList",xtype:"eventslist",alias:"widget.eventslist",config:{fullscreen:!0,itemTpl:new Ext.XTemplate('<span class="title">{title}</span>{[ this.getEventGenres(values.genre) ]}{[ this.getEventAttraction(values.mayfest_attraction_uid) ]}<div class="clear"></div>',{compiled:!0,getEventGenres:function(a){var b="";if(!a.length)return b;for(var c=0;c<a.length;c++)c>0&&(b+=", "),b+=a[c].name;return'<span class="evtGen">'+b+"</span>"},getEventAttraction:function(a){return(a=
Mayfest.ui.EventController.getEventAttraction(a))?'<span class="evtAtt">'+a.data.title+"</span>":'<span class="evtAtt">?</span>'}}),store:"EventList",grouped:!0,onItemDisclosure:!0}});
Ext.define("Mayfest.view.AttractionLeaf",{extend:"Ext.Panel",xtype:"attractionleaf",alias:"widget.attractionleaf",id:"attractionLeaf",config:{title:"Details",iconCls:"attraction",cls:"attraction",styleHtmlContent:!0,scrollable:{direction:"vertical",directionLock:!0},items:[{xtype:"button",ui:"mayfest round",id:"mapMe",text:"Map",right:"1em",top:"1em"}]}});
Ext.define("Mayfest.controller.Main",{extend:"Ext.app.Controller",config:{refs:{canvasMap:{selector:"canvasmap"},attractionslist:{selector:"categorieslist"},navui:{selector:"navui"},mainPanel:"tabpanel",mainui:"mainui"}},onlineStores:["Locations","Attractions","Events","Categories"],offlineStores:[],init:function(){Mayfest.ui.MainController=this;for(var a=0;a<this.onlineStores.length;a++){var b=this.onlineStores[a];Ext.getStore("Offline"+b).on({load:this.onOfflineStoreLoad,scope:this});b=Ext.getStore(b);
b.on({load:this.onOnlineStoreLoad});b.getProxy().on({exception:this.onOnlineStoreProxyTimeout});b.load()}this.control({navui:{render:this.onNavUIRender,back:this.onNavBack},mainPanel:{initialize:this.onMainPanelInit}})},onMainPanelInit:function(a){Mayfest.ui.mainPanel=a},onNavUIRender:function(){Mayfest.ui.nav=this.getNavui();Mayfest.ui.navBar=Mayfest.ui.nav.getNavigationBar();Mayfest.ui.navBar.hide()},onNavBack:function(a){a.getActiveItem().id==="mainUI"?a.getNavigationBar().hide():a.getNavigationBar().show()},
onOnlineStoreLoad:function(a,b,c){c&&(c=Ext.getStore("Offline"+a._storeId),c.getProxy().clear(),a.each(function(a){a.data.raw_id=a.getId();a.phantom=!0}),c.add(b),c.sync(),c.load())},onOnlineStoreProxyTimeout:function(a,b,c){console.log("OFFLINE. PROXY TIMEOUT",a,c);Ext.getStore("Offline"+a.config.parentStore).load()},onOfflineStoreLoad:function(a){a.each(function(a){a.setId(a.data.raw_id)});switch(a._storeId){case "OfflineAttractions":Mayfest.ui.EventController.offlineAttractionStoreLoaded=!0;break;
case "OfflineEvents":Mayfest.ui.EventController.checkAttractionStoreData();break;case "OfflineCategories":Mayfest.ui.AttractionController.pushCatnav(0,"Directory")}this.offlineStores.push(a._storeId);this.offlineStores.length===this.onlineStores.length&&this.getNavui().unmask()}});
Ext.define("Mayfest.controller.Attraction",{extend:"Ext.app.Controller",config:{refs:{mapButton:{selector:"#mapMe"},categoriespage:{selector:"categoriespage"},catnav:{selector:"catnav"},catNavBack:{selector:"#catNavBack"},categorieslist:{selector:"categorieslist"}},control:{"#attractionsList":{activate:"onAttractionsListActivate",itemtap:"onAttractionTap",disclose:"onAttractionDisclosure"},"#attractionLeaf":{show:"onAttractionLeafShow"},"#mapMe":{tap:"onMapMeTap"},"#catNavBack":{tap:"onCatNavBack"}}},
init:function(){Mayfest.ui.AttractionController=this;Mayfest.ui.templates.attractionLeaf=new Ext.XTemplate('<article id="{id}" class="leaf"><h2>{title}</h2><tpl if="genre.length"><div class="entry-tag field"><tpl for="genre"><span class="tax" term_id="{term_id}">{name}{[ xindex < xcount ? \', \' : \'\' ]}</span></tpl></div></tpl><tpl if="thumbnail != \'\'"><div class="pic">{[ this.getThumbnail( values.thumbnail ) ]}</div></tpl><div class="entry-meta"><tpl if="this.hasName( values.mayfest_att_first_name, values.mayfest_att_last_name )"><div class="field"><label>Name:</label><span>{[ this.buildName( values.mayfest_att_first_name, values.mayfest_att_last_name ) ]}</span></div></tpl><tpl if="this.hasName( values.mayfest_att_first_name_partner, values.mayfest_att_last_name_partner )"><div class="field"><label>Partner:</label><span>{[ this.buildName( values.mayfest_att_first_name_partner, values.mayfest_att_last_name_partner ) ]}</span></div></tpl><tpl if="mayfest_att_city && mayfest_att_city != \'\'"><div class="field"><label>City:</label><span>{mayfest_att_city}</span></div></tpl><tpl if="mayfest_att_city && mayfest_att_city != \'\'"><div class="field"><label>State:</label><span>{mayfest_att_state}</span></div></tpl></div><div class="entry-content">{content}</div></article>',
{getThumbnail:function(a){a=a["app-thumb"];return'<img src="'+a[0]+'" width="'+a[1]+'" height="'+a[2]+'" />'},hasName:function(a,b){return a&&a!==""||b&&b!==""?!0:!1},buildName:function(a,b){var c=!1;a&&a!==""&&(c=a);b&&b!==""&&(c?c+=" "+b:c=b);return c||""}});this.control({categorieslist:{itemtap:"onCatTap"}})},catNavArray:[],onCatNavBack:function(){this.catNavArray.pop();this.doCatnav()},pushCatnav:function(a,b){this.catNavArray.push({term_id:a,title:b});this.doCatnav()},doCatnav:function(){var a=
this.catNavArray[this.catNavArray.length-1],b=this.getCatNavBack();this.getCatnav().setTitle(a.title);if(this.filterCategories(a.term_id))this.getCategoriespage().getActiveItem()!==this.getCategorieslist()&&this.getCategoriespage().setActiveItem(this.getCategorieslist());else{a=this.getAttractionsByCatID(a.term_id);Ext.getStore("CategoryAttractions").setData(a.items);if(!Mayfest.ui.AttractionsList)Mayfest.ui.AttractionsList=Ext.create("Mayfest.view.Attractions");this.getCategoriespage().setActiveItem(Mayfest.ui.AttractionsList)}this.catNavArray.length>
1?(b.setText(this.catNavArray[this.catNavArray.length-2].title),b.show()):b.hide()},onCatTap:function(a,b,c,d){this.pushCatnav(d.data.term_id,d.data.name);setTimeout(function(){a.deselect(b)},50)},getAttractionsByCatID:function(a){return Ext.getStore("OfflineAttractions").queryBy(function(b){if(b.data.attraction_category.length)for(var c=0;c<b.data.attraction_category.length;c++)if(b.data.attraction_category[c].term_id==a)return!0;return!1})},filterCategories:function(a){var b=this.getCategorieslist().getStore();
b.clearFilter();b.filter([{filterFn:function(b){return b.get("parent")===a}}]);return b.data.items.length},onAttractionDisclosure:function(a,b,c,d,e){e.stopPropagation();this.currentAttraction=b.data;Mayfest.ui.currentLocation=this.getAttractionLocation();Mayfest.ui.mapController.goToMapLocation()},onMapMeTap:function(){Mayfest.ui.navBar.hide();Mayfest.ui.nav.pop();Mayfest.ui.mapController.goToMapLocation()},onAttractionLeafShow:function(){Mayfest.ui.navBar.show();Mayfest.ui.currentLocation?this.getMapButton().show():
this.getMapButton().hide()},onAttractionsListActivate:function(){var a=Ext.select("#attractionsList .x-list-disclosure");a.elements.length&&a.each(function(){this.getParent().down(".has_location")||this.hide()})},onAttractionTap:function(a,b,c,d){this.currentAttraction=d.data;Mayfest.ui.currentLocation=this.getAttractionLocation();if(!Mayfest.ui.AttractionLeaf)Mayfest.ui.AttractionLeaf=Ext.create("Mayfest.view.AttractionLeaf");a=Mayfest.ui.AttractionLeaf;a.setHtml(Mayfest.ui.templates.attractionLeaf.apply(this.currentAttraction));
Mayfest.ui.nav.push(a)},getAttractionLocation:function(a){a=a||this.currentAttraction.mayfest_ml_uid;return!a?null:Ext.getStore("OfflineLocations").getById(a)}});
Ext.define("Mayfest.controller.Map",{extend:"Ext.app.Controller",config:{refs:{mapPanel:{selector:"canvasmap"}},control:{mapPanel:{initialize:"onMapInitialize"}}},init:function(){Mayfest.ui.mapController=this},goToMapLocation:function(){if(Mayfest.ui.currentLocation){var a=Mayfest.ui.currentLocation.data;Mayfest.ui.mainPanel.setActiveItem(Mayfest.ui.map);this.arrow=!0;this.arrowDrawn=!1;this.moveTo(a.mayfest_ml_x,a.mayfest_ml_y)}},basePath:Mayfest.paths.base(),canvasIsActivated:!1,tileSize:256,maxZ:5,
minZ:1,maxX:5632,maxY:5632,dragging:!1,posX:2687,posY:2304,posZ:3,canvasEl:null,canvas:null,ctx:null,tiles:{},dragLinger:100,arrow:!1,arrowDrawn:!1,moving:!1,targetX:0,targetY:0,targetTime:2E3,targetMove:Math.floor(1E3/30),lastX:0,lastY:0,movePx:10,moveTimeoutFunc:null,moveTimeout:null,pinchEndBuffer:250,scale:1,prevScale:1,halfCanvasWidth:0,halfCanvasHeight:0,zooming:!1,zoom:1,guruLogoString:"http://mayfestmobile.com/img/guruLogoAlpha256.png",getTileString:function(a,b,c){n=this.normaliseIndices(a,
b,c);a=n[0];b=n[1];c=n[2];return this.basePath+"mobile-map/img/map/tiles/pngbatch/"+c+"_"+a+"_"+b+".png"},rand:function(a){return Math.floor(Math.random()*a)},mod:function(a,b){return(a%b+b)%b},normaliseIndices:function(a,b,c){return[this.mod(a,Math.pow(2,c)),this.mod(b,Math.pow(2,c)),c]},encodeIndex:function(a,b,c){n=this.normaliseIndices(a,b,c);a=n[0];b=n[1];c=n[2];return a+","+b+","+c},decodeIndex:function(a){return a.split(",",3)},render:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);
this.zooming&&(this.ctx.save(),this.ctx.translate(Math.floor(-1*(this.canvas.width*this.scale-this.canvas.width)/2),Math.floor(-1*(this.canvas.height*this.scale-this.canvas.height)/2)),this.ctx.scale(this.scale,this.scale));this.drawTiles();this.zooming&&this.ctx.restore()},drawTiles:function(){for(var a=this,b=a.posZ,c=a.canvas.width*Math.pow(2,a.maxZ-b),d=a.canvas.height*Math.pow(2,a.maxZ-b),e=a.tileSize*Math.pow(2,a.maxZ-b),f=a.posX-c/2,g=a.posY-d/2,c=a.posX+c/2,d=a.posY+d/2,h=Math.floor(f/e);h<
Math.ceil(c/e);++h)for(var i=Math.floor(g/e);i<Math.ceil(d/e);++i){var j=(h*e-f)/Math.pow(2,a.maxZ-b),k=(i*e-g)/Math.pow(2,a.maxZ-b),l=a.encodeIndex(h,i,b);if(this.tiles[l]&&this.tiles[l].complete)a.ctx.drawImage(a.tiles[l],Math.round(j),Math.round(k));else{if(!a.tiles[l])a.tiles[l]=new Image,a.tiles[l].onerror=function(){this.src=a.guruLogoString},a.tiles[l].src=a.getTileString(h,i,a.posZ),a.tiles[l].onload=function(){a.render()};a.ctx.fillStyle="#ffffff";a.ctx.fillRect(Math.round(j),Math.round(k),
a.tileSize,a.tileSize)}}a.arrowDrawn&&a.drawArrow(a.canvas.width/2,a.canvas.height/2)},goTo:function(a,b){if(!a||!b)return!1;this.posX=a;this.posY=b;this.render()},moveTo:function(a,b){if(!a||!b)return!1;var c=this;c.targetX=this.checkBoundsX(a);c.targetY=this.checkBoundsY(b);c.moving=!0;c.moveTimeoutFunc=function(){if(c.moving){var a=Math.floor(c.posX+(c.targetX-c.posX)/c.movePx),b=Math.floor(c.posY+(c.targetY-c.posY)/c.movePx);c.lastX=c.posX;c.lastY=c.posY;c.goTo(a,b);if(c.lastX===a&&c.lastY===
b){if(c.arrow)c.drawArrow(c.canvas.width/2,c.canvas.height/2),c.arrowDrawn=!0,c.arrow=!1}else return c.moveTimeout=setTimeout(c.moveTimeoutFunc,c.targetMove)}};return c.moveTimeout=setTimeout(c.moveTimeoutFunc,c.targetMove)},drawArrow:function(a,b){if(!a||!b)return!1;var c=a-17,d=b-80;this.ctx.save();this.ctx.beginPath();this.ctx.moveTo(c+33.5,d+43.1);this.ctx.bezierCurveTo(c+32.7,d+42.6,c+32,d+42.1,c+31.2,d+41.6);this.ctx.bezierCurveTo(c+30.5,d+41.2,c+29.8,d+40.7,c+29,d+40.2);this.ctx.bezierCurveTo(c+
29,d+40.2,c+28.1,d+39.7,c+28.1,d+39.7);this.ctx.bezierCurveTo(c+26.1,d+43.4,c+24.1,d+47.2,c+22.3,d+51);this.ctx.bezierCurveTo(c+21.8,d+51.9,c+21.4,d+52.8,c+20.9,d+53.8);this.ctx.bezierCurveTo(c+20.9,d+47.3,c+20.9,d+40.8,c+21.1,d+34.4);this.ctx.bezierCurveTo(c+21.3,d+24.8,c+21.6,d+15.2,c+22,d+5.7);this.ctx.bezierCurveTo(c+22,d+4.8,c+22.1,d+4,c+22.1,d+3.2);this.ctx.bezierCurveTo(c+19.6,d+2.9,c+17.2,d+2,c+14.7,d+1.7);this.ctx.bezierCurveTo(c+14.5,d+6.7,c+14.3,d+11.7,c+14.2,d+16.8);this.ctx.bezierCurveTo(c+
13.8,d+26.3,c+13.6,d+35.8,c+13.6,d+45.3);this.ctx.bezierCurveTo(c+13.5,d+47.3,c+13.5,d+49.3,c+13.6,d+51.2);this.ctx.bezierCurveTo(c+12.8,d+49.6,c+12.1,d+47.9,c+11.4,d+46.2);this.ctx.bezierCurveTo(c+10.4,d+44,c+9.5,d+41.8,c+8.6,d+39.6);this.ctx.bezierCurveTo(c+8.6,d+39.6,c+7.7,d+39.9,c+7.6,d+39.9);this.ctx.bezierCurveTo(c+6.7,d+40.2,c+5.9,d+40.4,c+5.1,d+40.7);this.ctx.bezierCurveTo(c+4.2,d+41,c+3.4,d+41.2,c+2.6,d+41.5);this.ctx.bezierCurveTo(c+2.6,d+41.5,c+1.5,d+41.9,c+1.5,d+41.9);this.ctx.bezierCurveTo(c+
3.2,d+45.8,c+4.8,d+49.7,c+6.5,d+53.6);this.ctx.bezierCurveTo(c+8.2,d+57.5,c+10,d+61.3,c+11.9,d+65);this.ctx.bezierCurveTo(c+13,d+67.1,c+14.1,d+69.1,c+15.3,d+71.1);this.ctx.lineTo(c+19,d+79);this.ctx.lineTo(c+20.9,d+72.8);this.ctx.bezierCurveTo(c+22.2,d+68.9,c+23.8,d+65.1,c+25.5,d+61.3);this.ctx.bezierCurveTo(c+27.3,d+57.5,c+29.2,d+53.7,c+31.1,d+49.9);this.ctx.bezierCurveTo(c+32.2,d+47.8,c+33.3,d+45.8,c+34.4,d+43.7);this.ctx.bezierCurveTo(c+34.4,d+43.6,c+33.5,d+43.1,c+33.5,d+43.1);this.ctx.closePath();
this.ctx.fillStyle="rgb(239, 73, 53)";this.ctx.fill();this.ctx.lineWidth=3;this.ctx.strokeStyle="rgb(255, 255, 255)";this.ctx.stroke();this.ctx.restore()},handleResize:function(){var a=this.getMapPanel().element.getSize();this.canvas.height=a.height;this.canvas.width=a.width;this.halfCanvasWidth=Math.floor(this.canvas.height/2);this.halfCanvasHeight=Math.floor(this.canvas.height/2);this.render()},onDoubleTap:function(){this.posZ<this.maxZ?this.posZ++:this.posZ=this.minZ;this.render()},onTouchStart:function(){this.moving=
!1;clearTimeout(this.moveTimeout)},onPinchStart:function(a){this.zooming=!0;this.dragging=this.moving=!1;clearTimeout(this.moveTimeout);this.midpointPrev=a.touches[0].point.getMidpointOf(a.touches[1].point);this.scale=a.scale;this.prevScale=1;this.arrowDrawn=!1},onPinch:function(a){this.scale=a.scale;var b=a.touches[0].point.getMidpointOf(a.touches[1].point),c=Math.floor(this.posX-Math.round((b.x-this.midpointPrev.x)*Math.pow(2,this.maxZ-this.posZ)/this.scale)),d=Math.floor(this.posY-Math.round((b.y-
this.midpointPrev.y)*Math.pow(2,this.maxZ-this.posZ)/this.scale)),a=Math.round(Math.log(a.scale)/Math.log(2))+this.posZ;a>this.maxZ||a<this.minZ?this.scale=this.prevScale:this.prevScale=this.scale;this.goTo(c,d,!0);this.midpointPrev=b},onPinchEnd:function(){var a=this;a.posZ=Math.round(Math.log(a.scale)/Math.log(2))+a.posZ;if(a.posZ>5)a.posZ=5;else if(a.posZ<a.minZ)a.posZ=a.minZ;setTimeout(function(){a.zooming=!1;a.render()},this.pinchEndBuffer)},onDragStart:function(){this.dragging=!0;this.arrowDrawn=
!1},onDrag:function(a){if(!this.zooming&&this.dragging&&(a.absDeltaX>10||a.absDeltaY>10)){var b=a.previousDeltaY;this.posX-=a.previousDeltaX*Math.pow(2,this.maxZ-this.posZ);this.posY-=b*Math.pow(2,this.maxZ-this.posZ);this.posX=this.checkBoundsX(this.posX);this.posY=this.checkBoundsY(this.posY);this.render()}},checkBoundsX:function(a){return a-this.halfCanvasWidth<0?this.halfCanvasWidth:this.maxX-this.halfCanvasWidth<a?this.maxX-this.halfCanvasWidth:a},checkBoundsY:function(a){return a-this.halfCanvasHeight<
0?this.halfCanvasHeight:this.maxY-this.halfCanvasHeight<a?this.maxY-this.halfCanvasHeight:a},onDragEnd:function(a){this.dragging=!1;var b=this.dragLinger/(this.posZ===0?0.5:this.posZ),c=Math.floor(this.posX-a.previousDeltaX*b),a=Math.floor(this.posY-a.previousDeltaY*b);this.zooming||this.moveTo(c,a)},zoomIn:function(){this.posZ<this.maxZ&&(++this.posZ,this.render())},zoomOut:function(){this.posZ>this.minZ&&(--this.posZ,this.render())},onMapInitialize:function(a){var b=this;Mayfest.ui.map=a;this.getMapPanel().on({painted:function(){b.onMapActivate.call(b)}})},
onMapActivate:function(a,b,c,d){this.canvasIsActivated||this.onMapFirstActivate.apply(this,arguments);this.render()},onMapFirstActivate:function(){var a=this;Ext.util.Point.prototype.getMidpointOf=function(a){return{x:Math.round((this.x+a.x)/2),y:Math.round((this.y+a.y)/2)}};this.canvasIsActivated=!0;this.canvasEl=Ext.get("canvas");this.canvas=this.canvasEl.dom;this.ctx=this.canvas.getContext("2d");Ext.Viewport.on("resize","handleResize",this,{buffer:0});this.handleResize();this.canvasEl.on({dragstart:this.onDragStart,
drag:this.onDrag,dragend:this.onDragEnd,doubletap:this.onDoubleTap,touchstart:this.onTouchStart,pinchstart:this.onPinchStart,pinchend:this.onPinchEnd,pinch:this.onPinch,scope:this});Ext.get("zoomIn").on({tap:function(){a.zoomIn()}});Ext.get("zoomOut").on({tap:function(){a.zoomOut()}})}});
Ext.define("Mayfest.controller.Event",{extend:"Ext.app.Controller",config:{refs:{eventtabs:{selector:"eventtabs"},categorylists:{selector:"eventcategorieslist"},categoryselect:{selector:"#eventCategorySelect"},eventslist:{selector:"eventslist"}}},eventDays:{},eventDayKeys:[],currentDay:null,currentEvent:null,eventList:null,init:function(){Mayfest.ui.EventController=this;this.control({eventtabs:{activeitemchange:"onEventTabsActiveItemChange"},categoryselect:{change:this.onCatSelectChange},eventslist:{disclose:this.onListDisclose,
itemtap:this.onListItemTap}});Mayfest.ui.templates.eventLeaf=new Ext.XTemplate('<article id="{id}" class="leaf"><h2>{title}</h2><tpl if="event_category.length"><div class="entry-cat field"><tpl for="event_category"><span class="tax" term_id="{term_id}">{name}{[ xindex < xcount ? \', \' : \'\' ]}</span></tpl><span class="sep">: </span></div></tpl><tpl if="genre.length"><div class="entry-tag field"><tpl for="genre"><span class="tax" term_id="{term_id}">{name}{[ xindex < xcount ? \', \' : \'\' ]}</span></tpl></div></tpl><tpl if="thumbnail != \'\'"><div class="pic">{[ this.getThumbnail( values.thumbnail ) ]}</div></tpl><div class="entry-meta"><tpl if="this.hasDate( values.date )"><div class="field"><label>When:</label><span>{[ this.buildDate( values.date ) ]}</span></div></tpl><tpl if="mayfest_attraction_uid && mayfest_attraction_uid != \'\'"><div class="field"><label>Where:</label><span>{[ this.buildAttraction( values.mayfest_attraction_uid ) ]}</span></div></tpl><tpl if="this.hasName( values.mayfest_att_first_name, values.mayfest_att_last_name )"><div class="field"><label>Name:</label><span>{[ this.buildName( values.mayfest_att_first_name, values.mayfest_att_last_name ) ]}</span></div></tpl><tpl if="this.hasName( values.mayfest_att_first_name_partner, values.mayfest_att_last_name_partner )"><div class="field"><label>Partner:</label><span>{[ this.buildName( values.mayfest_att_first_name_partner, values.mayfest_att_last_name_partner ) ]}</span></div></tpl></div><div class="entry-content">{content}</div></article>',
{getThumbnail:function(a){a=a["app-thumb"];return'<img src="'+a[0]+'" width="'+a[1]+'" height="'+a[2]+'" />'},hasDate:function(a){return a&&a!==""?!0:!1},buildDate:function(a){return!a?"":Ext.Date.format(a,"g:ia - D.")},buildAttraction:function(a){return Ext.getStore("OfflineAttractions").getById(a).data.title}})},offlineAttractionStoreLoaded:!1,checkAttractionStoreData:function(){var a=Mayfest.ui.EventController;if(a.offlineAttractionStoreLoaded)return a.processEventData();else setTimeout(a.checkAttractionStoreData,
25)},processEventData:function(){var a=Ext.getStore("OfflineEvents").getData().items,b=Mayfest.ui.EventController.eventDays,c=Mayfest.ui.EventController.eventDayKeys;if(a&&a.length)for(var d=0;d<a.length;d++){var e=a[d].data;if(e.date&&(c.indexOf(e.mayfest_event_day)<0&&(b[e.mayfest_event_day]={items:[],categories:{}},c.push(e.mayfest_event_day)),b[e.mayfest_event_day].items.push(a[d]),e.event_category&&e.event_category.length))for(var f=0;f<e.event_category.length;f++){var g=e.event_category[f],
h=parseInt(g.term_id,10);b[e.mayfest_event_day].categories[h]||(b[e.mayfest_event_day].categories[h]={text:g.name,value:h})}}c.sort();Mayfest.ui.EventController.addEventTabs()},addEventTabs:function(){if(!this.eventList&&this.eventDayKeys.length)this.eventList=Ext.create("Mayfest.view.Events");for(var a=0;a<this.eventDayKeys.length;a++){var b=this.eventDayKeys[a],c=this.eventDays[b];this.getEventtabs().add([{id:b,xtype:"eventcategorieslist",title:Ext.Date.format(c.items[0].data.date,"D")}])}},onEventTabsActiveItemChange:function(a,
b){this.currentDay=this.eventDays[b.id];Ext.getStore("EventList").setData(this.currentDay.items);this.buildCatSelectOptions();b.add([this.eventList])},buildCatSelectOptions:function(){var a=[{text:"All Categories",value:-1}],b;for(b in this.currentDay.categories)a.push(this.currentDay.categories[b]);this.getCategoryselect().setOptions(a)},onCatSelectChange:function(a,b){var c=b.data.value;Ext.getStore("EventList").clearFilter();c>-1&&Ext.getStore("EventList").filter([{filterFn:function(a){var b=!1;
Ext.each(a.get("event_category"),function(a){a.term_id==c&&(b=!0);return!1});return b}}]);c=null},onListItemTap:function(a,b,c,d){this.currentEvent=d.data;Mayfest.ui.currentLocation=this.getEventLocation();if(!Mayfest.ui.AttractionLeaf)Mayfest.ui.AttractionLeaf=Ext.create("Mayfest.view.AttractionLeaf");a=Mayfest.ui.AttractionLeaf;a.setHtml(Mayfest.ui.templates.eventLeaf.apply(this.currentEvent));Mayfest.ui.nav.push(a)},onListDisclose:function(a,b,c,d,e){e.stopPropagation();this.currentEvent=b.data;
Mayfest.ui.currentLocation=this.getEventLocation();Mayfest.ui.mapController.goToMapLocation()},getEventLocation:function(a){a=a||this.currentEvent.mayfest_attraction_uid;if(!a)return null;a=Ext.getStore("OfflineAttractions").getById(a);return!a.data||!a.data.mayfest_ml_uid?null:Mayfest.ui.AttractionController.getAttractionLocation(a.data.mayfest_ml_uid)},getEventAttraction:function(a){return!a?null:Ext.getStore("OfflineAttractions").getById(a)}});
Ext.define("Mayfest.store.Locations",{extend:"Ext.data.Store",config:{model:"Mayfest.model.Location",proxy:{type:"ajax",url:Mayfest.paths.data()+"mayfest_map_location.json",reader:{type:"json"},parentStore:"Locations",timeout:Mayfest.times.offlineTimeout},autoLoad:!1}});
Ext.define("Mayfest.store.Attractions",{extend:"Ext.data.Store",config:{model:"Mayfest.model.Attraction",autoLoad:!1,proxy:{type:"ajax",url:Mayfest.paths.data()+"mayfest_attraction.json",reader:{type:"json"},parentStore:"Attractions",timeout:Mayfest.times.offlineTimeout}}});Ext.define("Mayfest.store.EventList",{extend:"Ext.data.Store",config:{model:"Mayfest.model.Event",grouper:{groupFn:function(a){return a.get("mayfest_event_time")}}}});
Ext.define("Mayfest.store.Events",{extend:"Ext.data.Store",config:{model:"Mayfest.model.Event",autoLoad:!1,proxy:{type:"ajax",url:Mayfest.paths.data()+"mayfest_event.json",reader:{type:"json"},parentStore:"Events",timeout:Mayfest.times.offlineTimeout}}});Ext.define("Mayfest.store.Categories",{extend:"Ext.data.Store",config:{model:"Mayfest.model.Category",autoLoad:!1,proxy:{type:"ajax",url:Mayfest.paths.data()+"attraction_category.json",reader:{type:"json"},parentStore:"Categories",timeout:Mayfest.times.offlineTimeout}}});
Ext.define("Mayfest.store.CategoryAttractions",{extend:"Ext.data.Store",config:{model:"Mayfest.model.Attraction",grouper:{groupFn:function(a){return a.get("title")[0]}}}});Ext.define("Mayfest.store.CategoryEvents",{extend:"Ext.data.Store",config:{model:"Mayfest.model.Event",grouper:{groupFn:function(a){return a.get("title")[0]}}}});
Ext.define("Ext.field.Checkbox",{extend:"Ext.field.Field",alternateClassName:"Ext.form.Checkbox",xtype:"checkboxfield",qsaLeftRe:/[\[]/g,qsaRightRe:/[\]]/g,isCheckbox:!0,config:{ui:"checkbox",value:"",checked:!1,tabIndex:-1,component:{xtype:"input",type:"checkbox",useMask:!0,cls:Ext.baseCSSPrefix+"input-checkbox"}},initialize:function(){this.callParent();this.getComponent().on({scope:this,order:"before",masktap:"onMaskTap"})},doInitValue:function(){var a=this.getInitialConfig();if(a.hasOwnProperty("value"))this.originalState=
a.value;if(a.hasOwnProperty("checked"))this.originalState=a.checked;this.callParent(arguments)},updateInputType:function(a){var b=this.getComponent();b&&b.setType(a)},updateName:function(a){var b=this.getComponent();b&&b.setName(a)},getChecked:function(){return this._checked=this.getComponent().getChecked()},getValue:function(){return this.getChecked()},getSubmitValue:function(){return this.getChecked()?this._value||!0:!1},setChecked:function(a){this.updateChecked(a);this._checked=a},updateChecked:function(a){this.getComponent().setChecked(a)},
onMaskTap:function(a,b){var c=a.input.dom;if(this.getDisabled())return!1;c.checked=!c.checked;this.getChecked()?this.fireEvent("check",this,b):this.fireEvent("uncheck",this,b);return!1},doChecked:Ext.emptyFn,doUnChecked:Ext.emptyFn,isChecked:function(){return this.getChecked()},check:function(){return this.setChecked(!0)},uncheck:function(){return this.setChecked(!1)},getSameGroupFields:function(){var a=this.up("formpanel")||this.up("fieldset"),b=this.getName(),c=this.qsaRightRe,d=[],e;if(!a)return null;
b=b.replace(this.qsaLeftRe,"\\[");b=b.replace(c,"\\]");a=Ext.query("[name="+b+"]",a.element.dom);e=a.length;for(c=0;c<e;c++)b=a[c],(b=Ext.fly(b).up(".x-field-"+b.getAttribute("type")))&&b.id&&d.push(Ext.getCmp(b.id));return d},getGroupValues:function(){var a=[];this.getSameGroupFields().forEach(function(b){b.getChecked()&&a.push(b.getValue())});return a},setGroupValues:function(a){this.getSameGroupFields().forEach(function(b){b.setChecked(a.indexOf(b.getValue())!==-1)});return this},resetGroupValues:function(){this.getSameGroupFields().forEach(function(a){a.setChecked(a.originalState)});
return this},reset:function(){this.setChecked(this.originalState);return this}});
Ext.define("Ext.data.proxy.WebStorage",{extend:"Ext.data.proxy.Client",alternateClassName:"Ext.data.WebStorageProxy",requires:"Ext.Date",config:{id:void 0,reader:null,writer:null},constructor:function(a){this.callParent(arguments);this.cache={}},updateModel:function(a){this.getId()||this.setId(a.modelName)},create:function(a,b,c){var d=a.getRecords(),e=d.length,f=this.getIds(),g,h,i;a.setStarted();for(i=0;i<e;i++)h=d[i],h.phantom?(h.phantom=!1,g=this.getNextId()):g=h.getId(),this.setRecord(h,g),f.push(g);
this.setIds(f);a.setCompleted();a.setSuccessful();typeof b=="function"&&b.call(c||this,a)},read:function(a,b,c){var d=[],e=this.getIds(),f=this.getModel().getIdProperty(),g=a.getParams()||{},h=e.length;if(g[f]!==void 0){if(e=this.getRecord(g[f]))d.push(e),a.setSuccessful()}else{for(f=0;f<h;f++)d.push(this.getRecord(e[f]));a.setSuccessful()}a.setCompleted();a.setResultSet(Ext.create("Ext.data.ResultSet",{records:d,total:d.length,loaded:!0}));a.setRecords(d);typeof b=="function"&&b.call(c||this,a)},
update:function(a,b,c){var d=a.getRecords(),e=d.length,f=this.getIds(),g,h;a.setStarted();for(h=0;h<e;h++)g=d[h],this.setRecord(g),g=g.getId(),g!==void 0&&Ext.Array.indexOf(f,g)==-1&&f.push(g);this.setIds(f);a.setCompleted();a.setSuccessful();typeof b=="function"&&b.call(c||this,a)},destroy:function(a,b,c){var d=a.getRecords(),e=d.length,f=[].concat(this.getIds()),g;for(g=0;g<e;g++)Ext.Array.remove(f,d[g].getId()),this.removeRecord(d[g],!1);this.setIds(f);a.setCompleted();a.setSuccessful();typeof b==
"function"&&b.call(c||this,a)},getRecord:function(a){if(this.cache[a]===void 0){var b=this.getRecordKey(a),c=this.getStorageObject().getItem(b),b={},d=this.getModel(),e=d.getFields().items,f=e.length,g,h,i;if(!c)return;i=Ext.decode(c);for(c=0;c<f;c++)g=e[c],h=g.getName(),typeof g.getDecode()=="function"?b[h]=g.getDecode()(i[h]):g.getType().type=="date"?(g=g.getDateFormat(),b[h]=g?Ext.Date.parse(i[h],g):new Date(i[h])):b[h]=i[h];b=new d(b,a);this.cache[a]=b}return this.cache[a]},setRecord:function(a,
b){b?a.setId(b):b=a.getId();for(var c=a.getData(),d={},e=this.getModel().getFields().items,f=e.length,g=0,h,i;g<f;g++)h=e[g],i=h.getName(),typeof h.getEncode()=="function"?d[i]=h.getEncode()(c[i],a):h.getType().type=="date"&&Ext.isDate(c[i])?(h=h.getDateFormat(),d[i]=h?Ext.Date.format(c[i],h):c[i].getTime()):d[i]=c[i];c=this.getStorageObject();e=this.getRecordKey(b);this.cache[b]=a;c.removeItem(e);c.setItem(e,Ext.encode(d))},removeRecord:function(a,b){var c;a.isModel&&(a=a.getId());b!==!1&&(c=this.getIds(),
Ext.Array.remove(c,a),this.setIds(c));this.getStorageObject().removeItem(this.getRecordKey(a))},getRecordKey:function(a){a.isModel&&(a=a.getId());return Ext.String.format("{0}-{1}",this.getId(),a)},getRecordCounterKey:function(){return Ext.String.format("{0}-counter",this.getId())},getIds:function(){var a=(this.getStorageObject().getItem(this.getId())||"").split(","),b=a.length,c;if(b==1&&a[0]==="")a=[];else for(c=0;c<b;c++)a[c]=parseInt(a[c],10);return a},setIds:function(a){var b=this.getStorageObject(),
a=a.join(","),c=this.getId(),d=this.getRecordCounterKey();b.removeItem(c);Ext.isEmpty(a)?b.removeItem(d):b.setItem(c,a)},getNextId:function(){var a=this.getStorageObject(),b=this.getRecordCounterKey(),c=a.getItem(b);c===null&&(c=this.getIds(),c=c[c.length-1]||0);c=parseInt(c,10)+1;a.setItem(b,c);return c},initialize:function(){this.callParent(arguments);var a=this.getStorageObject();a.setItem(this.getId(),a.getItem(this.getId())||"")},clear:function(){var a=this.getStorageObject(),b=this.getIds(),
c=b.length,d;for(d=0;d<c;d++)this.removeRecord(b[d]);a.removeItem(this.getRecordCounterKey());a.removeItem(this.getId())},getStorageObject:function(){}});
Ext.define("Ext.tab.Tab",{extend:"Ext.Button",xtype:"tab",alternateClassName:"Ext.Tab",isTab:!0,config:{baseCls:Ext.baseCSSPrefix+"tab",pressedCls:Ext.baseCSSPrefix+"tab-pressed",activeCls:Ext.baseCSSPrefix+"tab-active",active:!1,title:"&nbsp;"},template:[{tag:"span",reference:"badgeElement",hidden:!0},{tag:"span",className:Ext.baseCSSPrefix+"button-icon",reference:"iconElement",style:"visibility: hidden !important"},{tag:"span",reference:"textElement",hidden:!0}],updateTitle:function(a){this.setText(a)},
hideIconElement:function(){this.iconElement.dom.style.setProperty("visibility","hidden","!important")},showIconElement:function(){this.iconElement.dom.style.setProperty("visibility","visible","!important")},updateActive:function(a,b){var c=this.getActiveCls();a&&!b?(this.element.addCls(c),this.fireEvent("activate",this)):b&&(this.element.removeCls(c),this.fireEvent("deactivate",this))}},function(){this.override({activate:function(){this.setActive(!0)},deactivate:function(){this.setActive(!1)}})});
Ext.define("Ext.form.Panel",{alternateClassName:"Ext.form.FormPanel",extend:"Ext.Panel",xtype:"formpanel",requires:["Ext.XTemplate","Ext.field.Checkbox","Ext.Ajax"],config:{baseCls:Ext.baseCSSPrefix+"form",standardSubmit:!1,url:null,baseParams:null,submitOnAction:!0,record:null,method:"post",scrollable:{translationMethod:"scrollposition"}},getElementConfig:function(){var a=this.callParent();a.tag="form";return a},initialize:function(){this.callParent();this.on({action:"onFieldAction",scope:this});
this.element.on({submit:"onSubmit",scope:this})},updateRecord:function(a){var b,c,d;if(a&&(b=a.fields))for(d in c=this.getValues(),c)c.hasOwnProperty(d)&&b.containsKey(d)&&a.set(d,c[d]);return this},setRecord:function(a){a&&a.data&&this.setValues(a.data);this._record=a;return this},onSubmit:function(a){a&&!this.getStandardSubmit()&&a.stopEvent();this.fireAction("submit",[this,this.getValues(!0),a],"doSubmit")},doSubmit:function(a,b,c){c&&c.stopEvent()},onFieldAction:function(a){this.getSubmitOnAction()&&
(a.blur(),this.submit())},submit:function(a){var b=this.element.dom||{},a=Ext.apply({url:this.getUrl()||b.action,submit:!1,method:this.getMethod()||b.method||"post",autoAbort:!1,params:null,waitMsg:null,headers:null,success:null,failure:null},a||{});return this.fireAction("beforesubmit",[this,this.getValues(this.getStandardSubmit()||!a.submitDisabled),a],"doBeforeSubmit")},doBeforeSubmit:function(a,b,c){var d=a.element.dom||{};if(a.getStandardSubmit()){if(c.url&&Ext.isEmpty(d.action))d.action=c.url;
d.method=(c.method||d.method).toLowerCase();d.submit()}else return c.waitMsg&&a.setMasked(c.waitMsg),Ext.Ajax.request({url:c.url,method:c.method,rawData:Ext.urlEncode(Ext.apply(Ext.apply({},a.getBaseParams()||{}),c.params||{},b)),autoAbort:c.autoAbort,headers:Ext.apply({"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},c.headers||{}),scope:a,callback:function(a,b,d){var h=this,i=d.responseText;h.setMasked(!1);a=function(){Ext.isFunction(c.failure)&&c.failure.call(c.scope||h,h,d,i);
h.fireEvent("exception",h,d)};b?(d=Ext.decode(i),(b=!!d.success)?(Ext.isFunction(c.success)&&c.success.call(c.scope||h,h,d,i),h.fireEvent("submit",h,d)):a()):a()}})},setValues:function(a){var b=this.getFields(),c,d,e,a=a||{};for(c in a)a.hasOwnProperty(c)&&(d=b[c],e=a[c],d&&(Ext.isArray(d)?d.forEach(function(b){b.isRadio?b.setGroupValue(e):Ext.isArray(a[c])?b.setChecked(e.indexOf(b.getValue())!=-1):b.setChecked(e==b.getValue())}):d.setChecked?d.setChecked(e):d.setValue(e)));return this},getValues:function(a){var b=
this.getFields(),c={},d=Ext.isArray,e,f,g,h,i,j,k;g=function(b,e){var l;f=b.isCheckbox?b.getSubmitValue():b.getValue();if(!a||!b.getDisabled())b.isRadio?b.isChecked()&&(c[e]=f):(h=c[e])?(d(h)||(h=c[e]=[h]),d(h)?(l=c[e]=h.concat(f),h=l):h.push(f)):c[e]=f};for(i in b)if(b.hasOwnProperty(i))if(e=b[i],d(e)){j=e.length;for(k=0;k<j;k++)g(e[k],i)}else g(e,i);return c},reset:function(){this.getFieldsAsArray().forEach(function(a){a.reset()});return this},enable:function(){this.getFieldsAsArray().forEach(function(a){a.enable()});
return this},disable:function(){this.getFieldsAsArray().forEach(function(a){a.disable()});return this},getFieldsAsArray:function(){var a=[],b=function(c){c.isField&&a.push(c);c.isContainer&&c.getItems().each(b)};this.getItems().each(b);return a},getFields:function(a){var b={},c,d=function(e){if(e.isField&&(c=e.getName(),a&&c==a||typeof a=="undefined"))b.hasOwnProperty(c)?(Ext.isArray(b[c])||(b[c]=[b[c]]),b[c].push(e)):b[c]=e;e.isContainer&&e.items.each(d)};this.getItems().each(d);return a?b[a]||[]:
b},getFieldsArray:function(){var a=[],b=function(c){c.isField&&a.push(c);c.isContainer&&c.items.each(b)};this.items.each(b);return a},getFieldsFromItem:Ext.emptyFn,showMask:function(a){(a=Ext.isObject(a)?a.message:a)?this.setMasked({xtype:"loadmask",message:a}):this.setMasked(!0);return this},hideMask:function(){this.setMasked(!1);return this},getFocusedField:function(){var a=this.getFieldsArray(),b=a.length,c,d;for(d=0;d<b;d++)if(c=a[d],c.isFocused)return c;return null},getNextField:function(){var a=
this.getFieldsArray(),b=this.getFocusedField();return b&&(b=a.indexOf(b),b!==a.length-1)?(b++,a[b]):!1},focusNextField:function(){var a=this.getNextField();return a?(a.focus(),a):!1},getPreviousField:function(){var a=this.getFieldsArray(),b=this.getFocusedField();return b&&(b=a.indexOf(b),b!==0)?(b--,a[b]):!1},focusPreviousField:function(){var a=this.getPreviousField();return a?(a.focus(),a):!1}},function(){Ext.deprecateClassMethod(this,{loadRecord:"setRecord",loadModel:"setRecord",load:"setRecord"});
this.override({constructor:function(a){a&&a.hasOwnProperty("waitMsgTarget")&&delete a.waitMsgTarget;this.callParent([a])}})});Ext.define("Mayfest.view.Map",{extend:"Ext.form.Panel",xtype:"canvasmap",id:"canvasMap",config:{title:"Map",iconCls:"maps",fullscreen:!0,scrollable:!1,layout:{type:"vbox"},html:'<canvas id="canvas"></canvas><div id="cNavCont"><div id="zoomIn" class="cNav plus">+</div><div id="zoomOut" class="cNav minus">&minus;</div></div>'}});
Ext.define("Ext.data.proxy.LocalStorage",{extend:"Ext.data.proxy.WebStorage",alias:"proxy.localstorage",alternateClassName:"Ext.data.LocalStorageProxy",getStorageObject:function(){return window.localStorage}});Ext.define("Mayfest.store.OfflineLocations",{extend:"Ext.data.Store",requires:["Ext.data.proxy.LocalStorage"],config:{model:"Mayfest.model.Location",proxy:{type:"localstorage",id:"offlineLocationsStoreProxy"}}});
Ext.define("Mayfest.store.OfflineAttractions",{extend:"Ext.data.Store",requires:["Ext.data.proxy.LocalStorage"],config:{model:"Mayfest.model.Attraction",proxy:{type:"localstorage",id:"offlineAttractionsStoreProxy"}}});Ext.define("Mayfest.store.OfflineEvents",{extend:"Ext.data.Store",requires:["Ext.data.proxy.LocalStorage"],config:{model:"Mayfest.model.Event",proxy:{type:"localstorage",id:"offlineEventsStoreProxy"}}});
Ext.define("Mayfest.store.OfflineCategories",{extend:"Ext.data.Store",requires:["Ext.data.proxy.LocalStorage"],config:{model:"Mayfest.model.Category",proxy:{type:"localstorage",id:"offlineCategoriesStoreProxy"}}});
Ext.define("Ext.tab.Bar",{extend:"Ext.Toolbar",alternateClassName:"Ext.TabBar",xtype:"tabbar",requires:["Ext.tab.Tab"],config:{baseCls:Ext.baseCSSPrefix+"tabbar",defaultType:"tab",layout:{type:"hbox",align:"middle"}},eventedConfig:{activeTab:null},initialize:function(){this.callParent();this.on({tap:"onTabTap",delegate:"> tab",scope:this})},onTabTap:function(a){this.setActiveTab(a)},applyActiveTab:function(a){if(a||a===0)return a=this.parseActiveTab(a),!a?void 0:a},doSetDocked:function(a){var b=this.getLayout(),
a=a=="bottom"?"center":"left";b.isLayout?b.setPack(a):b.pack=b&&b.pack?b.pack:a},doSetActiveTab:function(a,b){a&&a.setActive(!0);b&&b.setActive(!1)},parseActiveTab:function(a){if(typeof a=="number")return this.getInnerItems()[a];else typeof a=="string"&&(a=Ext.getCmp(a));return a}});
Ext.define("Ext.tab.Panel",{extend:"Ext.Container",xtype:"tabpanel",alternateClassName:"Ext.TabPanel",requires:["Ext.tab.Bar"],config:{ui:"dark",tabBar:!0,tabBarPosition:"top",layout:{type:"card",animation:{type:"slide",direction:"left"}},cls:Ext.baseCSSPrefix+"tabpanel"},delegateListeners:{delegate:"> component",centeredchange:"onItemCenteredChange",dockedchange:"onItemDockedChange",floatingchange:"onItemFloatingChange",disabledchange:"onItemDisabledChange"},initialize:function(){this.callParent();
this.on({order:"before",activetabchange:"doTabChange",delegate:"> tabbar",scope:this})},applyScrollable:function(){return!1},updateUi:function(a,b){this.callParent(arguments);this.initialized&&this.getTabBar().setUi(a)},doSetActiveItem:function(a,b){if(a){var c=this.getInnerItems(),d=c.indexOf(b),c=c.indexOf(a),e=d>c,f=this.getLayout().getAnimation(),g=this.getTabBar(),d=g.parseActiveTab(d),g=g.parseActiveTab(c);f&&f.setReverse&&f.setReverse(e);this.callParent(arguments);c!=-1&&(this.getTabBar().setActiveTab(c),
d&&d.setActive(!1),g&&g.setActive(!0))}},doTabChange:function(a,b){this.setActiveItem(a.indexOf(b))},applyTabBar:function(a){a===!0&&(a={});a&&Ext.applyIf(a,{ui:this.getUi(),docked:this.getTabBarPosition()});return Ext.factory(a,Ext.tab.Bar,this.getTabBar())},updateTabBar:function(a){a&&(this.add(a),this.setTabBarPosition(a.getDocked()))},updateTabBarPosition:function(a){var b=this.getTabBar();b&&b.setDocked(a)},onItemAdd:function(a){if(!a.isInnerItem())return this.callParent(arguments);var b=this.getTabBar(),
c=a.getInitialConfig(),d=c.tab||{},e=c.title,f=c.iconCls,g=c.hidden,h=c.disabled,i=c.badgeText,c=this.getInnerItems().indexOf(a),j=b.getItems(),k=this.getInnerItems(),j=j.length>=k.length&&j.getAt(c);if(e&&!d.title)d.title=e;if(f&&!d.iconCls)d.iconCls=f;if(g&&!d.hidden)d.hidden=g;if(h&&!d.disabled)d.disabled=h;if(i&&!d.badgeText)d.badgeText=i;d=Ext.factory(d,Ext.tab.Tab,j);j||b.insert(c,d);a.tab=d;this.callParent(arguments)},onItemDisabledChange:function(a,b){a&&a.tab&&a.tab.setDisabled(b)},onItemRemove:function(a,
b){this.getTabBar().remove(a.tab,this.getAutoDestroy());this.callParent(arguments)}},function(){Ext.deprecateProperty(this,"tabBarDock","tabBarPosition")});Ext.define("Mayfest.view.EventTabs",{extend:"Ext.tab.Panel",xtype:"eventtabs",id:"eventTabs",alias:"widget.eventtabs",config:{fullscreen:!0,tabBarPosition:"top",title:"Events",iconCls:"star",ui:"mayfest",items:[{xtype:"fieldset",docked:"bottom",items:[{xtype:"selectfield",cls:"catSelect",id:"eventCategorySelect",label:"Category"}]}]}});
Ext.define("Mayfest.view.MainUI",{extend:"Ext.tab.Panel",xtype:"mainui",id:"mainUI",alias:"widget.mainui",config:{fullscreen:!0,tabBarPosition:"bottom",ui:"mayfest",items:[{xtype:"homepanel"},{xtype:"categoriespage"},{xtype:"eventtabs"},{xtype:"canvasmap"}]}});Ext.define("Ext.data.ArrayStore",{extend:"Ext.data.Store",alias:"store.array",uses:["Ext.data.reader.Array"],config:{proxy:{type:"memory",reader:"array"}},loadData:function(a,b){this.callParent([a,b])}},function(){Ext.data.SimpleStore=Ext.data.ArrayStore});
Ext.define("Ext.data.reader.Array",{extend:"Ext.data.reader.Json",alternateClassName:"Ext.data.ArrayReader",alias:"reader.array",config:{totalProperty:void 0,successProperty:void 0},createFieldAccessExpression:function(a,b,c){var d=a.getMapping(),a=d==null?this.getModel().getFields().indexOf(a):d;typeof a==="function"?b=b+".getMapping()("+c+", this)":(isNaN(a)&&(a='"'+a+'"'),b=c+"["+a+"]");return b}});
